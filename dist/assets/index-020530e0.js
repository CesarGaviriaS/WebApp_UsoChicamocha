var fo=Object.defineProperty;var go=(e,t,n)=>t in e?fo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mt=(e,t,n)=>(go(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function se(){}function Xl(e){return e()}function Rn(){return Object.create(null)}function De(e){e.forEach(Xl)}function sn(e){return typeof e=="function"}function Ue(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let Jt;function Zn(e,t){return e===t?!0:(Jt||(Jt=document.createElement("a")),Jt.href=t,e===Jt.href)}function po(e){return Object.keys(e).length===0}function an(e,...t){if(e==null){for(const l of t)l(void 0);return se}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function _t(e){let t;return an(e,n=>t=n)(),t}function dt(e,t,n){e.$$.on_destroy.push(an(t,n))}function Gt(e){return e??""}const mo=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;let un=!1;function ho(){un=!0}function _o(){un=!1}function vo(e,t,n,l){for(;e<t;){const o=e+(t-e>>1);n(o)<=l?e=o+1:t=o}return e}function wo(e){if(e.hydrate_init)return;e.hydrate_init=!0;let t=e.childNodes;if(e.nodeName==="HEAD"){const s=[];for(let a=0;a<t.length;a++){const f=t[a];f.claim_order!==void 0&&s.push(f)}t=s}const n=new Int32Array(t.length+1),l=new Int32Array(t.length);n[0]=-1;let o=0;for(let s=0;s<t.length;s++){const a=t[s].claim_order,f=(o>0&&t[n[o]].claim_order<=a?o+1:vo(1,o,g=>t[n[g]].claim_order,a))-1;l[s]=n[f]+1;const m=f+1;n[m]=s,o=Math.max(m,o)}const r=[],i=[];let c=t.length-1;for(let s=n[o]+1;s!=0;s=l[s-1]){for(r.push(t[s-1]);c>=s;c--)i.push(t[c]);c--}for(;c>=0;c--)i.push(t[c]);r.reverse(),i.sort((s,a)=>s.claim_order-a.claim_order);for(let s=0,a=0;s<i.length;s++){for(;a<r.length&&i[s].claim_order>=r[a].claim_order;)a++;const f=a<r.length?r[a]:null;e.insertBefore(i[s],f)}}function u(e,t){e.appendChild(t)}function bo(e,t){if(un){for(wo(e),(e.actual_end_child===void 0||e.actual_end_child!==null&&e.actual_end_child.parentNode!==e)&&(e.actual_end_child=e.firstChild);e.actual_end_child!==null&&e.actual_end_child.claim_order===void 0;)e.actual_end_child=e.actual_end_child.nextSibling;t!==e.actual_end_child?(t.claim_order!==void 0||t.parentNode!==e)&&e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else(t.parentNode!==e||t.nextSibling!==null)&&e.appendChild(t)}function T(e,t,n){e.insertBefore(t,n||null)}function Co(e,t,n){un&&!n?bo(e,t):(t.parentNode!==e||t.nextSibling!=n)&&e.insertBefore(t,n||null)}function O(e){e.parentNode&&e.parentNode.removeChild(e)}function Kt(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function h(e){return document.createElement(e)}function gt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function B(e){return document.createTextNode(e)}function b(){return B(" ")}function tt(){return B("")}function I(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function Zl(e){return function(t){return t.preventDefault(),e.call(this,t)}}function ot(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function zt(e){return e===""?null:+e}function So(e){return Array.from(e.childNodes)}function ko(e){e.claim_info===void 0&&(e.claim_info={last_index:0,total_claimed:0})}function yo(e,t,n,l,o=!1){ko(e);const r=(()=>{for(let i=e.claim_info.last_index;i<e.length;i++){const c=e[i];if(t(c)){const s=n(c);return s===void 0?e.splice(i,1):e[i]=s,o||(e.claim_info.last_index=i),c}}for(let i=e.claim_info.last_index-1;i>=0;i--){const c=e[i];if(t(c)){const s=n(c);return s===void 0?e.splice(i,1):e[i]=s,o?s===void 0&&e.claim_info.last_index--:e.claim_info.last_index=i,c}}return l()})();return r.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,r}function Ro(e,t){return yo(e,n=>n.nodeType===3,n=>{const l=""+t;if(n.data.startsWith(l)){if(n.data.length!==l.length)return n.splitText(l.length)}else n.data=l},()=>B(t),!0)}function we(e,t){t=""+t,e.data!==t&&(e.data=t)}function Y(e,t){e.value=t??""}function Mn(e,t,n,l){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function vt(e,t,n){for(let l=0;l<e.options.length;l+=1){const o=e.options[l];if(o.__value===t){o.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function nn(e){const t=e.querySelector(":checked");return t&&t.__value}function Oe(e,t,n){e.classList.toggle(t,!!n)}function Mo(e,t,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:l})}class Eo{constructor(t=!1){Mt(this,"is_svg",!1);Mt(this,"e");Mt(this,"n");Mt(this,"t");Mt(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,n,l=null){this.e||(this.is_svg?this.e=gt(n.nodeName):this.e=h(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(t)),this.i(l)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)T(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(O)}}function ln(e,t){return new e(t)}let qt;function It(e){qt=e}function Vn(){if(!qt)throw new Error("Function called outside component initialization");return qt}function Jl(e){Vn().$$.on_mount.push(e)}function Nn(e){Vn().$$.on_destroy.push(e)}function Lt(){const e=Vn();return(t,n,{cancelable:l=!1}={})=>{const o=e.$$.callbacks[t];if(o){const r=Mo(t,n,{cancelable:l});return o.slice().forEach(i=>{i.call(e,r)}),!r.defaultPrevented}return!0}}function at(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(l=>l.call(this,t))}const Vt=[],Jn=[];let Ht=[];const Qn=[],Ao=Promise.resolve();let En=!1;function Fo(){En||(En=!0,Ao.then(Ql))}function Pt(e){Ht.push(e)}const fn=new Set;let Tt=0;function Ql(){if(Tt!==0)return;const e=qt;do{try{for(;Tt<Vt.length;){const t=Vt[Tt];Tt++,It(t),Do(t.$$)}}catch(t){throw Vt.length=0,Tt=0,t}for(It(null),Vt.length=0,Tt=0;Jn.length;)Jn.pop()();for(let t=0;t<Ht.length;t+=1){const n=Ht[t];fn.has(n)||(fn.add(n),n())}Ht.length=0}while(Vt.length);for(;Qn.length;)Qn.pop()();En=!1,fn.clear(),It(e)}function Do(e){if(e.fragment!==null){e.update(),De(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Pt)}}function Io(e){const t=[],n=[];Ht.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),Ht=t}const tn=new Set;let Dt;function Ae(){Dt={r:0,c:[],p:Dt}}function Fe(){Dt.r||De(Dt.c),Dt=Dt.p}function G(e,t){e&&e.i&&(tn.delete(e),e.i(t))}function J(e,t,n,l){if(e&&e.o){if(tn.has(e))return;tn.add(e),Dt.c.push(()=>{tn.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function nt(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Yl(e,t){e.d(1),t.delete(e.key)}function xl(e,t,n,l,o,r,i,c,s,a,f,m){let g=e.length,p=r.length,_=g;const v={};for(;_--;)v[e[_].key]=_;const w=[],S=new Map,C=new Map,k=[];for(_=p;_--;){const E=m(o,r,_),z=n(E);let $=i.get(z);$?l&&k.push(()=>$.p(E,t)):($=a(z,E),$.c()),S.set(z,w[_]=$),z in v&&C.set(z,Math.abs(_-v[z]))}const D=new Set,M=new Set;function V(E){G(E,1),E.m(c,f),i.set(E.key,E),f=E.first,p--}for(;g&&p;){const E=w[p-1],z=e[g-1],$=E.key,W=z.key;E===z?(f=E.first,g--,p--):S.has(W)?!i.has($)||D.has($)?V(E):M.has(W)?g--:C.get($)>C.get(W)?(M.add($),V(E)):(D.add(W),g--):(s(z,i),g--)}for(;g--;){const E=e[g];S.has(E.key)||s(E,i)}for(;p;)V(w[p-1]);return De(k),w}const Po=/[&"<]/g,Lo=/[&<]/g;function Oo(e,t=!1){const n=String(e),l=t?Po:Lo;l.lastIndex=0;let o="",r=0;for(;l.test(n);){const i=l.lastIndex-1,c=n[i];o+=n.substring(r,i)+(c==="&"?"&amp;":c==='"'?"&quot;":"&lt;"),r=i+1}return o+n.substring(r)}function To(e,t){if(!e||!e.$$render)throw t==="svelte:component"&&(t+=" this={...}"),new Error(`<${t}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${t}>.`);return e}let gn;function eo(e){function t(n,l,o,r,i){const c=qt,s={on_destroy:gn,context:new Map(i||(c?c.$$.context:[])),on_mount:[],before_update:[],after_update:[],callbacks:Rn()};It({$$:s});const a=e(n,l,o,r);return It(c),a}return{render:(n={},{$$slots:l={},context:o=new Map}={})=>{gn=[];const r={title:"",head:"",css:new Set},i=t(r,n,{},l,o);return De(gn),{html:i,css:{code:Array.from(r.css).map(c=>c.code).join(`
`),map:null},head:r.title+r.head}},$$render:t}}function Re(e){e&&e.c()}function $o(e,t){e&&e.l(t)}function ke(e,t,n){const{fragment:l,after_update:o}=e.$$;l&&l.m(t,n),Pt(()=>{const r=e.$$.on_mount.map(Xl).filter(sn);e.$$.on_destroy?e.$$.on_destroy.push(...r):De(r),e.$$.on_mount=[]}),o.forEach(Pt)}function ye(e,t){const n=e.$$;n.fragment!==null&&(Io(n.after_update),De(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Vo(e,t){e.$$.dirty[0]===-1&&(Vt.push(e),Fo(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ze(e,t,n,l,o,r,i=null,c=[-1]){const s=qt;It(e);const a=e.$$={fragment:null,ctx:[],props:r,update:se,not_equal:o,bound:Rn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:Rn(),dirty:c,skip_bound:!1,root:t.target||s.$$.root};i&&i(a.root);let f=!1;if(a.ctx=n?n(e,t.props||{},(m,g,...p)=>{const _=p.length?p[0]:g;return a.ctx&&o(a.ctx[m],a.ctx[m]=_)&&(!a.skip_bound&&a.bound[m]&&a.bound[m](_),f&&Vo(e,m)),g}):[],a.update(),f=!0,De(a.before_update),a.fragment=l?l(a.ctx):!1,t.target){if(t.hydrate){ho();const m=So(t.target);a.fragment&&a.fragment.l(m),m.forEach(O)}else a.fragment&&a.fragment.c();t.intro&&G(e.$$.fragment),ke(e,t.target,t.anchor),_o(),Ql()}It(s)}class Be{constructor(){Mt(this,"$$");Mt(this,"$$set")}$destroy(){ye(this,1),this.$destroy=se}$on(t,n){if(!sn(n))return se;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!po(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const No="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(No);var zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},An={exports:{}};/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */(function(e,t){(function(n){var l=n.setTimeout,o=n.clearTimeout,r=n.XMLHttpRequest,i=n.XDomainRequest,c=n.ActiveXObject,s=n.EventSource,a=n.document,f=n.Promise,m=n.fetch,g=n.Response,p=n.TextDecoder,_=n.TextEncoder,v=n.AbortController;if(typeof window<"u"&&typeof a<"u"&&!("readyState"in a)&&a.body==null&&(a.readyState="loading",window.addEventListener("load",function(R){a.readyState="complete"},!1)),r==null&&c!=null&&(r=function(){return new c("Microsoft.XMLHTTP")}),Object.create==null&&(Object.create=function(R){function P(){}return P.prototype=R,new P}),Date.now||(Date.now=function(){return new Date().getTime()}),v==null){var w=m;m=function(R,P){var ee=P.signal;return w(R,{headers:P.headers,credentials:P.credentials,cache:P.cache}).then(function(U){var Z=U.body.getReader();return ee._reader=Z,ee._aborted&&ee._reader.cancel(),{status:U.status,statusText:U.statusText,headers:U.headers,body:{getReader:function(){return Z}}}})},v=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){this.signal._reader!=null&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function S(){this.bitsNeeded=0,this.codePoint=0}S.prototype.decode=function(R){function P(ae,oe,pe){if(pe===1)return ae>=128>>oe&&ae<<oe<=2047;if(pe===2)return ae>=2048>>oe&&ae<<oe<=55295||ae>=57344>>oe&&ae<<oe<=65535;if(pe===3)return ae>=65536>>oe&&ae<<oe<=1114111;throw new Error}function ee(ae,oe){if(ae===6*1)return oe>>6>15?3:oe>31?2:1;if(ae===6*2)return oe>15?3:2;if(ae===6*3)return 3;throw new Error}for(var U=65533,Z="",te=this.bitsNeeded,be=this.codePoint,Me=0;Me<R.length;Me+=1){var q=R[Me];te!==0&&(q<128||q>191||!P(be<<6|q&63,te-6,ee(te,be)))&&(te=0,be=U,Z+=String.fromCharCode(be)),te===0?(q>=0&&q<=127?(te=0,be=q):q>=192&&q<=223?(te=6*1,be=q&31):q>=224&&q<=239?(te=6*2,be=q&15):q>=240&&q<=247?(te=6*3,be=q&7):(te=0,be=U),te!==0&&!P(be,te,ee(te,be))&&(te=0,be=U)):(te-=6,be=be<<6|q&63),te===0&&(be<=65535?Z+=String.fromCharCode(be):(Z+=String.fromCharCode(55296+(be-65535-1>>10)),Z+=String.fromCharCode(56320+(be-65535-1&1023))))}return this.bitsNeeded=te,this.codePoint=be,Z};var C=function(){try{return new p().decode(new _().encode("test"),{stream:!0})==="test"}catch(R){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+R)}return!1};(p==null||_==null||!C())&&(p=S);var k=function(){};function D(R){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=k,this.onload=k,this.onerror=k,this.onreadystatechange=k,this._contentType="",this._xhr=R,this._sendTimeout=0,this._abort=k}D.prototype.open=function(R,P){this._abort(!0);var ee=this,U=this._xhr,Z=1,te=0;this._abort=function(pe){ee._sendTimeout!==0&&(o(ee._sendTimeout),ee._sendTimeout=0),(Z===1||Z===2||Z===3)&&(Z=4,U.onload=k,U.onerror=k,U.onabort=k,U.onprogress=k,U.onreadystatechange=k,U.abort(),te!==0&&(o(te),te=0),pe||(ee.readyState=4,ee.onabort(null),ee.onreadystatechange())),Z=0};var be=function(){if(Z===1){var pe=0,Ie="",Ye=void 0;if("contentType"in U)pe=200,Ie="OK",Ye=U.contentType;else try{pe=U.status,Ie=U.statusText,Ye=U.getResponseHeader("Content-Type")}catch{pe=0,Ie="",Ye=void 0}pe!==0&&(Z=2,ee.readyState=2,ee.status=pe,ee.statusText=Ie,ee._contentType=Ye,ee.onreadystatechange())}},Me=function(){if(be(),Z===2||Z===3){Z=3;var pe="";try{pe=U.responseText}catch{}ee.readyState=3,ee.responseText=pe,ee.onprogress()}},q=function(pe,Ie){if((Ie==null||Ie.preventDefault==null)&&(Ie={preventDefault:k}),Me(),Z===1||Z===2||Z===3){if(Z=4,te!==0&&(o(te),te=0),ee.readyState=4,pe==="load")ee.onload(Ie);else if(pe==="error")ee.onerror(Ie);else if(pe==="abort")ee.onabort(Ie);else throw new TypeError;ee.onreadystatechange()}},ae=function(pe){U!=null&&(U.readyState===4?(!("onload"in U)||!("onerror"in U)||!("onabort"in U))&&q(U.responseText===""?"error":"load",pe):U.readyState===3?"onprogress"in U||Me():U.readyState===2&&be())},oe=function(){te=l(function(){oe()},500),U.readyState===3&&Me()};"onload"in U&&(U.onload=function(pe){q("load",pe)}),"onerror"in U&&(U.onerror=function(pe){q("error",pe)}),"onabort"in U&&(U.onabort=function(pe){q("abort",pe)}),"onprogress"in U&&(U.onprogress=Me),"onreadystatechange"in U&&(U.onreadystatechange=function(pe){ae(pe)}),("contentType"in U||!("ontimeout"in r.prototype))&&(P+=(P.indexOf("?")===-1?"?":"&")+"padding=true"),U.open(R,P,!0),"readyState"in U&&(te=l(function(){oe()},0))},D.prototype.abort=function(){this._abort(!1)},D.prototype.getResponseHeader=function(R){return this._contentType},D.prototype.setRequestHeader=function(R,P){var ee=this._xhr;"setRequestHeader"in ee&&ee.setRequestHeader(R,P)},D.prototype.getAllResponseHeaders=function(){return this._xhr.getAllResponseHeaders!=null&&this._xhr.getAllResponseHeaders()||""},D.prototype.send=function(){if((!("ontimeout"in r.prototype)||!("sendAsBinary"in r.prototype)&&!("mozAnon"in r.prototype))&&a!=null&&a.readyState!=null&&a.readyState!=="complete"){var R=this;R._sendTimeout=l(function(){R._sendTimeout=0,R.send()},4);return}var P=this._xhr;"withCredentials"in P&&(P.withCredentials=this.withCredentials);try{P.send(void 0)}catch(ee){throw ee}};function M(R){return R.replace(/[A-Z]/g,function(P){return String.fromCharCode(P.charCodeAt(0)+32)})}function V(R){for(var P=Object.create(null),ee=R.split(`\r
`),U=0;U<ee.length;U+=1){var Z=ee[U],te=Z.split(": "),be=te.shift(),Me=te.join(": ");P[M(be)]=Me}this._map=P}V.prototype.get=function(R){return this._map[M(R)]},r!=null&&r.HEADERS_RECEIVED==null&&(r.HEADERS_RECEIVED=2);function E(){}E.prototype.open=function(R,P,ee,U,Z,te,be){R.open("GET",Z);var Me=0;R.onprogress=function(){var ae=R.responseText,oe=ae.slice(Me);Me+=oe.length,ee(oe)},R.onerror=function(ae){ae.preventDefault(),U(new Error("NetworkError"))},R.onload=function(){U(null)},R.onabort=function(){U(null)},R.onreadystatechange=function(){if(R.readyState===r.HEADERS_RECEIVED){var ae=R.status,oe=R.statusText,pe=R.getResponseHeader("Content-Type"),Ie=R.getAllResponseHeaders();P(ae,oe,pe,new V(Ie))}},R.withCredentials=te;for(var q in be)Object.prototype.hasOwnProperty.call(be,q)&&R.setRequestHeader(q,be[q]);return R.send(),R};function z(R){this._headers=R}z.prototype.get=function(R){return this._headers.get(R)};function $(){}$.prototype.open=function(R,P,ee,U,Z,te,be){var Me=null,q=new v,ae=q.signal,oe=new p;return m(Z,{headers:be,credentials:te?"include":"same-origin",signal:ae,cache:"no-store"}).then(function(pe){return Me=pe.body.getReader(),P(pe.status,pe.statusText,pe.headers.get("Content-Type"),new z(pe.headers)),new f(function(Ie,Ye){var yt=function(){Me.read().then(function(Le){if(Le.done)Ie(void 0);else{var qe=oe.decode(Le.value,{stream:!0});ee(qe),yt()}}).catch(function(Le){Ye(Le)})};yt()})}).catch(function(pe){if(pe.name!=="AbortError")return pe}).then(function(pe){U(pe)}),{abort:function(){Me!=null&&Me.cancel(),q.abort()}}};function W(){this._listeners=Object.create(null)}function x(R){l(function(){throw R},0)}W.prototype.dispatchEvent=function(R){R.target=this;var P=this._listeners[R.type];if(P!=null)for(var ee=P.length,U=0;U<ee;U+=1){var Z=P[U];try{typeof Z.handleEvent=="function"?Z.handleEvent(R):Z.call(this,R)}catch(te){x(te)}}},W.prototype.addEventListener=function(R,P){R=String(R);var ee=this._listeners,U=ee[R];U==null&&(U=[],ee[R]=U);for(var Z=!1,te=0;te<U.length;te+=1)U[te]===P&&(Z=!0);Z||U.push(P)},W.prototype.removeEventListener=function(R,P){R=String(R);var ee=this._listeners,U=ee[R];if(U!=null){for(var Z=[],te=0;te<U.length;te+=1)U[te]!==P&&Z.push(U[te]);Z.length===0?delete ee[R]:ee[R]=Z}};function j(R){this.type=R,this.target=void 0}function Q(R,P){j.call(this,R),this.data=P.data,this.lastEventId=P.lastEventId}Q.prototype=Object.create(j.prototype);function ue(R,P){j.call(this,R),this.status=P.status,this.statusText=P.statusText,this.headers=P.headers}ue.prototype=Object.create(j.prototype);function ce(R,P){j.call(this,R),this.error=P.error}ce.prototype=Object.create(j.prototype);var me=-1,N=0,X=1,ge=2,re=-1,A=0,y=1,F=2,L=3,ie=/^text\/event\-stream(;.*)?$/i,H=1e3,le=18e6,Ce=function(R,P){var ee=R==null?P:parseInt(R,10);return ee!==ee&&(ee=P),ne(ee)},ne=function(R){return Math.min(Math.max(R,H),le)},fe=function(R,P,ee){try{typeof P=="function"&&P.call(R,ee)}catch(U){x(U)}};function K(R,P){W.call(this),P=P||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,Ge(this,R,P)}function de(){return r!=null&&"withCredentials"in r.prototype||i==null?new r:new i}var Se=m!=null&&g!=null&&"body"in g.prototype;function Ge(R,P,ee){P=String(P);var U=!!ee.withCredentials,Z=ee.lastEventIdQueryParameterName||"lastEventId",te=ne(1e3),be=Ce(ee.heartbeatTimeout,45e3),Me="",q=te,ae=!1,oe=0,pe=ee.headers||{},Ie=ee.Transport,Ye=Se&&Ie==null?void 0:new D(Ie!=null?new Ie:de()),yt=Ie!=null&&typeof Ie!="string"?new Ie:Ye==null?new $:new E,Le=void 0,qe=0,We=me,xe="",Ft="",rt="",wt="",je=A,it=0,pt=0,ut=function($e,Pe,Je,Ne){if(We===N)if($e===200&&Je!=null&&ie.test(Je)){We=X,ae=Date.now(),q=te,R.readyState=X;var Ve=new ue("open",{status:$e,statusText:Pe,headers:Ne});R.dispatchEvent(Ve),fe(R,R.onopen,Ve)}else{var ze="";$e!==200?(Pe&&(Pe=Pe.replace(/\s+/g," ")),ze="EventSource's response has a status "+$e+" "+Pe+" that is not 200. Aborting the connection."):ze="EventSource's response has a Content-Type specifying an unsupported type: "+(Je==null?"-":Je.replace(/\s+/g," "))+". Aborting the connection.",et();var Ve=new ue("error",{status:$e,statusText:Pe,headers:Ne});R.dispatchEvent(Ve),fe(R,R.onerror,Ve),console.error(ze)}},Ot=function($e){if(We===X){for(var Pe=-1,Je=0;Je<$e.length;Je+=1){var Ne=$e.charCodeAt(Je);(Ne===`
`.charCodeAt(0)||Ne==="\r".charCodeAt(0))&&(Pe=Je)}var Ve=(Pe!==-1?wt:"")+$e.slice(0,Pe+1);wt=(Pe===-1?wt:"")+$e.slice(Pe+1),$e!==""&&(ae=Date.now(),oe+=$e.length);for(var ze=0;ze<Ve.length;ze+=1){var Ne=Ve.charCodeAt(ze);if(je===re&&Ne===`
`.charCodeAt(0))je=A;else if(je===re&&(je=A),Ne==="\r".charCodeAt(0)||Ne===`
`.charCodeAt(0)){if(je!==A){je===y&&(pt=ze+1);var Ke=Ve.slice(it,pt-1),st=Ve.slice(pt+(pt<ze&&Ve.charCodeAt(pt)===" ".charCodeAt(0)?1:0),ze);Ke==="data"?(xe+=`
`,xe+=st):Ke==="id"?Ft=st:Ke==="event"?rt=st:Ke==="retry"?(te=Ce(st,te),q=te):Ke==="heartbeatTimeout"&&(be=Ce(st,be),qe!==0&&(o(qe),qe=l(function(){Rt()},be)))}if(je===A){if(xe!==""){Me=Ft,rt===""&&(rt="message");var ct=new Q(rt,{data:xe.slice(1),lastEventId:Ft});if(R.dispatchEvent(ct),rt==="open"?fe(R,R.onopen,ct):rt==="message"?fe(R,R.onmessage,ct):rt==="error"&&fe(R,R.onerror,ct),We===ge)return}xe="",rt=""}je=Ne==="\r".charCodeAt(0)?re:A}else je===A&&(it=ze,je=y),je===y?Ne===":".charCodeAt(0)&&(pt=ze+1,je=F):je===F&&(je=L)}}},jt=function($e){if(We===X||We===N){We=me,qe!==0&&(o(qe),qe=0),qe=l(function(){Rt()},q),q=ne(Math.min(te*16,q*2)),R.readyState=N;var Pe=new ce("error",{error:$e});R.dispatchEvent(Pe),fe(R,R.onerror,Pe),$e!=null&&console.error($e)}},et=function(){We=ge,Le!=null&&(Le.abort(),Le=void 0),qe!==0&&(o(qe),qe=0),R.readyState=ge},Rt=function(){if(qe=0,We!==me){if(!ae&&Le!=null)jt(new Error("No activity within "+be+" milliseconds. "+(We===N?"No response received.":oe+" chars received.")+" Reconnecting.")),Le!=null&&(Le.abort(),Le=void 0);else{var $e=Math.max((ae||Date.now())+be-Date.now(),1);ae=!1,qe=l(function(){Rt()},$e)}return}ae=!1,oe=0,qe=l(function(){Rt()},be),We=N,xe="",rt="",Ft=Me,wt="",it=0,pt=0,je=A;var Pe=P;if(P.slice(0,5)!=="data:"&&P.slice(0,5)!=="blob:"&&Me!==""){var Je=P.indexOf("?");Pe=Je===-1?P:P.slice(0,Je+1)+P.slice(Je+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,function(st,ct){return ct===Z?"":st}),Pe+=(P.indexOf("?")===-1?"?":"&")+Z+"="+encodeURIComponent(Me)}var Ne=R.withCredentials,Ve={};Ve.Accept="text/event-stream";var ze=R.headers;if(ze!=null)for(var Ke in ze)Object.prototype.hasOwnProperty.call(ze,Ke)&&(Ve[Ke]=ze[Ke]);try{Le=yt.open(Ye,ut,Ot,jt,Pe,Ne,Ve)}catch(st){throw et(),st}};R.url=P,R.readyState=N,R.withCredentials=U,R.headers=pe,R._close=et,Rt()}K.prototype=Object.create(W.prototype),K.prototype.CONNECTING=N,K.prototype.OPEN=X,K.prototype.CLOSED=ge,K.prototype.close=function(){this._close()},K.CONNECTING=N,K.OPEN=X,K.CLOSED=ge,K.prototype.withCredentials=void 0;var Te=s;r!=null&&(s==null||!("withCredentials"in s.prototype))&&(Te=K),function(R){{var P=R(t);P!==void 0&&(e.exports=P)}}(function(R){R.EventSourcePolyfill=K,R.NativeEventSource=s,R.EventSource=Te})})(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:zo:globalThis)})(An,An.exports);var Qt=An.exports;const $t=[];function Fn(e,t){return{subscribe:Ct(e,t).subscribe}}function Ct(e,t=se){let n;const l=new Set;function o(c){if(Ue(e,c)&&(e=c,n)){const s=!$t.length;for(const a of l)a[1](),$t.push(a,e);if(s){for(let a=0;a<$t.length;a+=2)$t[a][0]($t[a+1]);$t.length=0}}}function r(c){o(c(e))}function i(c,s=se){const a=[c,s];return l.add(a),l.size===1&&(n=t(o,r)||se),c(e),()=>{l.delete(a),l.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:i}}function Ho(e,t,n){const l=!Array.isArray(e),o=l?[e]:e;if(!o.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const r=t.length<2;return Fn(n,(i,c)=>{let s=!1;const a=[];let f=0,m=se;const g=()=>{if(f)return;m();const _=t(l?a[0]:a,i,c);r?i(_):m=sn(_)?_:se},p=o.map((_,v)=>an(_,w=>{a[v]=w,f&=~(1<<v),s&&g()},()=>{f|=1<<v}));return s=!0,g(),function(){De(p),m(),s=!1}})}function Uo(e){let t,n,l,o,r,i,c,s,a,f,m,g,p,_;return{c(){t=h("nav"),n=h("button"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-j26j51"><path d="M10,20V14H14V20H19V12H22L12,3L2,12H5V20H10Z"></path></svg> <span class="nav-text svelte-j26j51">Dashboard</span>',l=b(),o=h("button"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-j26j51"><path d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"></path></svg> <span class="nav-text svelte-j26j51">Usuarios</span>',r=b(),i=h("button"),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-j26j51"><path d="M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M12,2L9.5,4.5L6.4,4L5.5,1L2,3.5L3,6.5L1,7.5L2.5,11L4.5,9.5L5,12.5L1.5,15L4,17.5L6.5,16.5L7.5,19L11,20.5L9.5,22.5L12.5,23L15,20.5L17.6,21L18.5,24L22,21.5L21,18.5L23,17.5L21.5,14L19.5,15.5L19,12.5L22.5,10L20,7.5L17.5,8.5L16.5,6L13,4.5L14.5,2.5L11.5,2H12Z"></path></svg> <span class="nav-text svelte-j26j51">Máquinas</span>',c=b(),s=h("button"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-j26j51"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m0 14h-5v-2h5v2m3-4h-8v-2h8v2m0-4h-8V7h8v2z"></path></svg> <span class="nav-text svelte-j26j51">Órdenes</span>',a=b(),f=h("button"),f.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-j26j51"><path d="M6 2H14L20 8V20C20 21.1 19.1 22 18 22H6C4.9 22 4 21.1 4 20V4C4 2.9 4.9 2 6 2Z" fill="none" stroke="currentColor" stroke-width="2"></path><path d="M18 2C18 2 15 6 15 9A3 3 0 0 0 21 9C21 6 18 2 18 2Z" fill="currentColor"></path><path d="M8 11L12 9L16 11V15L12 17L8 15Z" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linejoin="round"></path><circle cx="12" cy="13" r="1.5" fill="none" stroke="currentColor" stroke-width="1.4"></circle></svg> <span class="nav-text svelte-j26j51">Consolidado</span>',m=b(),g=h("button"),g.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="svelte-j26j51"><path d="M12 2C12 2 7 9 7 13A5 5 0 0 0 17 13C17 9 12 2 12 2Z" fill="currentColor"></path></svg> <span class="nav-text svelte-j26j51">Aceites</span>',d(n,"class","nav-item svelte-j26j51"),d(n,"data-view","dashboard"),d(n,"title","Dashboard"),Oe(n,"active",e[0]==="dashboard"),d(o,"class","nav-item svelte-j26j51"),d(o,"data-view","users"),d(o,"title","Gestionar Usuarios"),Oe(o,"active",e[0]==="users"),d(i,"class","nav-item svelte-j26j51"),d(i,"data-view","machines"),d(i,"title","Gestionar Máquinas"),Oe(i,"active",e[0]==="machines"),d(s,"class","nav-item svelte-j26j51"),d(s,"data-view","work-orders"),d(s,"title","Órdenes de Trabajo"),Oe(s,"active",e[0]==="work-orders"),d(f,"class","nav-item svelte-j26j51"),d(f,"data-view","consolidado"),d(f,"title","Consolidado"),Oe(f,"active",e[0]==="consolidado"),d(g,"class","nav-item svelte-j26j51"),d(g,"title","Gestión de Aceites"),Oe(g,"active",e[0]==="oilManagement"),d(t,"class","sidebar svelte-j26j51")},m(v,w){T(v,t,w),u(t,n),u(t,l),u(t,o),u(t,r),u(t,i),u(t,c),u(t,s),u(t,a),u(t,f),u(t,m),u(t,g),p||(_=[I(n,"click",e[2]),I(o,"click",e[3]),I(i,"click",e[4]),I(s,"click",e[5]),I(f,"click",e[6]),I(g,"click",e[7])],p=!0)},p(v,[w]){w&1&&Oe(n,"active",v[0]==="dashboard"),w&1&&Oe(o,"active",v[0]==="users"),w&1&&Oe(i,"active",v[0]==="machines"),w&1&&Oe(s,"active",v[0]==="work-orders"),w&1&&Oe(f,"active",v[0]==="consolidado"),w&1&&Oe(g,"active",v[0]==="oilManagement")},i:se,o:se,d(v){v&&O(t),p=!1,De(_)}}}function Go(e,t,n){let{activeView:l="dashboard"}=t;const o=Lt();function r(g){o("navigate",g)}const i=()=>r("dashboard"),c=()=>r("users"),s=()=>r("machines"),a=()=>r("work-orders"),f=()=>r("consolidado"),m=()=>r("oilManagement");return e.$$set=g=>{"activeView"in g&&n(0,l=g.activeView)},[l,r,i,c,s,a,f,m]}class qo extends Be{constructor(t){super(),Ze(this,t,Go,Uo,Ue,{activeView:0})}}function Yn(e){let t,n,l,o,r,i,c,s,a,f,m,g,p,_,v,w,S,C,k,D,M,V,E,z,$,W,x,j=e[4].asignadoA+"",Q,ue,ce,me,N,X,ge,re;return{c(){t=h("div"),n=h("div"),l=h("h3"),l.textContent="Confirmar Creación",o=b(),r=h("p"),r.textContent="¿Está seguro que desea crear esta orden de trabajo?",i=b(),c=h("div"),s=h("p"),a=h("strong"),a.textContent="Máquina:",f=b(),m=B(e[2]),g=b(),p=h("p"),_=h("strong"),_.textContent="Componente:",v=b(),w=B(e[1]),S=b(),C=h("p"),k=h("strong"),k.textContent="Estado:",D=b(),M=h("span"),V=B(e[3]),z=b(),$=h("p"),W=h("strong"),W.textContent="Asignado a:",x=b(),Q=B(j),ue=b(),ce=h("div"),me=h("button"),me.textContent="Cancelar",N=b(),X=h("button"),X.textContent="Aceptar",d(l,"class","svelte-svdcca"),d(s,"class","svelte-svdcca"),d(p,"class","svelte-svdcca"),d(M,"class",E="status-badge "+on(e[3])+" svelte-svdcca"),d(C,"class","svelte-svdcca"),d($,"class","svelte-svdcca"),d(c,"class","confirmation-details svelte-svdcca"),d(me,"class","btn-cancel svelte-svdcca"),d(X,"class","btn-confirm svelte-svdcca"),d(ce,"class","confirmation-buttons svelte-svdcca"),d(n,"class","confirmation-modal svelte-svdcca"),d(t,"class","confirmation-overlay svelte-svdcca")},m(A,y){T(A,t,y),u(t,n),u(n,l),u(n,o),u(n,r),u(n,i),u(n,c),u(c,s),u(s,a),u(s,f),u(s,m),u(c,g),u(c,p),u(p,_),u(p,v),u(p,w),u(c,S),u(c,C),u(C,k),u(C,D),u(C,M),u(M,V),u(c,z),u(c,$),u($,W),u($,x),u($,Q),u(n,ue),u(n,ce),u(ce,me),u(ce,N),u(ce,X),ge||(re=[I(me,"click",e[8]),I(X,"click",e[7]),I(n,"click",ot(e[12])),I(t,"click",e[8])],ge=!0)},p(A,y){y&4&&we(m,A[2]),y&2&&we(w,A[1]),y&8&&we(V,A[3]),y&8&&E!==(E="status-badge "+on(A[3])+" svelte-svdcca")&&d(M,"class",E),y&16&&j!==(j=A[4].asignadoA+"")&&we(Q,j)},d(A){A&&O(t),ge=!1,De(re)}}}function jo(e){let t,n,l,o,r,i,c,s,a,f,m,g,p,_,v,w,S,C,k,D,M,V,E,z,$,W,x,j,Q,ue,ce,me,N,X,ge,re,A,y,F,L,ie,H,le,Ce,ne,fe,K,de,Se,Ge,Te,R,P,ee,U=e[5]&&Yn(e);return{c(){t=h("div"),n=h("div"),l=h("div"),o=h("h2"),o.textContent="Crear Orden de Trabajo",r=b(),i=h("button"),i.textContent="×",c=b(),s=h("div"),a=h("div"),f=h("div"),f.textContent="Panel Informativo",m=b(),g=h("div"),p=h("p"),_=h("strong"),_.textContent="Máquina:",v=b(),w=B(e[2]),S=b(),C=h("p"),k=h("strong"),k.textContent="Área afectada:",D=b(),M=B(e[1]),V=b(),E=h("p"),z=h("strong"),z.textContent="Estado del área afectada:",$=b(),W=h("span"),x=B(e[3]),Q=b(),ue=h("p"),ce=h("strong"),ce.textContent="Asignado por:",me=b(),N=B(e[0]),X=b(),ge=h("form"),re=h("div"),A=h("label"),A.textContent="Detalles de la Orden de Trabajo:",y=b(),F=h("textarea"),L=b(),ie=h("div"),H=h("div"),le=h("label"),le.textContent="Asignar Tarea A:",Ce=b(),ne=h("input"),fe=b(),K=h("div"),de=h("button"),de.textContent="Cancelar",Se=b(),Ge=h("button"),Ge.textContent="Crear Orden de Trabajo",Te=b(),U&&U.c(),R=tt(),d(o,"class","svelte-svdcca"),d(i,"class","close-btn svelte-svdcca"),d(l,"class","modal-header svelte-svdcca"),d(f,"class","info-panel-header svelte-svdcca"),d(p,"class","svelte-svdcca"),d(C,"class","svelte-svdcca"),d(W,"class",j="status-badge "+on(e[3])+" svelte-svdcca"),d(E,"class","svelte-svdcca"),d(ue,"class","svelte-svdcca"),d(g,"class","info-panel-body svelte-svdcca"),d(a,"class","info-panel svelte-svdcca"),d(A,"for","detalles"),d(A,"class","svelte-svdcca"),d(F,"id","detalles"),d(F,"rows","6"),d(F,"placeholder","Describa en detalle el trabajo a realizar, los procedimientos y las precauciones necesarias..."),d(F,"class","svelte-svdcca"),d(re,"class","form-group full-width svelte-svdcca"),d(le,"for","asignadoA"),d(le,"class","svelte-svdcca"),d(ne,"type","text"),d(ne,"id","asignadoA"),d(ne,"placeholder","Nombre del técnico o equipo"),ne.required=!0,d(ne,"class","svelte-svdcca"),d(H,"class","form-group svelte-svdcca"),d(ie,"class","form-row svelte-svdcca"),d(ge,"class","work-order-form svelte-svdcca"),d(s,"class","modal-body svelte-svdcca"),d(de,"class","btn-cancel svelte-svdcca"),d(Ge,"class","btn-create svelte-svdcca"),d(K,"class","modal-footer svelte-svdcca"),d(n,"class","modal-content svelte-svdcca"),d(t,"class","modal-overlay svelte-svdcca")},m(Z,te){T(Z,t,te),u(t,n),u(n,l),u(l,o),u(l,r),u(l,i),u(n,c),u(n,s),u(s,a),u(a,f),u(a,m),u(a,g),u(g,p),u(p,_),u(p,v),u(p,w),u(g,S),u(g,C),u(C,k),u(C,D),u(C,M),u(g,V),u(g,E),u(E,z),u(E,$),u(E,W),u(W,x),u(g,Q),u(g,ue),u(ue,ce),u(ue,me),u(ue,N),u(s,X),u(s,ge),u(ge,re),u(re,A),u(re,y),u(re,F),Y(F,e[4].detalles),u(ge,L),u(ge,ie),u(ie,H),u(H,le),u(H,Ce),u(H,ne),Y(ne,e[4].asignadoA),u(n,fe),u(n,K),u(K,de),u(K,Se),u(K,Ge),T(Z,Te,te),U&&U.m(Z,te),T(Z,R,te),P||(ee=[I(i,"click",e[9]),I(F,"input",e[14]),I(ne,"input",e[15]),I(ge,"submit",e[6]),I(de,"click",e[9]),I(Ge,"click",e[6]),I(n,"click",ot(e[13])),I(t,"keydown",e[16])],P=!0)},p(Z,[te]){te&4&&we(w,Z[2]),te&2&&we(M,Z[1]),te&8&&we(x,Z[3]),te&8&&j!==(j="status-badge "+on(Z[3])+" svelte-svdcca")&&d(W,"class",j),te&1&&we(N,Z[0]),te&16&&Y(F,Z[4].detalles),te&16&&ne.value!==Z[4].asignadoA&&Y(ne,Z[4].asignadoA),Z[5]?U?U.p(Z,te):(U=Yn(Z),U.c(),U.m(R.parentNode,R)):U&&(U.d(1),U=null)},i:se,o:se,d(Z){Z&&(O(t),O(Te),O(R)),U&&U.d(Z),P=!1,De(ee)}}}function Bo(e){if(!e||typeof e!="string")return"N/A";const t=new Date(e);t.setUTCHours(12);const n=new Date;n.setHours(0,0,0,0);const l=new Date;return l.setMonth(l.getMonth()+2),t<n?"Malo":t<=l?"Regular":"Óptimo"}function on(e){switch(e){case"Óptimo":return"status-optimo";case"Regular":return"status-regular";case"Malo":return"status-malo";default:return"status-unknown"}}function Wo(e,t,n){let{rowData:l=null}=t,{columnDef:o=null}=t,{currentUser:r=""}=t;const i=Lt();let c="",s="",a,f={asignadoA:"",detalles:""},m=!1;function g(M){M.preventDefault(),n(5,m=!0)}function p(){const V=[l.isUnexpected?"Imprevisto":"Inspección",c,a,f.detalles,f.asignadoA].join("|");i("createWorkOrder",{inspectionId:l.id,description:V}),n(5,m=!1)}function _(){n(5,m=!1)}function v(){i("cancel")}function w(M){at.call(this,e,M)}function S(M){at.call(this,e,M)}function C(){f.detalles=this.value,n(4,f)}function k(){f.asignadoA=this.value,n(4,f)}const D=M=>M.key==="Escape"&&v();return e.$$set=M=>{"rowData"in M&&n(10,l=M.rowData),"columnDef"in M&&n(11,o=M.columnDef),"currentUser"in M&&n(0,r=M.currentUser)},e.$$.update=()=>{if(e.$$.dirty&2048&&(o&&o.header?n(1,c=String(o.header).replace(/<br>/g," ")):n(1,c="N/A")),e.$$.dirty&1024&&(l&&l.machine?n(2,s=`${l.machine.name||""} ${l.machine.brand||""} ${l.machine.numInterIdentification||""}`.trim()):n(2,s="No especificada")),e.$$.dirty&3072)if(!l||!o)n(3,a="Desconocido");else{const M=o.accessorKey;M==="expirationDateFireExtinguisher"?n(3,a=Bo(l.expirationDateFireExtinguisher)):n(3,a=l[M]??"Desconocido")}},[r,c,s,a,f,m,g,p,_,v,l,o,w,S,C,k,D]}class Ko extends Be{constructor(t){super(),Ze(this,t,Wo,jo,Ue,{rowData:10,columnDef:11,currentUser:0})}}class Wt extends Error{}Wt.prototype.name="InvalidTokenError";function Xo(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let l=n.charCodeAt(0).toString(16).toUpperCase();return l.length<2&&(l="0"+l),"%"+l}))}function Zo(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Xo(t)}catch{return atob(t)}}function pn(e,t){if(typeof e!="string")throw new Wt("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,l=e.split(".")[n];if(typeof l!="string")throw new Wt(`Invalid token specified: missing part #${n+1}`);let o;try{o=Zo(l)}catch(r){throw new Wt(`Invalid token specified: invalid base64 for part #${n+1} (${r.message})`)}try{return JSON.parse(o)}catch(r){throw new Wt(`Invalid token specified: invalid json for part #${n+1} (${r.message})`)}}const xn="http://localhost:8080";function el(e,t,n){const l=(n.role||"").replace(/[\[\]']+/g,"").replace("ROLE_","");return localStorage.setItem("accessToken",e),t&&localStorage.setItem("refreshToken",t),localStorage.setItem("userName",n.sub),localStorage.setItem("userRole",l),{name:n.sub,role:l}}function mn(){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("userName"),localStorage.removeItem("userRole")}function Jo(){const{subscribe:e,set:t,update:n}=Ct({isAuthenticated:!1,currentUser:null,isRefreshing:!1});async function l(){console.log("Intentando renovar el token de acceso...");const o=localStorage.getItem("refreshToken");if(!o)return n(r=>({...r,isRefreshing:!1})),!1;try{const r=await fetch(`${xn}/api/v1/auth/token/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:o})});if(!r.ok){const f=await r.text();throw new Error(`Failed to refresh token, status: ${r.status}, body: ${f}`)}const i=await r.json();if(!i.accessToken)throw new Error('Invalid refresh response: "accessToken" field missing.');const c=i.accessToken,s=pn(c),a=el(c,o,s);return t({isAuthenticated:!0,currentUser:a,isRefreshing:!1}),!0}catch(r){return console.error("Refresh token failed:",r),mn(),t({isAuthenticated:!1,currentUser:null,isRefreshing:!1}),!1}}return{subscribe:e,login:async(o,r)=>{try{const i=await fetch(`${xn}/api/v1/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:r})});if(!i.ok)throw console.error("Authentication error, Status:",i.status),new Error("Incorrect username or password.");const c=await i.json();if(!c.status||!c.jwt||!c.refreshToken)throw new Error(c.message||"Login failed.");const s=c.jwt,a=c.refreshToken,f=pn(s),m=(f.role||"").replace(/[\[\]']+/g,"").replace("ROLE_","");if(!["ADMIN","MECANIC"].includes(m))return{success:!1,error:"Acceso denegado"};const p=el(s,a,f);return t({isAuthenticated:!0,currentUser:p,isRefreshing:!1}),{success:!0,error:null}}catch(i){return{success:!1,error:i.message}}},logout:()=>{mn(),t({isAuthenticated:!1,currentUser:null,isRefreshing:!1})},checkAuth:async()=>{const o=localStorage.getItem("accessToken");if(console.log("checkAuth: token present:",!!o),!o)return t({isAuthenticated:!1,currentUser:null,isRefreshing:!1}),!1;if(o==="mock-token")return console.log("checkAuth: using mock token for testing"),t({isAuthenticated:!0,currentUser:{name:"Test User",role:"ADMIN"},isRefreshing:!1}),!0;try{const r=pn(o),i=r.exp*1e3<Date.now();if(console.log("checkAuth: token expired:",i),i)return n(s=>({...s,isRefreshing:!0})),console.log("Token de acceso expirado, intentando renovar..."),await l();const c=localStorage.getItem("userRole");return t({isAuthenticated:!0,currentUser:{name:r.sub,role:c},isRefreshing:!1}),!0}catch(r){return console.log("checkAuth: error decoding token:",r),console.log("checkAuth: token value:",o),mn(),t({isAuthenticated:!1,currentUser:null,isRefreshing:!1}),!1}},refreshToken:l}}const Ut=Jo();async function Xe(e,t={}){await Ut.checkAuth();const n=localStorage.getItem("accessToken");if(!n)throw new Error("Sesión no válida. Por favor, inicie sesión de nuevo.");const l={Authorization:`Bearer ${n}`,"Content-Type":"application/json"},o="http://localhost:8080",r=t.version===void 0?"v1":t.version,i=r?`/api/${r}/${e}`:`/api/${e}`,c=await fetch(`${o}${i}`,{...t,headers:{...l,...t.headers}});if(c.status===403)throw new Error("No tiene permisos para realizar esta acción.");const s=await c.text();if(!c.ok)try{const a=JSON.parse(s);throw new Error(a.message||s)}catch{throw new Error(s||`Error ${c.status}: ${c.statusText}`)}if(c.status===204||!s)return null;try{return JSON.parse(s)}catch{throw new Error("La respuesta del servidor no es un JSON válido.")}}const Qo="http://localhost:8080";function Yo(){const{subscribe:e,update:t}=Ct({dashboard:{data:[],totalPages:0,totalElements:0,currentPage:0,pageSize:20},users:[],machines:[],oils:[],workOrders:{data:[],totalPages:0,totalElements:0,currentPage:0,pageSize:20},consolidated:{distrito:[],asociacion:[]},isLoading:!1,error:null}),n=c=>t(s=>({...s,isLoading:c})),l=c=>t(s=>({...s,error:c,isLoading:!1}));async function o(c,s){n(!0);try{const a=await Xe(s),f=(a==null?void 0:a.content)??(a==null?void 0:a.users)??a;return t(m=>({...m,[c]:f,isLoading:!1,error:null})),f}catch(a){throw l(a.message),a}}async function r(c,s,a,f){n(!0);try{const m=await Xe(`${s}?page=${a}&size=${f}`),g={data:m.content,totalPages:m.totalPages,totalElements:m.totalElements,currentPage:m.number,pageSize:m.size};return t(p=>({...p,[c]:g,isLoading:!1,error:null})),g}catch(m){throw l(m.message),m}}const i={fetchDashboardData:(c=0,s=20)=>r("dashboard","inspection",c,s),fetchInspectionImages:async c=>{try{const s=await Xe(`inspection/${c}/images`);return!s||!Array.isArray(s)?[]:s.map(f=>({...f,url:`${Qo.replace(/\/$/,"")}/${f.url.replace(/^\//,"")}`}))}catch(s){throw console.error("Error fetching or processing inspection images:",s),s}},fetchUsers:()=>o("users","user"),createUser:async c=>{const s=await Xe("user",{method:"POST",body:JSON.stringify(c)});t(a=>({...a,users:[...a.users,s]}))},updateUser:async(c,s)=>{const a=_t({subscribe:e}).users.find(g=>g.id===c);if(!a)throw new Error("Usuario no encontrado");const f={id:c,...a,...s},m=await Xe(`user/${c}`,{method:"PUT",body:JSON.stringify(f)});t(g=>({...g,users:g.users.map(p=>p.id===c?m:p)}))},deleteUser:async c=>{await Xe(`user/${c}`,{method:"DELETE"}),t(s=>({...s,users:s.users.filter(a=>a.id!==c)}))},changeUserPassword:async(c,s)=>{await Xe(`user/${c}/change-password`,{method:"PATCH",body:JSON.stringify({id:c,newPassword:s})})},fetchMachines:()=>o("machines","machine"),createMachine:async c=>{const s=await Xe("machine",{method:"POST",body:JSON.stringify(c)});t(a=>({...a,machines:[...a.machines,s]}))},updateMachine:async c=>{const s=await Xe(`machine/${c.id}`,{method:"PUT",body:JSON.stringify(c)});t(a=>({...a,machines:a.machines.map(f=>f.id===c.id?s:f)}))},deleteMachine:async c=>{await Xe(`machine/${c}`,{method:"DELETE"}),t(s=>({...s,machines:s.machines.filter(a=>a.id!==c)}))},fetchMachineCurriculum:async c=>{n(!0);try{const s=await Xe(`curriculum/${c}`);return n(!1),s}catch(s){throw l(s.message),s}},fetchWorkOrders:(c=0,s=20)=>r("workOrders","order/all",c,s),createWorkOrder:async c=>{await Xe("order",{method:"POST",body:JSON.stringify(c)});const s=_t({subscribe:e});i.fetchWorkOrders(s.workOrders.currentPage,s.workOrders.pageSize)},executeWorkOrder:async c=>{await Xe("results/execute",{method:"POST",body:JSON.stringify(c)});const s=_t({subscribe:e});i.fetchWorkOrders(s.workOrders.currentPage,s.workOrders.pageSize)},fetchConsolidadoData:async()=>{n(!0);try{const c=await Xe("oil-changes/consolidated",{version:null}),s=(c==null?void 0:c.content)??c,a={distrito:s.filter(f=>f.machine.belongsTo.toLowerCase()==="distrito"),asociacion:s.filter(f=>f.machine.belongsTo.toLowerCase()==="asociacion")};return t(f=>({...f,consolidated:a,isLoading:!1,error:null})),a}catch(c){throw l(c.message),c}},fetchOils:()=>o("oils","oil/brand"),createOil:async c=>{const s=await Xe("oil/brand",{method:"POST",body:JSON.stringify(c)});t(a=>({...a,oils:[...a.oils,s]}))},updateOil:async(c,s)=>{const a=await Xe(`oil/brand/${c}`,{method:"PUT",body:JSON.stringify(s)});t(f=>({...f,oils:f.oils.map(m=>m.id===c?a:m)}))},deleteOil:async c=>{await Xe(`oil/brand/${c}`,{method:"DELETE"}),t(s=>({...s,oils:s.oils.filter(a=>a.id!==c)}))}};return{subscribe:e,...i}}const ve=Yo();function tl(e){let t,n;return{c(){t=h("div"),n=B(e[2]),d(t,"class","error-message svelte-1wt4srt")},m(l,o){T(l,t,o),u(t,n)},p(l,o){o&4&&we(n,l[2])},d(l){l&&O(t)}}}function xo(e){let t,n,l,o,r,i,c,s,a,f,m,g,p,_,v,w,S,C,k,D=e[3]?"Ingresando...":"Ingresar",M,V,E,z=e[2]&&tl(e);return{c(){t=h("div"),n=h("div"),l=h("div"),l.innerHTML="<h2>Panel de Control - Acceso</h2>",o=b(),r=h("form"),i=h("div"),i.innerHTML='<img src="https://usochicamocha.com.co/wp-content/uploads/2024/02/Usochicamocha-v2.png" alt="Logo de Usochicamocha" class="logo-image svelte-1wt4srt"/>',c=b(),s=h("div"),a=h("label"),a.textContent="Usuario:",f=b(),m=h("input"),g=b(),p=h("div"),_=h("label"),_.textContent="Contraseña:",v=b(),w=h("input"),S=b(),z&&z.c(),C=b(),k=h("button"),M=B(D),d(l,"class","header svelte-1wt4srt"),d(i,"class","logo-header svelte-1wt4srt"),d(a,"for","username"),d(a,"class","svelte-1wt4srt"),d(m,"type","text"),d(m,"id","username"),m.required=!0,d(m,"class","svelte-1wt4srt"),d(s,"class","form-group svelte-1wt4srt"),d(_,"for","password"),d(_,"class","svelte-1wt4srt"),d(w,"type","password"),d(w,"id","password"),w.required=!0,d(w,"class","svelte-1wt4srt"),d(p,"class","form-group svelte-1wt4srt"),d(k,"type","submit"),d(k,"class","login-btn svelte-1wt4srt"),k.disabled=e[3],d(r,"class","login-form svelte-1wt4srt"),d(n,"class","login-box svelte-1wt4srt"),d(t,"class","login-container svelte-1wt4srt")},m($,W){T($,t,W),u(t,n),u(n,l),u(n,o),u(n,r),u(r,i),u(r,c),u(r,s),u(s,a),u(s,f),u(s,m),Y(m,e[0]),u(r,g),u(r,p),u(p,_),u(p,v),u(p,w),Y(w,e[1]),u(r,S),z&&z.m(r,null),u(r,C),u(r,k),u(k,M),V||(E=[I(m,"input",e[5]),I(w,"input",e[6]),I(r,"submit",e[4])],V=!0)},p($,[W]){W&1&&m.value!==$[0]&&Y(m,$[0]),W&2&&w.value!==$[1]&&Y(w,$[1]),$[2]?z?z.p($,W):(z=tl($),z.c(),z.m(r,C)):z&&(z.d(1),z=null),W&8&&D!==(D=$[3]?"Ingresando...":"Ingresar")&&we(M,D),W&8&&(k.disabled=$[3])},i:se,o:se,d($){$&&O(t),z&&z.d(),V=!1,De(E)}}}function er(e,t,n){let l="",o="",r="",i=!1;async function c(f){f.preventDefault(),n(3,i=!0),n(2,r="");try{const m=await Ut.login(l,o);m.success?ve.fetchDashboardData():n(2,r=m.error)}catch(m){n(2,r=m.message)}finally{n(3,i=!1)}}function s(){l=this.value,n(0,l)}function a(){o=this.value,n(1,o)}return[l,o,r,i,c,s,a]}class tr extends Be{constructor(t){super(),Ze(this,t,er,xo,Ue,{})}}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Et(e,t){return typeof e=="function"?e(t):e}function lt(e,t){return n=>{t.setState(l=>({...l,[e]:Et(n,l[e])}))}}function cn(e){return e instanceof Function}function nr(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function lr(e,t){const n=[],l=o=>{o.forEach(r=>{n.push(r);const i=t(r);i!=null&&i.length&&l(i)})};return l(e),n}function he(e,t,n){let l=[],o;return r=>{let i;n.key&&n.debug&&(i=Date.now());const c=e(r);if(!(c.length!==l.length||c.some((f,m)=>l[m]!==f)))return o;l=c;let a;if(n.key&&n.debug&&(a=Date.now()),o=t(...c),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const f=Math.round((Date.now()-i)*100)/100,m=Math.round((Date.now()-a)*100)/100,g=m/16,p=(_,v)=>{for(_=String(_);_.length<v;)_=" "+_;return _};console.info(`%c⏱ ${p(m,5)} /${p(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n==null?void 0:n.key)}return o}}function _e(e,t,n,l){return{debug:()=>{var o;return(o=e==null?void 0:e.debugAll)!=null?o:e[t]},key:!1,onChange:l}}function or(e,t,n,l){const o=()=>{var i;return(i=r.getValue())!=null?i:e.options.renderFallbackValue},r={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(l),renderValue:o,getContext:he(()=>[e,n,t,r],(i,c,s,a)=>({table:i,column:c,row:s,cell:a,getValue:a.getValue,renderValue:a.renderValue}),_e(e.options,"debugCells"))};return e._features.forEach(i=>{i.createCell==null||i.createCell(r,n,t,e)},{}),r}function rr(e,t,n,l){var o,r;const c={...e._getDefaultColumnDef(),...t},s=c.accessorKey;let a=(o=(r=c.id)!=null?r:s?typeof String.prototype.replaceAll=="function"?s.replaceAll(".","_"):s.replace(/\./g,"_"):void 0)!=null?o:typeof c.header=="string"?c.header:void 0,f;if(c.accessorFn?f=c.accessorFn:s&&(s.includes(".")?f=g=>{let p=g;for(const v of s.split(".")){var _;p=(_=p)==null?void 0:_[v]}return p}:f=g=>g[c.accessorKey]),!a)throw new Error;let m={id:`${String(a)}`,accessorFn:f,parent:l,depth:n,columnDef:c,columns:[],getFlatColumns:he(()=>[!0],()=>{var g;return[m,...(g=m.columns)==null?void 0:g.flatMap(p=>p.getFlatColumns())]},_e(e.options,"debugColumns")),getLeafColumns:he(()=>[e._getOrderColumnsFn()],g=>{var p;if((p=m.columns)!=null&&p.length){let _=m.columns.flatMap(v=>v.getLeafColumns());return g(_)}return[m]},_e(e.options,"debugColumns"))};for(const g of e._features)g.createColumn==null||g.createColumn(m,e);return m}const Qe="debugHeaders";function nl(e,t,n){var l;let r={id:(l=n.id)!=null?l:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const i=[],c=s=>{s.subHeaders&&s.subHeaders.length&&s.subHeaders.map(c),i.push(s)};return c(r),i},getContext:()=>({table:e,header:r,column:t})};return e._features.forEach(i=>{i.createHeader==null||i.createHeader(r,e)}),r}const ir={createTable:e=>{e.getHeaderGroups=he(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,l,o)=>{var r,i;const c=(r=l==null?void 0:l.map(m=>n.find(g=>g.id===m)).filter(Boolean))!=null?r:[],s=(i=o==null?void 0:o.map(m=>n.find(g=>g.id===m)).filter(Boolean))!=null?i:[],a=n.filter(m=>!(l!=null&&l.includes(m.id))&&!(o!=null&&o.includes(m.id)));return Yt(t,[...c,...a,...s],e)},_e(e.options,Qe)),e.getCenterHeaderGroups=he(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,l,o)=>(n=n.filter(r=>!(l!=null&&l.includes(r.id))&&!(o!=null&&o.includes(r.id))),Yt(t,n,e,"center")),_e(e.options,Qe)),e.getLeftHeaderGroups=he(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,l)=>{var o;const r=(o=l==null?void 0:l.map(i=>n.find(c=>c.id===i)).filter(Boolean))!=null?o:[];return Yt(t,r,e,"left")},_e(e.options,Qe)),e.getRightHeaderGroups=he(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,l)=>{var o;const r=(o=l==null?void 0:l.map(i=>n.find(c=>c.id===i)).filter(Boolean))!=null?o:[];return Yt(t,r,e,"right")},_e(e.options,Qe)),e.getFooterGroups=he(()=>[e.getHeaderGroups()],t=>[...t].reverse(),_e(e.options,Qe)),e.getLeftFooterGroups=he(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),_e(e.options,Qe)),e.getCenterFooterGroups=he(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),_e(e.options,Qe)),e.getRightFooterGroups=he(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),_e(e.options,Qe)),e.getFlatHeaders=he(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),_e(e.options,Qe)),e.getLeftFlatHeaders=he(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),_e(e.options,Qe)),e.getCenterFlatHeaders=he(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),_e(e.options,Qe)),e.getRightFlatHeaders=he(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),_e(e.options,Qe)),e.getCenterLeafHeaders=he(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var l;return!((l=n.subHeaders)!=null&&l.length)}),_e(e.options,Qe)),e.getLeftLeafHeaders=he(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var l;return!((l=n.subHeaders)!=null&&l.length)}),_e(e.options,Qe)),e.getRightLeafHeaders=he(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var l;return!((l=n.subHeaders)!=null&&l.length)}),_e(e.options,Qe)),e.getLeafHeaders=he(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,l)=>{var o,r,i,c,s,a;return[...(o=(r=t[0])==null?void 0:r.headers)!=null?o:[],...(i=(c=n[0])==null?void 0:c.headers)!=null?i:[],...(s=(a=l[0])==null?void 0:a.headers)!=null?s:[]].map(f=>f.getLeafHeaders()).flat()},_e(e.options,Qe))}};function Yt(e,t,n,l){var o,r;let i=0;const c=function(g,p){p===void 0&&(p=1),i=Math.max(i,p),g.filter(_=>_.getIsVisible()).forEach(_=>{var v;(v=_.columns)!=null&&v.length&&c(_.columns,p+1)},0)};c(e);let s=[];const a=(g,p)=>{const _={depth:p,id:[l,`${p}`].filter(Boolean).join("_"),headers:[]},v=[];g.forEach(w=>{const S=[...v].reverse()[0],C=w.column.depth===_.depth;let k,D=!1;if(C&&w.column.parent?k=w.column.parent:(k=w.column,D=!0),S&&(S==null?void 0:S.column)===k)S.subHeaders.push(w);else{const M=nl(n,k,{id:[l,p,k.id,w==null?void 0:w.id].filter(Boolean).join("_"),isPlaceholder:D,placeholderId:D?`${v.filter(V=>V.column===k).length}`:void 0,depth:p,index:v.length});M.subHeaders.push(w),v.push(M)}_.headers.push(w),w.headerGroup=_}),s.push(_),p>0&&a(v,p-1)},f=t.map((g,p)=>nl(n,g,{depth:i,index:p}));a(f,i-1),s.reverse();const m=g=>g.filter(_=>_.column.getIsVisible()).map(_=>{let v=0,w=0,S=[0];_.subHeaders&&_.subHeaders.length?(S=[],m(_.subHeaders).forEach(k=>{let{colSpan:D,rowSpan:M}=k;v+=D,S.push(M)})):v=1;const C=Math.min(...S);return w=w+C,_.colSpan=v,_.rowSpan=w,{colSpan:v,rowSpan:w}});return m((o=(r=s[0])==null?void 0:r.headers)!=null?o:[]),s}const zn=(e,t,n,l,o,r,i)=>{let c={id:t,index:l,original:n,depth:o,parentId:i,_valuesCache:{},_uniqueValuesCache:{},getValue:s=>{if(c._valuesCache.hasOwnProperty(s))return c._valuesCache[s];const a=e.getColumn(s);if(a!=null&&a.accessorFn)return c._valuesCache[s]=a.accessorFn(c.original,l),c._valuesCache[s]},getUniqueValues:s=>{if(c._uniqueValuesCache.hasOwnProperty(s))return c._uniqueValuesCache[s];const a=e.getColumn(s);if(a!=null&&a.accessorFn)return a.columnDef.getUniqueValues?(c._uniqueValuesCache[s]=a.columnDef.getUniqueValues(c.original,l),c._uniqueValuesCache[s]):(c._uniqueValuesCache[s]=[c.getValue(s)],c._uniqueValuesCache[s])},renderValue:s=>{var a;return(a=c.getValue(s))!=null?a:e.options.renderFallbackValue},subRows:r??[],getLeafRows:()=>lr(c.subRows,s=>s.subRows),getParentRow:()=>c.parentId?e.getRow(c.parentId,!0):void 0,getParentRows:()=>{let s=[],a=c;for(;;){const f=a.getParentRow();if(!f)break;s.push(f),a=f}return s.reverse()},getAllCells:he(()=>[e.getAllLeafColumns()],s=>s.map(a=>or(e,c,a,a.id)),_e(e.options,"debugRows")),_getAllCellsByColumnId:he(()=>[c.getAllCells()],s=>s.reduce((a,f)=>(a[f.column.id]=f,a),{}),_e(e.options,"debugRows"))};for(let s=0;s<e._features.length;s++){const a=e._features[s];a==null||a.createRow==null||a.createRow(c,e)}return c},sr={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},to=(e,t,n)=>{var l,o;const r=n==null||(l=n.toString())==null?void 0:l.toLowerCase();return!!(!((o=e.getValue(t))==null||(o=o.toString())==null||(o=o.toLowerCase())==null)&&o.includes(r))};to.autoRemove=e=>ft(e);const no=(e,t,n)=>{var l;return!!(!((l=e.getValue(t))==null||(l=l.toString())==null)&&l.includes(n))};no.autoRemove=e=>ft(e);const lo=(e,t,n)=>{var l;return((l=e.getValue(t))==null||(l=l.toString())==null?void 0:l.toLowerCase())===(n==null?void 0:n.toLowerCase())};lo.autoRemove=e=>ft(e);const oo=(e,t,n)=>{var l;return(l=e.getValue(t))==null?void 0:l.includes(n)};oo.autoRemove=e=>ft(e);const ro=(e,t,n)=>!n.some(l=>{var o;return!((o=e.getValue(t))!=null&&o.includes(l))});ro.autoRemove=e=>ft(e)||!(e!=null&&e.length);const io=(e,t,n)=>n.some(l=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(l)});io.autoRemove=e=>ft(e)||!(e!=null&&e.length);const so=(e,t,n)=>e.getValue(t)===n;so.autoRemove=e=>ft(e);const ao=(e,t,n)=>e.getValue(t)==n;ao.autoRemove=e=>ft(e);const Hn=(e,t,n)=>{let[l,o]=n;const r=e.getValue(t);return r>=l&&r<=o};Hn.resolveFilterValue=e=>{let[t,n]=e,l=typeof t!="number"?parseFloat(t):t,o=typeof n!="number"?parseFloat(n):n,r=t===null||Number.isNaN(l)?-1/0:l,i=n===null||Number.isNaN(o)?1/0:o;if(r>i){const c=r;r=i,i=c}return[r,i]};Hn.autoRemove=e=>ft(e)||ft(e[0])&&ft(e[1]);const bt={includesString:to,includesStringSensitive:no,equalsString:lo,arrIncludes:oo,arrIncludesAll:ro,arrIncludesSome:io,equals:so,weakEquals:ao,inNumberRange:Hn};function ft(e){return e==null||e===""}const ar={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:lt("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],l=n==null?void 0:n.getValue(e.id);return typeof l=="string"?bt.includesString:typeof l=="number"?bt.inNumberRange:typeof l=="boolean"||l!==null&&typeof l=="object"?bt.equals:Array.isArray(l)?bt.arrIncludes:bt.weakEquals},e.getFilterFn=()=>{var n,l;return cn(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(l=t.options.filterFns)==null?void 0:l[e.columnDef.filterFn])!=null?n:bt[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,l,o;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((l=t.options.enableColumnFilters)!=null?l:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(l=>l.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,l;return(n=(l=t.getState().columnFilters)==null?void 0:l.findIndex(o=>o.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(l=>{const o=e.getFilterFn(),r=l==null?void 0:l.find(f=>f.id===e.id),i=Et(n,r?r.value:void 0);if(ll(o,i,e)){var c;return(c=l==null?void 0:l.filter(f=>f.id!==e.id))!=null?c:[]}const s={id:e.id,value:i};if(r){var a;return(a=l==null?void 0:l.map(f=>f.id===e.id?s:f))!=null?a:[]}return l!=null&&l.length?[...l,s]:[s]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),l=o=>{var r;return(r=Et(t,o))==null?void 0:r.filter(i=>{const c=n.find(s=>s.id===i.id);if(c){const s=c.getFilterFn();if(ll(s,i.value,c))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(l)},e.resetColumnFilters=t=>{var n,l;e.setColumnFilters(t?[]:(n=(l=e.initialState)==null?void 0:l.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function ll(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const ur=(e,t,n)=>n.reduce((l,o)=>{const r=o.getValue(e);return l+(typeof r=="number"?r:0)},0),cr=(e,t,n)=>{let l;return n.forEach(o=>{const r=o.getValue(e);r!=null&&(l>r||l===void 0&&r>=r)&&(l=r)}),l},dr=(e,t,n)=>{let l;return n.forEach(o=>{const r=o.getValue(e);r!=null&&(l<r||l===void 0&&r>=r)&&(l=r)}),l},fr=(e,t,n)=>{let l,o;return n.forEach(r=>{const i=r.getValue(e);i!=null&&(l===void 0?i>=i&&(l=o=i):(l>i&&(l=i),o<i&&(o=i)))}),[l,o]},gr=(e,t)=>{let n=0,l=0;if(t.forEach(o=>{let r=o.getValue(e);r!=null&&(r=+r)>=r&&(++n,l+=r)}),n)return l/n},pr=(e,t)=>{if(!t.length)return;const n=t.map(r=>r.getValue(e));if(!nr(n))return;if(n.length===1)return n[0];const l=Math.floor(n.length/2),o=n.sort((r,i)=>r-i);return n.length%2!==0?o[l]:(o[l-1]+o[l])/2},mr=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),hr=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,_r=(e,t)=>t.length,hn={sum:ur,min:cr,max:dr,extent:fr,mean:gr,median:pr,unique:mr,uniqueCount:hr,count:_r},vr={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:lt("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(l=>l!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,l;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((l=t.options.enableGrouping)!=null?l:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],l=n==null?void 0:n.getValue(e.id);if(typeof l=="number")return hn.sum;if(Object.prototype.toString.call(l)==="[object Date]")return hn.extent},e.getAggregationFn=()=>{var n,l;if(!e)throw new Error;return cn(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(l=t.options.aggregationFns)==null?void 0:l[e.columnDef.aggregationFn])!=null?n:hn[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,l;e.setGrouping(t?[]:(n=(l=e.initialState)==null?void 0:l.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const l=t.getColumn(n);return l!=null&&l.columnDef.getGroupingValue?(e._groupingValuesCache[n]=l.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,l)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}}};function wr(e,t,n){if(!(t!=null&&t.length)||!n)return e;const l=e.filter(r=>!t.includes(r.id));return n==="remove"?l:[...t.map(r=>e.find(i=>i.id===r)).filter(Boolean),...l]}const br={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:lt("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=he(n=>[Xt(t,n)],n=>n.findIndex(l=>l.id===e.id),_e(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var l;return((l=Xt(t,n)[0])==null?void 0:l.id)===e.id},e.getIsLastColumn=n=>{var l;const o=Xt(t,n);return((l=o[o.length-1])==null?void 0:l.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=he(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,l)=>o=>{let r=[];if(!(t!=null&&t.length))r=o;else{const i=[...t],c=[...o];for(;c.length&&i.length;){const s=i.shift(),a=c.findIndex(f=>f.id===s);a>-1&&r.push(c.splice(a,1)[0])}r=[...r,...c]}return wr(r,n,l)},_e(e.options,"debugTable"))}},_n=()=>({left:[],right:[]}),Cr={getInitialState:e=>({columnPinning:_n(),...e}),getDefaultOptions:e=>({onColumnPinningChange:lt("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const l=e.getLeafColumns().map(o=>o.id).filter(Boolean);t.setColumnPinning(o=>{var r,i;if(n==="right"){var c,s;return{left:((c=o==null?void 0:o.left)!=null?c:[]).filter(m=>!(l!=null&&l.includes(m))),right:[...((s=o==null?void 0:o.right)!=null?s:[]).filter(m=>!(l!=null&&l.includes(m))),...l]}}if(n==="left"){var a,f;return{left:[...((a=o==null?void 0:o.left)!=null?a:[]).filter(m=>!(l!=null&&l.includes(m))),...l],right:((f=o==null?void 0:o.right)!=null?f:[]).filter(m=>!(l!=null&&l.includes(m)))}}return{left:((r=o==null?void 0:o.left)!=null?r:[]).filter(m=>!(l!=null&&l.includes(m))),right:((i=o==null?void 0:o.right)!=null?i:[]).filter(m=>!(l!=null&&l.includes(m)))}})},e.getCanPin=()=>e.getLeafColumns().some(l=>{var o,r,i;return((o=l.columnDef.enablePinning)!=null?o:!0)&&((r=(i=t.options.enableColumnPinning)!=null?i:t.options.enablePinning)!=null?r:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(c=>c.id),{left:l,right:o}=t.getState().columnPinning,r=n.some(c=>l==null?void 0:l.includes(c)),i=n.some(c=>o==null?void 0:o.includes(c));return r?"left":i?"right":!1},e.getPinnedIndex=()=>{var n,l;const o=e.getIsPinned();return o?(n=(l=t.getState().columnPinning)==null||(l=l[o])==null?void 0:l.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=he(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,l,o)=>{const r=[...l??[],...o??[]];return n.filter(i=>!r.includes(i.column.id))},_e(t.options,"debugRows")),e.getLeftVisibleCells=he(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,l)=>(l??[]).map(r=>n.find(i=>i.column.id===r)).filter(Boolean).map(r=>({...r,position:"left"})),_e(t.options,"debugRows")),e.getRightVisibleCells=he(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,l)=>(l??[]).map(r=>n.find(i=>i.column.id===r)).filter(Boolean).map(r=>({...r,position:"right"})),_e(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,l;return e.setColumnPinning(t?_n():(n=(l=e.initialState)==null?void 0:l.columnPinning)!=null?n:_n())},e.getIsSomeColumnsPinned=t=>{var n;const l=e.getState().columnPinning;if(!t){var o,r;return!!((o=l.left)!=null&&o.length||(r=l.right)!=null&&r.length)}return!!((n=l[t])!=null&&n.length)},e.getLeftLeafColumns=he(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(l=>t.find(o=>o.id===l)).filter(Boolean),_e(e.options,"debugColumns")),e.getRightLeafColumns=he(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(l=>t.find(o=>o.id===l)).filter(Boolean),_e(e.options,"debugColumns")),e.getCenterLeafColumns=he(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,l)=>{const o=[...n??[],...l??[]];return t.filter(r=>!o.includes(r.id))},_e(e.options,"debugColumns"))}};function Sr(e){return e||(typeof document<"u"?document:null)}const xt={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},vn=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),kr={getDefaultColumnDef:()=>xt,getInitialState:e=>({columnSizing:{},columnSizingInfo:vn(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:lt("columnSizing",e),onColumnSizingInfoChange:lt("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,l,o;const r=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:xt.minSize,(l=r??e.columnDef.size)!=null?l:xt.size),(o=e.columnDef.maxSize)!=null?o:xt.maxSize)},e.getStart=he(n=>[n,Xt(t,n),t.getState().columnSizing],(n,l)=>l.slice(0,e.getIndex(n)).reduce((o,r)=>o+r.getSize(),0),_e(t.options,"debugColumns")),e.getAfter=he(n=>[n,Xt(t,n),t.getState().columnSizing],(n,l)=>l.slice(e.getIndex(n)+1).reduce((o,r)=>o+r.getSize(),0),_e(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:l,...o}=n;return o})},e.getCanResize=()=>{var n,l;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((l=t.options.enableColumnResizing)!=null?l:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const l=o=>{if(o.subHeaders.length)o.subHeaders.forEach(l);else{var r;n+=(r=o.column.getSize())!=null?r:0}};return l(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const l=t.getColumn(e.column.id),o=l==null?void 0:l.getCanResize();return r=>{if(!l||!o||(r.persist==null||r.persist(),wn(r)&&r.touches&&r.touches.length>1))return;const i=e.getSize(),c=e?e.getLeafHeaders().map(S=>[S.column.id,S.column.getSize()]):[[l.id,l.getSize()]],s=wn(r)?Math.round(r.touches[0].clientX):r.clientX,a={},f=(S,C)=>{typeof C=="number"&&(t.setColumnSizingInfo(k=>{var D,M;const V=t.options.columnResizeDirection==="rtl"?-1:1,E=(C-((D=k==null?void 0:k.startOffset)!=null?D:0))*V,z=Math.max(E/((M=k==null?void 0:k.startSize)!=null?M:0),-.999999);return k.columnSizingStart.forEach($=>{let[W,x]=$;a[W]=Math.round(Math.max(x+x*z,0)*100)/100}),{...k,deltaOffset:E,deltaPercentage:z}}),(t.options.columnResizeMode==="onChange"||S==="end")&&t.setColumnSizing(k=>({...k,...a})))},m=S=>f("move",S),g=S=>{f("end",S),t.setColumnSizingInfo(C=>({...C,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},p=Sr(n),_={moveHandler:S=>m(S.clientX),upHandler:S=>{p==null||p.removeEventListener("mousemove",_.moveHandler),p==null||p.removeEventListener("mouseup",_.upHandler),g(S.clientX)}},v={moveHandler:S=>(S.cancelable&&(S.preventDefault(),S.stopPropagation()),m(S.touches[0].clientX),!1),upHandler:S=>{var C;p==null||p.removeEventListener("touchmove",v.moveHandler),p==null||p.removeEventListener("touchend",v.upHandler),S.cancelable&&(S.preventDefault(),S.stopPropagation()),g((C=S.touches[0])==null?void 0:C.clientX)}},w=yr()?{passive:!1}:!1;wn(r)?(p==null||p.addEventListener("touchmove",v.moveHandler,w),p==null||p.addEventListener("touchend",v.upHandler,w)):(p==null||p.addEventListener("mousemove",_.moveHandler,w),p==null||p.addEventListener("mouseup",_.upHandler,w)),t.setColumnSizingInfo(S=>({...S,startOffset:s,startSize:i,deltaOffset:0,deltaPercentage:0,columnSizingStart:c,isResizingColumn:l.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?vn():(n=e.initialState.columnSizingInfo)!=null?n:vn())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((l,o)=>l+o.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((l,o)=>l+o.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((l,o)=>l+o.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((l,o)=>l+o.getSize(),0))!=null?t:0}}};let en=null;function yr(){if(typeof en=="boolean")return en;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return en=e,en}function wn(e){return e.type==="touchstart"}const Rr={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:lt("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(l=>({...l,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,l;const o=e.columns;return(n=o.length?o.some(r=>r.getIsVisible()):(l=t.getState().columnVisibility)==null?void 0:l[e.id])!=null?n:!0},e.getCanHide=()=>{var n,l;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((l=t.options.enableHiding)!=null?l:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=he(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(l=>l.column.getIsVisible()),_e(t.options,"debugRows")),e.getVisibleCells=he(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,l,o)=>[...n,...l,...o],_e(t.options,"debugRows"))},createTable:e=>{const t=(n,l)=>he(()=>[l(),l().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(r=>r.getIsVisible==null?void 0:r.getIsVisible()),_e(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var l;e.setColumnVisibility(n?{}:(l=e.initialState.columnVisibility)!=null?l:{})},e.toggleAllColumnsVisible=n=>{var l;n=(l=n)!=null?l:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,r)=>({...o,[r.id]:n||!(r.getCanHide!=null&&r.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var l;e.toggleAllColumnsVisible((l=n.target)==null?void 0:l.checked)}}};function Xt(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Mr={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Er={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:lt("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const l=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof l=="string"||typeof l=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,l,o,r;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((l=t.options.enableGlobalFilter)!=null?l:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&((r=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?r:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>bt.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:l}=e.options;return cn(l)?l:l==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[l])!=null?t:bt[l]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Ar={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:lt("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var l,o;if(!t){e._queue(()=>{t=!0});return}if((l=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?l:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=l=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(l),e.toggleAllRowsExpanded=l=>{l??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=l=>{var o,r;e.setExpanded(l?{}:(o=(r=e.initialState)==null?void 0:r.expanded)!=null?o:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(l=>l.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>l=>{l.persist==null||l.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const l=e.getState().expanded;return l===!0||Object.values(l).some(Boolean)},e.getIsAllRowsExpanded=()=>{const l=e.getState().expanded;return typeof l=="boolean"?l===!0:!(!Object.keys(l).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},e.getExpandedDepth=()=>{let l=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(r=>{const i=r.split(".");l=Math.max(l,i.length)}),l},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(l=>{var o;const r=l===!0?!0:!!(l!=null&&l[e.id]);let i={};if(l===!0?Object.keys(t.getRowModel().rowsById).forEach(c=>{i[c]=!0}):i=l,n=(o=n)!=null?o:!r,!r&&n)return{...i,[e.id]:!0};if(r&&!n){const{[e.id]:c,...s}=i;return s}return l})},e.getIsExpanded=()=>{var n;const l=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:l===!0||l!=null&&l[e.id])},e.getCanExpand=()=>{var n,l,o;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((l=t.options.enableExpanding)!=null?l:!0)&&!!((o=e.subRows)!=null&&o.length)},e.getIsAllParentsExpanded=()=>{let n=!0,l=e;for(;n&&l.parentId;)l=t.getRow(l.parentId,!0),n=l.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Dn=0,In=10,bn=()=>({pageIndex:Dn,pageSize:In}),Fr={getInitialState:e=>({...e,pagination:{...bn(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:lt("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var l,o;if(!t){e._queue(()=>{t=!0});return}if((l=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?l:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=l=>{const o=r=>Et(l,r);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},e.resetPagination=l=>{var o;e.setPagination(l?bn():(o=e.initialState.pagination)!=null?o:bn())},e.setPageIndex=l=>{e.setPagination(o=>{let r=Et(l,o.pageIndex);const i=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,i)),{...o,pageIndex:r}})},e.resetPageIndex=l=>{var o,r;e.setPageIndex(l?Dn:(o=(r=e.initialState)==null||(r=r.pagination)==null?void 0:r.pageIndex)!=null?o:Dn)},e.resetPageSize=l=>{var o,r;e.setPageSize(l?In:(o=(r=e.initialState)==null||(r=r.pagination)==null?void 0:r.pageSize)!=null?o:In)},e.setPageSize=l=>{e.setPagination(o=>{const r=Math.max(1,Et(l,o.pageSize)),i=o.pageSize*o.pageIndex,c=Math.floor(i/r);return{...o,pageIndex:c,pageSize:r}})},e.setPageCount=l=>e.setPagination(o=>{var r;let i=Et(l,(r=e.options.pageCount)!=null?r:-1);return typeof i=="number"&&(i=Math.max(-1,i)),{...o,pageCount:i}}),e.getPageOptions=he(()=>[e.getPageCount()],l=>{let o=[];return l&&l>0&&(o=[...new Array(l)].fill(null).map((r,i)=>i)),o},_e(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:l}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:l<o-1},e.previousPage=()=>e.setPageIndex(l=>l-1),e.nextPage=()=>e.setPageIndex(l=>l+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var l;return(l=e.options.pageCount)!=null?l:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var l;return(l=e.options.rowCount)!=null?l:e.getPrePaginationRowModel().rows.length}}},Cn=()=>({top:[],bottom:[]}),Dr={getInitialState:e=>({rowPinning:Cn(),...e}),getDefaultOptions:e=>({onRowPinningChange:lt("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,l,o)=>{const r=l?e.getLeafRows().map(s=>{let{id:a}=s;return a}):[],i=o?e.getParentRows().map(s=>{let{id:a}=s;return a}):[],c=new Set([...i,e.id,...r]);t.setRowPinning(s=>{var a,f;if(n==="bottom"){var m,g;return{top:((m=s==null?void 0:s.top)!=null?m:[]).filter(v=>!(c!=null&&c.has(v))),bottom:[...((g=s==null?void 0:s.bottom)!=null?g:[]).filter(v=>!(c!=null&&c.has(v))),...Array.from(c)]}}if(n==="top"){var p,_;return{top:[...((p=s==null?void 0:s.top)!=null?p:[]).filter(v=>!(c!=null&&c.has(v))),...Array.from(c)],bottom:((_=s==null?void 0:s.bottom)!=null?_:[]).filter(v=>!(c!=null&&c.has(v)))}}return{top:((a=s==null?void 0:s.top)!=null?a:[]).filter(v=>!(c!=null&&c.has(v))),bottom:((f=s==null?void 0:s.bottom)!=null?f:[]).filter(v=>!(c!=null&&c.has(v)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:l,enablePinning:o}=t.options;return typeof l=="function"?l(e):(n=l??o)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:l,bottom:o}=t.getState().rowPinning,r=n.some(c=>l==null?void 0:l.includes(c)),i=n.some(c=>o==null?void 0:o.includes(c));return r?"top":i?"bottom":!1},e.getPinnedIndex=()=>{var n,l;const o=e.getIsPinned();if(!o)return-1;const r=(n=o==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(i=>{let{id:c}=i;return c});return(l=r==null?void 0:r.indexOf(e.id))!=null?l:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,l;return e.setRowPinning(t?Cn():(n=(l=e.initialState)==null?void 0:l.rowPinning)!=null?n:Cn())},e.getIsSomeRowsPinned=t=>{var n;const l=e.getState().rowPinning;if(!t){var o,r;return!!((o=l.top)!=null&&o.length||(r=l.bottom)!=null&&r.length)}return!!((n=l[t])!=null&&n.length)},e._getPinnedRows=(t,n,l)=>{var o;return((o=e.options.keepPinnedRows)==null||o?(n??[]).map(i=>{const c=e.getRow(i,!0);return c.getIsAllParentsExpanded()?c:null}):(n??[]).map(i=>t.find(c=>c.id===i))).filter(Boolean).map(i=>({...i,position:l}))},e.getTopRows=he(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),_e(e.options,"debugRows")),e.getBottomRows=he(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),_e(e.options,"debugRows")),e.getCenterRows=he(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,l)=>{const o=new Set([...n??[],...l??[]]);return t.filter(r=>!o.has(r.id))},_e(e.options,"debugRows"))}},Ir={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:lt("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const l={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach(r=>{r.getCanSelect()&&(l[r.id]=!0)}):o.forEach(r=>{delete l[r.id]}),l})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const l=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach(r=>{Pn(o,r.id,l,!0,e)}),o}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=he(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Sn(e,n):{rows:[],flatRows:[],rowsById:{}},_e(e.options,"debugTable")),e.getFilteredSelectedRowModel=he(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Sn(e,n):{rows:[],flatRows:[],rowsById:{}},_e(e.options,"debugTable")),e.getGroupedSelectedRowModel=he(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Sn(e,n):{rows:[],flatRows:[],rowsById:{}},_e(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let l=!!(t.length&&Object.keys(n).length);return l&&t.some(o=>o.getCanSelect()&&!n[o.id])&&(l=!1),l},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=e.getState();let l=!!t.length;return l&&t.some(o=>!n[o.id])&&(l=!1),l},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,l)=>{const o=e.getIsSelected();t.setRowSelection(r=>{var i;if(n=typeof n<"u"?n:!o,e.getCanSelect()&&o===n)return r;const c={...r};return Pn(c,e.id,n,(i=l==null?void 0:l.selectChildren)!=null?i:!0,t),c})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Un(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return Ln(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return Ln(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return l=>{var o;n&&e.toggleSelected((o=l.target)==null?void 0:o.checked)}}}},Pn=(e,t,n,l,o)=>{var r;const i=o.getRow(t,!0);n?(i.getCanMultiSelect()||Object.keys(e).forEach(c=>delete e[c]),i.getCanSelect()&&(e[t]=!0)):delete e[t],l&&(r=i.subRows)!=null&&r.length&&i.getCanSelectSubRows()&&i.subRows.forEach(c=>Pn(e,c.id,n,l,o))};function Sn(e,t){const n=e.getState().rowSelection,l=[],o={},r=function(i,c){return i.map(s=>{var a;const f=Un(s,n);if(f&&(l.push(s),o[s.id]=s),(a=s.subRows)!=null&&a.length&&(s={...s,subRows:r(s.subRows)}),f)return s}).filter(Boolean)};return{rows:r(t.rows),flatRows:l,rowsById:o}}function Un(e,t){var n;return(n=t[e.id])!=null?n:!1}function Ln(e,t,n){var l;if(!((l=e.subRows)!=null&&l.length))return!1;let o=!0,r=!1;return e.subRows.forEach(i=>{if(!(r&&!o)&&(i.getCanSelect()&&(Un(i,t)?r=!0:o=!1),i.subRows&&i.subRows.length)){const c=Ln(i,t);c==="all"?r=!0:(c==="some"&&(r=!0),o=!1)}}),o?"all":r?"some":!1}const On=/([0-9]+)/gm,Pr=(e,t,n)=>uo(At(e.getValue(n)).toLowerCase(),At(t.getValue(n)).toLowerCase()),Lr=(e,t,n)=>uo(At(e.getValue(n)),At(t.getValue(n))),Or=(e,t,n)=>Gn(At(e.getValue(n)).toLowerCase(),At(t.getValue(n)).toLowerCase()),Tr=(e,t,n)=>Gn(At(e.getValue(n)),At(t.getValue(n))),$r=(e,t,n)=>{const l=e.getValue(n),o=t.getValue(n);return l>o?1:l<o?-1:0},Vr=(e,t,n)=>Gn(e.getValue(n),t.getValue(n));function Gn(e,t){return e===t?0:e>t?1:-1}function At(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function uo(e,t){const n=e.split(On).filter(Boolean),l=t.split(On).filter(Boolean);for(;n.length&&l.length;){const o=n.shift(),r=l.shift(),i=parseInt(o,10),c=parseInt(r,10),s=[i,c].sort();if(isNaN(s[0])){if(o>r)return 1;if(r>o)return-1;continue}if(isNaN(s[1]))return isNaN(i)?-1:1;if(i>c)return 1;if(c>i)return-1}return n.length-l.length}const Bt={alphanumeric:Pr,alphanumericCaseSensitive:Lr,text:Or,textCaseSensitive:Tr,datetime:$r,basic:Vr},Nr={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:lt("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let l=!1;for(const o of n){const r=o==null?void 0:o.getValue(e.id);if(Object.prototype.toString.call(r)==="[object Date]")return Bt.datetime;if(typeof r=="string"&&(l=!0,r.split(On).length>1))return Bt.alphanumeric}return l?Bt.text:Bt.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,l;if(!e)throw new Error;return cn(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(l=t.options.sortingFns)==null?void 0:l[e.columnDef.sortingFn])!=null?n:Bt[e.columnDef.sortingFn]},e.toggleSorting=(n,l)=>{const o=e.getNextSortingOrder(),r=typeof n<"u"&&n!==null;t.setSorting(i=>{const c=i==null?void 0:i.find(p=>p.id===e.id),s=i==null?void 0:i.findIndex(p=>p.id===e.id);let a=[],f,m=r?n:o==="desc";if(i!=null&&i.length&&e.getCanMultiSort()&&l?c?f="toggle":f="add":i!=null&&i.length&&s!==i.length-1?f="replace":c?f="toggle":f="replace",f==="toggle"&&(r||o||(f="remove")),f==="add"){var g;a=[...i,{id:e.id,desc:m}],a.splice(0,a.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else f==="toggle"?a=i.map(p=>p.id===e.id?{...p,desc:m}:p):f==="remove"?a=i.filter(p=>p.id!==e.id):a=[{id:e.id,desc:m}];return a})},e.getFirstSortDir=()=>{var n,l;return((n=(l=e.columnDef.sortDescFirst)!=null?l:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var l,o;const r=e.getFirstSortDir(),i=e.getIsSorted();return i?i!==r&&((l=t.options.enableSortingRemoval)==null||l)&&(!(n&&(o=t.options.enableMultiRemove)!=null)||o)?!1:i==="desc"?"asc":"desc":r},e.getCanSort=()=>{var n,l;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((l=t.options.enableSorting)!=null?l:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,l;return(n=(l=e.columnDef.enableMultiSort)!=null?l:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const l=(n=t.getState().sorting)==null?void 0:n.find(o=>o.id===e.id);return l?l.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,l;return(n=(l=t.getState().sorting)==null?void 0:l.findIndex(o=>o.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(l=>l.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return l=>{n&&(l.persist==null||l.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(l):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,l;e.setSorting(t?[]:(n=(l=e.initialState)==null?void 0:l.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},zr=[ir,Rr,br,Cr,sr,ar,Mr,Er,Nr,vr,Ar,Fr,Dr,Ir,kr];function Hr(e){var t,n;const l=[...zr,...(t=e._features)!=null?t:[]];let o={_features:l};const r=o._features.reduce((g,p)=>Object.assign(g,p.getDefaultOptions==null?void 0:p.getDefaultOptions(o)),{}),i=g=>o.options.mergeOptions?o.options.mergeOptions(r,g):{...r,...g};let s={...{},...(n=e.initialState)!=null?n:{}};o._features.forEach(g=>{var p;s=(p=g.getInitialState==null?void 0:g.getInitialState(s))!=null?p:s});const a=[];let f=!1;const m={_features:l,options:{...r,...e},initialState:s,_queue:g=>{a.push(g),f||(f=!0,Promise.resolve().then(()=>{for(;a.length;)a.shift()();f=!1}).catch(p=>setTimeout(()=>{throw p})))},reset:()=>{o.setState(o.initialState)},setOptions:g=>{const p=Et(g,o.options);o.options=i(p)},getState:()=>o.options.state,setState:g=>{o.options.onStateChange==null||o.options.onStateChange(g)},_getRowId:(g,p,_)=>{var v;return(v=o.options.getRowId==null?void 0:o.options.getRowId(g,p,_))!=null?v:`${_?[_.id,p].join("."):p}`},getCoreRowModel:()=>(o._getCoreRowModel||(o._getCoreRowModel=o.options.getCoreRowModel(o)),o._getCoreRowModel()),getRowModel:()=>o.getPaginationRowModel(),getRow:(g,p)=>{let _=(p?o.getPrePaginationRowModel():o.getRowModel()).rowsById[g];if(!_&&(_=o.getCoreRowModel().rowsById[g],!_))throw new Error;return _},_getDefaultColumnDef:he(()=>[o.options.defaultColumn],g=>{var p;return g=(p=g)!=null?p:{},{header:_=>{const v=_.header.column.columnDef;return v.accessorKey?v.accessorKey:v.accessorFn?v.id:null},cell:_=>{var v,w;return(v=(w=_.renderValue())==null||w.toString==null?void 0:w.toString())!=null?v:null},...o._features.reduce((_,v)=>Object.assign(_,v.getDefaultColumnDef==null?void 0:v.getDefaultColumnDef()),{}),...g}},_e(e,"debugColumns")),_getColumnDefs:()=>o.options.columns,getAllColumns:he(()=>[o._getColumnDefs()],g=>{const p=function(_,v,w){return w===void 0&&(w=0),_.map(S=>{const C=rr(o,S,w,v),k=S;return C.columns=k.columns?p(k.columns,C,w+1):[],C})};return p(g)},_e(e,"debugColumns")),getAllFlatColumns:he(()=>[o.getAllColumns()],g=>g.flatMap(p=>p.getFlatColumns()),_e(e,"debugColumns")),_getAllFlatColumnsById:he(()=>[o.getAllFlatColumns()],g=>g.reduce((p,_)=>(p[_.id]=_,p),{}),_e(e,"debugColumns")),getAllLeafColumns:he(()=>[o.getAllColumns(),o._getOrderColumnsFn()],(g,p)=>{let _=g.flatMap(v=>v.getLeafColumns());return p(_)},_e(e,"debugColumns")),getColumn:g=>o._getAllFlatColumnsById()[g]};Object.assign(o,m);for(let g=0;g<o._features.length;g++){const p=o._features[g];p==null||p.createTable==null||p.createTable(o)}return o}function Ur(){return e=>he(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},l=function(o,r,i){r===void 0&&(r=0);const c=[];for(let a=0;a<o.length;a++){const f=zn(e,e._getRowId(o[a],a,i),o[a],a,r,void 0,i==null?void 0:i.id);if(n.flatRows.push(f),n.rowsById[f.id]=f,c.push(f),e.options.getSubRows){var s;f.originalSubRows=e.options.getSubRows(o[a],a),(s=f.originalSubRows)!=null&&s.length&&(f.subRows=l(f.originalSubRows,r+1,f))}}return c};return n.rows=l(t),n},_e(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function Gr(e,t,n){return n.options.filterFromLeafRows?qr(e,t,n):jr(e,t,n)}function qr(e,t,n){var l;const o=[],r={},i=(l=n.options.maxLeafRowFilterDepth)!=null?l:100,c=function(s,a){a===void 0&&(a=0);const f=[];for(let g=0;g<s.length;g++){var m;let p=s[g];const _=zn(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);if(_.columnFilters=p.columnFilters,(m=p.subRows)!=null&&m.length&&a<i){if(_.subRows=c(p.subRows,a+1),p=_,t(p)&&!_.subRows.length){f.push(p),r[p.id]=p,o.push(p);continue}if(t(p)||_.subRows.length){f.push(p),r[p.id]=p,o.push(p);continue}}else p=_,t(p)&&(f.push(p),r[p.id]=p,o.push(p))}return f};return{rows:c(e),flatRows:o,rowsById:r}}function jr(e,t,n){var l;const o=[],r={},i=(l=n.options.maxLeafRowFilterDepth)!=null?l:100,c=function(s,a){a===void 0&&(a=0);const f=[];for(let g=0;g<s.length;g++){let p=s[g];if(t(p)){var m;if((m=p.subRows)!=null&&m.length&&a<i){const v=zn(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);v.subRows=c(p.subRows,a+1),p=v}f.push(p),o.push(p),r[p.id]=p}}return f};return{rows:c(e),flatRows:o,rowsById:r}}function Br(){return e=>he(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,l)=>{if(!t.rows.length||!(n!=null&&n.length)&&!l){for(let g=0;g<t.flatRows.length;g++)t.flatRows[g].columnFilters={},t.flatRows[g].columnFiltersMeta={};return t}const o=[],r=[];(n??[]).forEach(g=>{var p;const _=e.getColumn(g.id);if(!_)return;const v=_.getFilterFn();v&&o.push({id:g.id,filterFn:v,resolvedValue:(p=v.resolveFilterValue==null?void 0:v.resolveFilterValue(g.value))!=null?p:g.value})});const i=(n??[]).map(g=>g.id),c=e.getGlobalFilterFn(),s=e.getAllLeafColumns().filter(g=>g.getCanGlobalFilter());l&&c&&s.length&&(i.push("__global__"),s.forEach(g=>{var p;r.push({id:g.id,filterFn:c,resolvedValue:(p=c.resolveFilterValue==null?void 0:c.resolveFilterValue(l))!=null?p:l})}));let a,f;for(let g=0;g<t.flatRows.length;g++){const p=t.flatRows[g];if(p.columnFilters={},o.length)for(let _=0;_<o.length;_++){a=o[_];const v=a.id;p.columnFilters[v]=a.filterFn(p,v,a.resolvedValue,w=>{p.columnFiltersMeta[v]=w})}if(r.length){for(let _=0;_<r.length;_++){f=r[_];const v=f.id;if(f.filterFn(p,v,f.resolvedValue,w=>{p.columnFiltersMeta[v]=w})){p.columnFilters.__global__=!0;break}}p.columnFilters.__global__!==!0&&(p.columnFilters.__global__=!1)}}const m=g=>{for(let p=0;p<i.length;p++)if(g.columnFilters[i[p]]===!1)return!1;return!0};return Gr(t.rows,m,e)},_e(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Wr(){return e=>he(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const l=e.getState().sorting,o=[],r=l.filter(s=>{var a;return(a=e.getColumn(s.id))==null?void 0:a.getCanSort()}),i={};r.forEach(s=>{const a=e.getColumn(s.id);a&&(i[s.id]={sortUndefined:a.columnDef.sortUndefined,invertSorting:a.columnDef.invertSorting,sortingFn:a.getSortingFn()})});const c=s=>{const a=s.map(f=>({...f}));return a.sort((f,m)=>{for(let p=0;p<r.length;p+=1){var g;const _=r[p],v=i[_.id],w=v.sortUndefined,S=(g=_==null?void 0:_.desc)!=null?g:!1;let C=0;if(w){const k=f.getValue(_.id),D=m.getValue(_.id),M=k===void 0,V=D===void 0;if(M||V){if(w==="first")return M?-1:1;if(w==="last")return M?1:-1;C=M&&V?0:M?w:-w}}if(C===0&&(C=v.sortingFn(f,m,_.id)),C!==0)return S&&(C*=-1),v.invertSorting&&(C*=-1),C}return f.index-m.index}),a.forEach(f=>{var m;o.push(f),(m=f.subRows)!=null&&m.length&&(f.subRows=c(f.subRows))}),a};return{rows:c(n.rows),flatRows:o,rowsById:n.rowsById}},_e(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * svelte-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Kr(e){let t;return{c(){t=B(e[0])},l(n){t=Ro(n,e[0])},m(n,l){Co(n,t,l)},p(n,[l]){l&1&&we(t,n[0])},i:se,o:se,d(n){n&&O(t)}}}function Xr(e,t,n){let{content:l}=t;return e.$$set=o=>{"content"in o&&n(0,l=o.content)},[l]}let Zr=class extends Be{constructor(t){super(),Ze(this,t,Xr,Kr,Ue,{content:0})}};const Jr=eo((e,t,n,l)=>`${Oo(t.content)}`);var Qr=typeof document>"u"?Jr:Zr;function Yr(e,t,n){let l,o;return l=new t({props:n,$$inline:!0}),{c(){Re(l.$$.fragment)},l(r){$o(l.$$.fragment,r)},m(r,i){ke(l,r,i),o=!0},p:se,i(r){o||(G(l.$$.fragment,r),o=!0)},o(r){J(l.$$.fragment,r),o=!1},d(r){ye(l,r)}}}function xr(e,t){return class extends Be{constructor(l){super(),Ze(this,l,null,o=>Yr(o,e,t),Ue,{},void 0)}}}function ei(e,t){return eo((l,o,r,i)=>`${To(e,"TableComponent").$$render(l,t,{},{})}`)}const Tn=typeof window>"u"?ei:xr;function ti(e){return typeof e=="object"&&typeof e.$$render=="function"&&typeof e.render=="function"}function ni(e){var t,n;let l="__SVELTE_HMR"in window;return e.prototype instanceof Be||l&&((t=e.name)==null?void 0:t.startsWith("Proxy<"))&&((n=e.name)==null?void 0:n.endsWith(">"))}function ol(e){return typeof document>"u"?ti(e):ni(e)}function rl(e){return Tn(Qr,{content:e})}function $n(e,t){if(!e)return null;if(ol(e))return Tn(e,t);if(typeof e=="function"){const n=e(t);return n==null?null:ol(n)?Tn(n,t):rl(n)}return rl(e)}function li(e){let t;"subscribe"in e?t=e:t=Fn(e);let n={state:{},onStateChange:()=>{},renderFallbackValue:null,..._t(t)},l=Hr(n),o=Ct(l.initialState),r=Ho([o,t],c=>c);return Fn(l,function(s){const a=r.subscribe(f=>{let[m,g]=f;l.setOptions(p=>({...p,...g,state:{...m,...g.state},onStateChange:_=>{_ instanceof Function?o.update(_):o.set(_),n.onStateChange==null||n.onStateChange(_)}})),s(l)});return function(){a()}})}function oi(e,t,n){const l=e.slice();return l[28]=t[n],l}function il(e,t,n){const l=e.slice();return l[31]=t[n],l}function sl(e,t,n){const l=e.slice();return l[34]=t[n],l}function ri(e){const t=e.slice(),n=t[34].getContext().getValue();t[37]=n;const l=t[34].column.columnDef.meta.isDateStatus?wi(t[37]):vi(t[37]);return t[38]=l,t}function ii(e){const t=e.slice(),n=t[34].getContext().getValue();return t[37]=n,t}function al(e,t,n){const l=e.slice();return l[39]=t[n],l}function ul(e,t,n){const l=e.slice();return l[42]=t[n],l}function kn(e){const t=e.slice(),n=$n(t[42].column.columnDef.header,t[42].getContext());return t[45]=n,t}function cl(e){let t,n,l,o,r,i=({asc:" ▲",desc:" ▼"}[e[42].column.getIsSorted()]??"")+"",c,s;const a=[ai,si],f=[];function m(g,p){return typeof g[45]=="string"?0:1}return n=m(e),l=f[n]=a[n](e),{c(){t=h("div"),l.c(),o=b(),r=h("span"),c=B(i),d(r,"class","sort-indicator svelte-12ixxxk"),d(t,"class","header-content svelte-12ixxxk")},m(g,p){T(g,t,p),f[n].m(t,null),u(t,o),u(t,r),u(r,c),s=!0},p(g,p){let _=n;n=m(g),n===_?f[n].p(g,p):(Ae(),J(f[_],1,1,()=>{f[_]=null}),Fe(),l=f[n],l?l.p(g,p):(l=f[n]=a[n](g),l.c()),G(l,1),l.m(t,o)),(!s||p[0]&128)&&i!==(i=({asc:" ▲",desc:" ▼"}[g[42].column.getIsSorted()]??"")+"")&&we(c,i)},i(g){s||(G(l),s=!0)},o(g){J(l),s=!1},d(g){g&&O(t),f[n].d()}}}function si(e){let t,n,l;var o=e[45];function r(i,c){return{}}return o&&(t=ln(o,r())),{c(){t&&Re(t.$$.fragment),n=tt()},m(i,c){t&&ke(t,i,c),T(i,n,c),l=!0},p(i,c){if(c[0]&128&&o!==(o=i[45])){if(t){Ae();const s=t;J(s.$$.fragment,1,0,()=>{ye(s,1)}),Fe()}o?(t=ln(o,r()),Re(t.$$.fragment),G(t.$$.fragment,1),ke(t,n.parentNode,n)):t=null}},i(i){l||(t&&G(t.$$.fragment,i),l=!0)},o(i){t&&J(t.$$.fragment,i),l=!1},d(i){i&&O(n),t&&ye(t,i)}}}function ai(e){let t,n=e[45]+"",l;return{c(){t=new Eo(!1),l=tt(),t.a=l},m(o,r){t.m(n,o,r),T(o,l,r)},p(o,r){r[0]&128&&n!==(n=o[45]+"")&&t.p(n)},i:se,o:se,d(o){o&&(O(l),t.d())}}}function dl(e){let t,n,l,o,r,i,c,s=!e[42].isPlaceholder&&cl(kn(e));return{c(){var a;t=h("th"),s&&s.c(),d(t,"key",n=e[42].id),d(t,"colspan",l=e[42].colSpan),d(t,"class",o=Gt(((a=e[42].column.columnDef.meta)==null?void 0:a.cellClass)||"")+" svelte-12ixxxk"),Oe(t,"sortable",e[42].column.getCanSort()),Mn(t,"width",e[4]?`${e[42].column.getSize()}px`:"auto")},m(a,f){T(a,t,f),s&&s.m(t,null),r=!0,i||(c=I(t,"click",function(){sn(e[42].column.getToggleSortingHandler())&&e[42].column.getToggleSortingHandler().apply(this,arguments)}),i=!0)},p(a,f){var m;e=a,e[42].isPlaceholder?s&&(Ae(),J(s,1,1,()=>{s=null}),Fe()):s?(s.p(kn(e),f),f[0]&128&&G(s,1)):(s=cl(kn(e)),s.c(),G(s,1),s.m(t,null)),(!r||f[0]&128&&n!==(n=e[42].id))&&d(t,"key",n),(!r||f[0]&128&&l!==(l=e[42].colSpan))&&d(t,"colspan",l),(!r||f[0]&128&&o!==(o=Gt(((m=e[42].column.columnDef.meta)==null?void 0:m.cellClass)||"")+" svelte-12ixxxk"))&&d(t,"class",o),(!r||f[0]&128)&&Oe(t,"sortable",e[42].column.getCanSort()),f[0]&144&&Mn(t,"width",e[4]?`${e[42].column.getSize()}px`:"auto")},i(a){r||(G(s),r=!0)},o(a){J(s),r=!1},d(a){a&&O(t),s&&s.d(),i=!1,c()}}}function fl(e){let t,n,l,o,r=nt(e[39].headers),i=[];for(let s=0;s<r.length;s+=1)i[s]=dl(ul(e,r,s));const c=s=>J(i[s],1,1,()=>{i[s]=null});return{c(){t=h("tr");for(let s=0;s<i.length;s+=1)i[s].c();n=b(),d(t,"key",l=e[39].id)},m(s,a){T(s,t,a);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(t,null);u(t,n),o=!0},p(s,a){if(a[0]&144){r=nt(s[39].headers);let f;for(f=0;f<r.length;f+=1){const m=ul(s,r,f);i[f]?(i[f].p(m,a),G(i[f],1)):(i[f]=dl(m),i[f].c(),G(i[f],1),i[f].m(t,n))}for(Ae(),f=r.length;f<i.length;f+=1)c(f);Fe()}(!o||a[0]&128&&l!==(l=s[39].id))&&d(t,"key",l)},i(s){if(!o){for(let a=0;a<r.length;a+=1)G(i[a]);o=!0}},o(s){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)J(i[a]);o=!1},d(s){s&&O(t),Kt(i,s)}}}function ui(e){let t,n,l;var o=$n(e[34].column.columnDef.cell,e[34].getContext());function r(i,c){return{}}return o&&(t=ln(o,r())),{c(){t&&Re(t.$$.fragment),n=tt()},m(i,c){t&&ke(t,i,c),T(i,n,c),l=!0},p(i,c){if(c[0]&128&&o!==(o=$n(i[34].column.columnDef.cell,i[34].getContext()))){if(t){Ae();const s=t;J(s.$$.fragment,1,0,()=>{ye(s,1)}),Fe()}o?(t=ln(o,r()),Re(t.$$.fragment),G(t.$$.fragment,1),ke(t,n.parentNode,n)):t=null}},i(i){l||(t&&G(t.$$.fragment,i),l=!0)},o(i){t&&J(t.$$.fragment,i),l=!1},d(i){i&&O(n),t&&ye(t,i)}}}function ci(e){let t,n=e[37]+"",l,o,r,i;function c(){return e[22](e[31],e[34])}return{c(){t=h("button"),l=B(n),d(t,"class",o="status-btn "+e[38]+" svelte-12ixxxk")},m(s,a){T(s,t,a),u(t,l),r||(i=I(t,"click",c),r=!0)},p(s,a){e=s,a[0]&128&&n!==(n=e[37]+"")&&we(l,n),a[0]&128&&o!==(o="status-btn "+e[38]+" svelte-12ixxxk")&&d(t,"class",o)},i:se,o:se,d(s){s&&O(t),r=!1,i()}}}function di(e){let t,n=e[37]+"",l,o;return{c(){t=h("span"),l=B(n),d(t,"class",o=Gt(ml(e[34]))+" svelte-12ixxxk")},m(r,i){T(r,t,i),u(t,l)},p(r,i){i[0]&128&&n!==(n=r[37]+"")&&we(l,n),i[0]&128&&o!==(o=Gt(ml(r[34]))+" svelte-12ixxxk")&&d(t,"class",o)},i:se,o:se,d(r){r&&O(t)}}}function fi(e){let t,n,l,o;function r(){return e[21](e[31])}return{c(){t=h("div"),n=h("button"),n.textContent="Ver",d(n,"class","btn-action btn-view-images svelte-12ixxxk"),d(t,"class","actions-cell svelte-12ixxxk")},m(i,c){T(i,t,c),u(t,n),l||(o=I(n,"click",r),l=!0)},p(i,c){e=i},i:se,o:se,d(i){i&&O(t),l=!1,o()}}}function gi(e){let t,n,l,o;function r(){return e[20](e[31])}return{c(){t=h("div"),n=h("button"),n.textContent="Ver Hoja de Vida",d(n,"class","btn-action btn-cv svelte-12ixxxk"),d(t,"class","actions-cell svelte-12ixxxk")},m(i,c){T(i,t,c),u(t,n),l||(o=I(n,"click",r),l=!0)},p(i,c){e=i},i:se,o:se,d(i){i&&O(t),l=!1,o()}}}function pi(e){let t,n,l,o;function r(){return e[19](e[31])}return{c(){t=h("div"),n=h("button"),n.textContent="Ejecutar",d(n,"class","btn-action btn-execute svelte-12ixxxk"),d(t,"class","actions-cell svelte-12ixxxk")},m(i,c){T(i,t,c),u(t,n),l||(o=I(n,"click",r),l=!0)},p(i,c){e=i},i:se,o:se,d(i){i&&O(t),l=!1,o()}}}function mi(e){let t,n,l,o,r,i;function c(){return e[17](e[31])}function s(){return e[18](e[31])}return{c(){t=h("div"),n=h("button"),n.textContent="Editar",l=b(),o=h("button"),o.textContent="Eliminar",d(n,"class","btn-action btn-edit svelte-12ixxxk"),d(o,"class","btn-action btn-delete svelte-12ixxxk"),d(t,"class","actions-cell svelte-12ixxxk")},m(a,f){T(a,t,f),u(t,n),u(t,l),u(t,o),r||(i=[I(n,"click",c),I(o,"click",s)],r=!0)},p(a,f){e=a},i:se,o:se,d(a){a&&O(t),r=!1,De(i)}}}function gl(e){let t,n,l,o,r,i;const c=[mi,pi,gi,fi,di,ci,ui],s=[];function a(m,g){var p,_,v,w,S,C,k,D;return(p=m[34].column.columnDef.meta)!=null&&p.isAction?0:(_=m[34].column.columnDef.meta)!=null&&_.isExecuteAction?1:(v=m[34].column.columnDef.meta)!=null&&v.isCvAction?2:(w=m[34].column.columnDef.meta)!=null&&w.isImageAction?3:(S=m[34].column.columnDef.meta)!=null&&S.isOrigin||(C=m[34].column.columnDef.meta)!=null&&C.isCondition?4:(k=m[34].column.columnDef.meta)!=null&&k.isStatus||(D=m[34].column.columnDef.meta)!=null&&D.isDateStatus?5:6}function f(m,g){return g===4?ii(m):g===5?ri(m):m}return n=a(e),l=s[n]=c[n](f(e,n)),{c(){var m,g,p,_;t=h("td"),l.c(),d(t,"key",o=e[34].id),d(t,"class",r=Gt(((m=e[34].column.columnDef.meta)==null?void 0:m.cellClass)||"")+" svelte-12ixxxk"),Oe(t,"multiline",(g=e[34].column.columnDef.meta)==null?void 0:g.isMultiline),Oe(t,"status-cell",((p=e[34].column.columnDef.meta)==null?void 0:p.isStatus)||((_=e[34].column.columnDef.meta)==null?void 0:_.isDateStatus))},m(m,g){T(m,t,g),s[n].m(t,null),i=!0},p(m,g){var _,v,w,S;let p=n;n=a(m),n===p?s[n].p(f(m,n),g):(Ae(),J(s[p],1,1,()=>{s[p]=null}),Fe(),l=s[n],l?l.p(f(m,n),g):(l=s[n]=c[n](f(m,n)),l.c()),G(l,1),l.m(t,null)),(!i||g[0]&128&&o!==(o=m[34].id))&&d(t,"key",o),(!i||g[0]&128&&r!==(r=Gt(((_=m[34].column.columnDef.meta)==null?void 0:_.cellClass)||"")+" svelte-12ixxxk"))&&d(t,"class",r),(!i||g[0]&128)&&Oe(t,"multiline",(v=m[34].column.columnDef.meta)==null?void 0:v.isMultiline),(!i||g[0]&128)&&Oe(t,"status-cell",((w=m[34].column.columnDef.meta)==null?void 0:w.isStatus)||((S=m[34].column.columnDef.meta)==null?void 0:S.isDateStatus))},i(m){i||(G(l),i=!0)},o(m){J(l),i=!1},d(m){m&&O(t),s[n].d()}}}function pl(e){let t,n,l,o,r=nt(e[31].getVisibleCells()),i=[];for(let s=0;s<r.length;s+=1)i[s]=gl(sl(e,r,s));const c=s=>J(i[s],1,1,()=>{i[s]=null});return{c(){var s,a;t=h("tr");for(let f=0;f<i.length;f+=1)i[f].c();n=b(),d(t,"key",l=e[31].id),d(t,"class","svelte-12ixxxk"),Oe(t,"unexpected-row",e[31].original.isUnexpected),Oe(t,"pending-row",((a=(s=e[31].original.order)==null?void 0:s.status)==null?void 0:a.toLowerCase())==="pending")},m(s,a){T(s,t,a);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(t,null);u(t,n),o=!0},p(s,a){var f,m;if(a[0]&1664){r=nt(s[31].getVisibleCells());let g;for(g=0;g<r.length;g+=1){const p=sl(s,r,g);i[g]?(i[g].p(p,a),G(i[g],1)):(i[g]=gl(p),i[g].c(),G(i[g],1),i[g].m(t,n))}for(Ae(),g=r.length;g<i.length;g+=1)c(g);Fe()}(!o||a[0]&128&&l!==(l=s[31].id))&&d(t,"key",l),(!o||a[0]&128)&&Oe(t,"unexpected-row",s[31].original.isUnexpected),(!o||a[0]&128)&&Oe(t,"pending-row",((m=(f=s[31].original.order)==null?void 0:f.status)==null?void 0:m.toLowerCase())==="pending")},i(s){if(!o){for(let a=0;a<r.length;a+=1)G(i[a]);o=!0}},o(s){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)J(i[a]);o=!1},d(s){s&&O(t),Kt(i,s)}}}function hi(e){let t;return{c(){t=h("option"),t.textContent=`Mostrar ${e[28]}`,t.__value=e[28],Y(t,t.__value)},m(n,l){T(n,t,l)},p:se,d(n){n&&O(t)}}}function _i(e){let t,n,l,o,r,i,c,s,a,f,m,g,p,_,v,w,S=e[7].getRowModel().rows.length+"",C,k,D,M,V,E,z,$,W,x,j,Q,ue,ce,me,N,X,ge,re,A=(e[0]>0?e[1]+1:0)+"",y,F,L,ie,H,le,Ce,ne,fe,K,de,Se,Ge,Te,R=nt(e[7].getHeaderGroups()),P=[];for(let q=0;q<R.length;q+=1)P[q]=fl(al(e,R,q));const ee=q=>J(P[q],1,1,()=>{P[q]=null});let U=nt(e[7].getRowModel().rows),Z=[];for(let q=0;q<U.length;q+=1)Z[q]=pl(il(e,U,q));const te=q=>J(Z[q],1,1,()=>{Z[q]=null});let be=nt([10,20,30,50,100,250]),Me=[];for(let q=0;q<6;q+=1)Me[q]=hi(oi(e,be,q));return{c(){t=h("div"),n=h("div"),l=h("div"),o=h("label"),o.textContent="Filtrar:",r=b(),i=h("input"),c=b(),s=h("div"),a=h("table"),f=h("thead");for(let q=0;q<P.length;q+=1)P[q].c();m=b(),g=h("tbody");for(let q=0;q<Z.length;q+=1)Z[q].c();p=b(),_=h("div"),v=h("span"),w=B("Mostrando "),C=B(S),k=B(" de "),D=B(e[3]),M=B(" registros"),V=b(),E=h("div"),z=h("select");for(let q=0;q<6;q+=1)Me[q].c();$=b(),W=h("button"),x=B("« Primero"),Q=b(),ue=h("button"),ce=B("‹ Anterior"),N=b(),X=h("span"),ge=B(`Página
        `),re=h("strong"),y=B(A),F=B(" de "),L=B(e[0]),ie=b(),H=h("button"),le=B("Siguiente ›"),ne=b(),fe=h("button"),K=B("Último »"),d(o,"for","search-input"),d(i,"id","search-input"),d(i,"type","text"),d(i,"placeholder","Buscar en toda la tabla..."),d(i,"class","search-input svelte-12ixxxk"),d(l,"class","filter-group svelte-12ixxxk"),d(n,"class","controls-container svelte-12ixxxk"),d(a,"class","data-grid svelte-12ixxxk"),Oe(a,"fixed",e[4]),d(s,"class","table-container svelte-12ixxxk"),d(v,"class","record-count svelte-12ixxxk"),d(z,"class","svelte-12ixxxk"),W.disabled=j=e[1]===0,d(W,"class","svelte-12ixxxk"),ue.disabled=me=e[1]===0,d(ue,"class","svelte-12ixxxk"),H.disabled=Ce=e[1]>=e[0]-1,d(H,"class","svelte-12ixxxk"),fe.disabled=de=e[1]>=e[0]-1,d(fe,"class","svelte-12ixxxk"),d(E,"class","pagination-controls svelte-12ixxxk"),d(_,"class","footer-controls svelte-12ixxxk"),d(t,"class","data-grid-wrapper svelte-12ixxxk")},m(q,ae){T(q,t,ae),u(t,n),u(n,l),u(l,o),u(l,r),u(l,i),Y(i,e[5]),u(t,c),u(t,s),u(s,a),u(a,f);for(let oe=0;oe<P.length;oe+=1)P[oe]&&P[oe].m(f,null);u(a,m),u(a,g);for(let oe=0;oe<Z.length;oe+=1)Z[oe]&&Z[oe].m(g,null);u(t,p),u(t,_),u(_,v),u(v,w),u(v,C),u(v,k),u(v,D),u(v,M),u(_,V),u(_,E),u(E,z);for(let oe=0;oe<6;oe+=1)Me[oe]&&Me[oe].m(z,null);vt(z,e[2]),u(E,$),u(E,W),u(W,x),u(E,Q),u(E,ue),u(ue,ce),u(E,N),u(E,X),u(X,ge),u(X,re),u(re,y),u(re,F),u(re,L),u(E,ie),u(E,H),u(H,le),u(E,ne),u(E,fe),u(fe,K),Se=!0,Ge||(Te=[I(i,"input",e[16]),I(z,"change",e[12]),I(W,"click",e[23]),I(ue,"click",e[24]),I(H,"click",e[25]),I(fe,"click",e[26])],Ge=!0)},p(q,ae){if(ae[0]&32&&i.value!==q[5]&&Y(i,q[5]),ae[0]&144){R=nt(q[7].getHeaderGroups());let oe;for(oe=0;oe<R.length;oe+=1){const pe=al(q,R,oe);P[oe]?(P[oe].p(pe,ae),G(P[oe],1)):(P[oe]=fl(pe),P[oe].c(),G(P[oe],1),P[oe].m(f,null))}for(Ae(),oe=R.length;oe<P.length;oe+=1)ee(oe);Fe()}if(ae[0]&1664){U=nt(q[7].getRowModel().rows);let oe;for(oe=0;oe<U.length;oe+=1){const pe=il(q,U,oe);Z[oe]?(Z[oe].p(pe,ae),G(Z[oe],1)):(Z[oe]=pl(pe),Z[oe].c(),G(Z[oe],1),Z[oe].m(g,null))}for(Ae(),oe=U.length;oe<Z.length;oe+=1)te(oe);Fe()}(!Se||ae[0]&16)&&Oe(a,"fixed",q[4]),(!Se||ae[0]&128)&&S!==(S=q[7].getRowModel().rows.length+"")&&we(C,S),(!Se||ae[0]&8)&&we(D,q[3]),(!Se||ae[0]&4)&&vt(z,q[2]),(!Se||ae[0]&2&&j!==(j=q[1]===0))&&(W.disabled=j),(!Se||ae[0]&2&&me!==(me=q[1]===0))&&(ue.disabled=me),(!Se||ae[0]&3)&&A!==(A=(q[0]>0?q[1]+1:0)+"")&&we(y,A),(!Se||ae[0]&1)&&we(L,q[0]),(!Se||ae[0]&3&&Ce!==(Ce=q[1]>=q[0]-1))&&(H.disabled=Ce),(!Se||ae[0]&3&&de!==(de=q[1]>=q[0]-1))&&(fe.disabled=de)},i(q){if(!Se){for(let ae=0;ae<R.length;ae+=1)G(P[ae]);for(let ae=0;ae<U.length;ae+=1)G(Z[ae]);Se=!0}},o(q){P=P.filter(Boolean);for(let ae=0;ae<P.length;ae+=1)J(P[ae]);Z=Z.filter(Boolean);for(let ae=0;ae<Z.length;ae+=1)J(Z[ae]);Se=!1},d(q){q&&O(t),Kt(P,q),Kt(Z,q),Kt(Me,q),Ge=!1,De(Te)}}}function vi(e){const t=String(e||"").toLowerCase();return t.includes("óptimo")||t.includes("optimo")?"status-optimo":t.includes("regular")?"status-regular":t.includes("malo")?"status-malo":"status-unknown"}function wi(e){if(!e||typeof e!="string")return"status-unknown";const t=e.split("-");let n;if(t.length===2){const r=parseInt(t[0],10),i=parseInt(t[1],10);n=new Date(r,i,0)}else n=new Date(e);n.setHours(23,59,59,999);const l=new Date;l.setHours(0,0,0,0);const o=new Date;return o.setMonth(o.getMonth()+2),n<l?"status-malo":n<=o?"status-regular":"status-optimo"}function ml(e){const t=String(e.getContext().getValue()||"").toLowerCase(),n=e.column.columnDef.meta;if(n!=null&&n.isOrigin){if(t.includes("inspección"))return"origin-inspeccion";if(t.includes("imprevisto"))return"origin-imprevisto"}if(n!=null&&n.isCondition){if(t.includes("malo"))return"condition-malo";if(t.includes("regular"))return"condition-regular";if(t.includes("óptimo")||t.includes("optimo"))return"condition-optimo"}return""}function bi(e,t,n){let l,o,r,i=se,c=()=>(i(),i=an(l,N=>n(7,r=N)),l);e.$$.on_destroy.push(()=>i());let{columns:s=[]}=t,{data:a=[]}=t,{totalPages:f=0}=t,{currentPage:m=0}=t,{pageSize:g=20}=t,{totalElements:p=0}=t,{fixedLayout:_=!1}=t;const v=Lt(),w=Ct("");dt(e,w,N=>n(5,o=N));let S=[];function C(N,X){v("action",{type:N,data:X})}function k(N,X){v("cellContextMenu",{row:N,columnDef:X})}function D(N){N>=0&&N<f&&v("pageChange",N)}function M(N){v("sizeChange",Number(N.target.value))}function V(){o=this.value,w.set(o)}const E=N=>C("edit",N.original),z=N=>C("delete",N.original),$=N=>C("execute",N.original),W=N=>C("cv",N.original),x=N=>C("view_images",N.original),j=(N,X)=>k(N.original,X.column.columnDef),Q=()=>D(0),ue=()=>D(m-1),ce=()=>D(m+1),me=()=>D(f-1);return e.$$set=N=>{"columns"in N&&n(13,s=N.columns),"data"in N&&n(14,a=N.data),"totalPages"in N&&n(0,f=N.totalPages),"currentPage"in N&&n(1,m=N.currentPage),"pageSize"in N&&n(2,g=N.pageSize),"totalElements"in N&&n(3,p=N.totalElements),"fixedLayout"in N&&n(4,_=N.fixedLayout)},e.$$.update=()=>{e.$$.dirty[0]&57376&&c(n(6,l=li({data:a,columns:s,state:{get globalFilter(){return o},sorting:S},onGlobalFilterChange:w.set,onSortingChange:N=>{n(15,S=typeof N=="function"?N(S):N)},getCoreRowModel:Ur(),getFilteredRowModel:Br(),getSortedRowModel:Wr()})))},[f,m,g,p,_,o,l,r,w,C,k,D,M,s,a,S,V,E,z,$,W,x,j,Q,ue,ce,me]}class St extends Be{constructor(t){super(),Ze(this,t,bi,_i,Ue,{columns:13,data:14,totalPages:0,currentPage:1,pageSize:2,totalElements:3,fixedLayout:4},null,[-1,-1])}}function Ci(e){let t;return{c(){t=h("div"),d(t,"class","spinner svelte-qudc1k")},m(n,l){T(n,t,l)},p:se,i:se,o:se,d(n){n&&O(t)}}}class kt extends Be{constructor(t){super(),Ze(this,t,null,Ci,Ue,{})}}const Si=[{accessorFn:e=>e.order.date?new Date(e.order.date).toLocaleDateString("es-CO"):"N/A",id:"fecha",header:"Fecha"},{accessorFn:e=>e.machine?`${e.machine.name} - ${e.machine.model} - ${e.machine.numInterIdentification}`:"N/A",id:"maquina",header:"Máquina"},{accessorFn:e=>e.order.description?e.order.description.split("|")[0]:"",id:"origen",header:"Origen",meta:{isOrigin:!0}},{accessorFn:e=>e.order.description?e.order.description.split("|")[1]:"",id:"sector",header:"Sector"},{accessorFn:e=>e.order.description?e.order.description.split("|")[2]:"",id:"condicion",header:"Condición",meta:{isCondition:!0}},{accessorFn:e=>e.order.description?e.order.description.split("|")[3]:"",id:"detalle",header:"Detalle",meta:{isMultiline:!0}},{accessorFn:e=>e.order.description?e.order.description.split("|")[4]:"",id:"tarea_asignada_a",header:"Tarea Asignada a"},{accessorFn:e=>e.order.status,id:"status",header:"Estado"},{accessorFn:e=>e.order.assignerUser?e.order.assignerUser.fullName:"N/A",id:"asignado_por",header:"Asignado por"},{id:"execute",header:"Ejecutar Orden",meta:{isExecuteAction:!0}}],ki=[{accessorKey:"name",header:"Nombre",size:150},{accessorKey:"brand",header:"Marca",size:100},{accessorKey:"model",header:"Modelo",size:100},{accessorKey:"numInterIdentification",header:"Núm. Identificación",size:150},{accessorKey:"numEngine",header:"Núm. Motor",size:120},{accessorFn:e=>e.belongsTo==="distrito"?"Distrito":"Asociación",id:"belongsTo",header:"Pertenece a",size:100},{accessorFn:e=>e.soat?new Date(e.soat+"T00:00:00").toLocaleDateString("es-CO"):"N/A",id:"soat",header:"SOAT",size:100},{accessorFn:e=>e.runt?new Date(e.runt+"T00:00:00").toLocaleDateString("es-CO"):"N/A",id:"runt",header:"RUNT",size:100},{id:"curriculum",header:"Hoja de Vida",size:120,meta:{isCvAction:!0}},{id:"actions",header:"Acciones",size:120,meta:{isAction:!0}}],yi=[{accessorFn:e=>new Date(e.dateStamp+"Z").toLocaleDateString("es-CO",{timeZone:"America/Bogota"}),id:"fecha",header:"Fecha"},{accessorFn:e=>new Date(e.dateStamp+"Z").toLocaleTimeString("en-GB",{timeZone:"America/Bogota"}),id:"hora",header:"Hora"},{accessorFn:e=>`${e.machine.name} ${e.machine.model} ${e.machine.numInterIdentification}`,id:"maquina",header:"MÁQUINA"},{accessorKey:"hourMeter",header:"Horómetro",size:80},{accessorKey:"leakStatus",header:"Fugas Sistema",meta:{isStatus:!0}},{accessorKey:"brakeStatus",header:"Sistema Frenos",meta:{isStatus:!0}},{accessorKey:"beltsPulleysStatus",header:"Correas y Poleas",meta:{isStatus:!0}},{accessorKey:"tireLanesStatus",header:"Llantas/ Carriles",meta:{isStatus:!0}},{accessorKey:"carIgnitionStatus",header:"Sistema Encendido",meta:{isStatus:!0}},{accessorKey:"electricalStatus",header:"Sistema Eléctrico",meta:{isStatus:!0}},{accessorKey:"mechanicalStatus",header:"Sistema Mecánico",meta:{isStatus:!0}},{accessorKey:"temperatureStatus",header:"Nivel Temperatura",meta:{isStatus:!0}},{accessorKey:"oilStatus",header:"Nivel Aceite",meta:{isStatus:!0}},{accessorKey:"hydraulicStatus",header:"Nivel Hidráulico",meta:{isStatus:!0}},{accessorKey:"coolantStatus",header:"Nivel Refrigerante",meta:{isStatus:!0}},{accessorKey:"structuralStatus",header:"Estado Estructural",meta:{isStatus:!0}},{accessorKey:"expirationDateFireExtinguisher",header:"Vigencia Extintor",meta:{isDateStatus:!0}},{accessorKey:"observations",header:"Observaciones/Detalles/Comentarios ",size:200,meta:{isMultiline:!0}},{accessorKey:"greasingAction",header:"Acción de Engrase"},{accessorKey:"greasingObservations",header:"Observaciones/Detalles/Comentarios de Engrase ",size:350,meta:{isMultiline:!0}},{accessorFn:e=>e.user.fullName,id:"responsable",header:"Responsable"},{id:"view_images",header:"Imágenes",meta:{isImageAction:!0}}];function Ri(e){if(!e)return"N/A";const t=new Date(e+"Z"),n=t.toLocaleDateString("es-CO",{timeZone:"America/Bogota"}),l=t.toLocaleTimeString("en-GB",{timeZone:"America/Bogota"});return`${n} ${l}`}function hl(e){return e?new Date(e+"Z").toLocaleDateString("es-CO",{timeZone:"America/Bogota"}):"N/A"}const _l=e=>[{header:`Propiedad de ${e}`,columns:[{header:"Máquina",accessorFn:t=>t.machine.name,size:200},{header:"Horómetro Actual",accessorFn:t=>{var n;return((n=t.currentData)==null?void 0:n.currentHourMeter)??"N/A"},id:"horometro_actual",size:120},{header:"Última Actualización",accessorFn:t=>{var n;return Ri((n=t.currentData)==null?void 0:n.lastUpdate)},id:"ultima_actualizacion",size:150}]},{header:"Aceite de Motor",columns:[{header:"Marca",size:60,accessorFn:t=>{var n,l;return((l=(n=t.consolidateMotorOil)==null?void 0:n.brand)==null?void 0:l.name)??"N/A"},id:"motor_marca",meta:{cellClass:"motor-oil-cell"}},{header:"Cant.",size:60,accessorFn:t=>{var n;return((n=t.consolidateMotorOil)==null?void 0:n.quantity)??"N/A"},id:"motor_cantidad",meta:{cellClass:"motor-oil-cell"}},{header:"Prom. Cambio",size:80,accessorFn:t=>{var n;return((n=t.consolidateMotorOil)==null?void 0:n.averageChangeHours)??"N/A"},id:"motor_promedio_cambio",meta:{cellClass:"motor-oil-cell"}},{header:"Fecha Últ. Cambio",size:100,accessorFn:t=>{var n;return hl((n=t.consolidateMotorOil)==null?void 0:n.dateLastUpdate)},id:"motor_fecha_ultimo_cambio",meta:{cellClass:"motor-oil-cell"}},{header:"Horómetro Últ. Cambio",size:100,accessorFn:t=>{var n;return((n=t.consolidateMotorOil)==null?void 0:n.hourMeterLastUpdate)??"N/A"},id:"motor_horometro_ultimo_cambio",meta:{cellClass:"motor-oil-cell"}},{header:"Próximo Cambio",size:80,accessorFn:t=>{var n;return((n=t.consolidateMotorOil)==null?void 0:n.hourMeterNextUpdate)??"N/A"},id:"motor_proximo_cambio",meta:{cellClass:"motor-oil-cell"}},{header:"Tiempo Últ. Cambio",size:100,accessorFn:t=>{var n;return((n=t.consolidateMotorOil)==null?void 0:n.timeLastUpdateMouths)??"N/A"},id:"motor_tiempo_ultimo_cambio",meta:{cellClass:"motor-oil-cell"}},{header:"Horas Restantes",size:80,accessorFn:t=>{var n;return((n=t.consolidateMotorOil)==null?void 0:n.remainingHoursNextUpdateMouths)??"N/A"},id:"motor_horas_restantes",meta:{cellClass:"motor-oil-cell"}}]},{header:"Aceite Hidráulico",columns:[{header:"Marca",size:60,accessorFn:t=>{var n,l;return((l=(n=t.consolidateHydraulicOil)==null?void 0:n.brand)==null?void 0:l.name)??"N/A"},id:"hidraulico_marca",meta:{cellClass:"hydraulic-oil-cell"}},{header:"Cant.",size:60,accessorFn:t=>{var n;return((n=t.consolidateHydraulicOil)==null?void 0:n.quantity)??"N/A"},id:"hidraulico_cantidad",meta:{cellClass:"hydraulic-oil-cell"}},{header:"Prom. Cambio",size:80,accessorFn:t=>{var n;return((n=t.consolidateHydraulicOil)==null?void 0:n.averageChangeHours)??"N/A"},id:"hidraulico_promedio_cambio",meta:{cellClass:"hydraulic-oil-cell"}},{header:"Fecha Últ. Cambio",size:100,accessorFn:t=>{var n;return hl((n=t.consolidateHydraulicOil)==null?void 0:n.dateLastUpdate)},id:"hidraulico_fecha_ultimo_cambio",meta:{cellClass:"hydraulic-oil-cell"}},{header:"Horómetro Últ. Cambio",size:100,accessorFn:t=>{var n;return((n=t.consolidateHydraulicOil)==null?void 0:n.hourMeterLastUpdate)??"N/A"},id:"hidraulico_horometro_ultimo_cambio",meta:{cellClass:"hydraulic-oil-cell"}},{header:"Próximo Cambio",size:80,accessorFn:t=>{var n;return((n=t.consolidateHydraulicOil)==null?void 0:n.hourMeterNextUpdate)??"N/A"},id:"hidraulico_proximo_cambio",meta:{cellClass:"hydraulic-oil-cell"}},{header:"Tiempo Últ. Cambio",size:100,accessorFn:t=>{var n;return((n=t.consolidateHydraulicOil)==null?void 0:n.timeLastUpdateMouths)??"N/A"},id:"hidraulico_tiempo_ultimo_cambio",meta:{cellClass:"hydraulic-oil-cell"}},{header:"Horas Restantes",size:80,accessorFn:t=>{var n;return((n=t.consolidateHydraulicOil)==null?void 0:n.remainingHoursNextUpdateMouths)??"N/A"},id:"hidraulico_horas_restantes",meta:{cellClass:"hydraulic-oil-cell"}}]}],Mi=[{accessorKey:"id",header:"ID",size:40},{accessorKey:"username",header:"Usuario",size:100},{accessorKey:"email",header:"Gmail",size:150},{accessorKey:"fullName",header:"Nombre Completo",size:150},{accessorKey:"role",header:"Rol",size:80},{id:"actions",header:"Acciones",size:120,meta:{isAction:!0}}],yn=e=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(e||0),Ei=[{accessorFn:e=>e.date?new Date(e.date).toLocaleDateString("es-CO"):"N/A",id:"fecha",header:"FECHA"},{header:"MANTENIMIENTO",columns:[{accessorKey:"description",header:"Descripción",size:300,meta:{isMultiline:!0}},{header:"REPUESTOS",columns:[{accessorFn:e=>{var t;return((t=e.sparePart)==null?void 0:t.ref)||"N/A"},id:"repuesto_ref",header:"REF. (#)",size:150},{accessorFn:e=>{var t;return((t=e.sparePart)==null?void 0:t.name)||"N/A"},id:"repuesto_nombre",header:"NOMBRE",size:200},{accessorFn:e=>{var t;return((t=e.sparePart)==null?void 0:t.quantity)||0},id:"repuesto_cantidad",header:"CANTIDAD",size:80},{accessorFn:e=>{var t;return yn((t=e.sparePart)==null?void 0:t.price)},id:"repuesto_valor",header:"VALOR ($)",size:120}]}]},{header:"MANO DE OBRA",columns:[{accessorFn:e=>{var t;return(t=e.labor)!=null&&t.user?e.labor.user.fullName:"N/A"},id:"mecanico_planta",header:"MECÁNICO DE PLANTA",size:150},{accessorFn:e=>{var t;return((t=e.labor)==null?void 0:t.contractor)||"N/A"},id:"mecanico_contratado",header:"CONTRATADA",size:150},{accessorKey:"timeSpent",header:"TIEMPO EMPLEADO",size:100},{accessorFn:e=>{var t;return yn((t=e.labor)==null?void 0:t.price)},id:"mano_obra_valor",header:"VALOR ($)",size:120}]},{accessorFn:e=>yn(e.totalPrice),id:"valor_total",header:"VALOR TOTAL (Repuestos + M. de O)",size:150}];function Ai(e){let t,n,l,o,r,i,c,s,a,f,m,g,p,_,v,w,S,C,k,D,M,V,E,z=e[10]?"Creando...":"Crear",$,W,x,j,Q,ue,ce;function me(y,F){return y[8]?Ii:Di}let N=me(e),X=N(e);function ge(y,F){return y[8]?Li:Pi}let re=ge(e),A=re(e);return j=new St({props:{columns:Mi,data:e[0]}}),j.$on("action",e[16]),{c(){t=h("div"),n=h("div"),l=h("button"),l.textContent="Refrescar información",o=b(),r=h("div"),i=h("h3"),i.textContent="Crear Nuevo Usuario",c=b(),s=h("form"),a=h("input"),f=b(),m=h("input"),g=b(),p=h("input"),_=b(),v=h("div"),X.c(),w=b(),S=h("button"),A.c(),C=b(),k=h("select"),D=h("option"),D.textContent="ADMIN",M=h("option"),M.textContent="MECANIC",V=b(),E=h("button"),$=B(z),W=b(),x=h("div"),Re(j.$$.fragment),d(l,"class","btn-refresh svelte-1acdicn"),d(n,"class","refresh-container svelte-1acdicn"),d(i,"class","svelte-1acdicn"),d(a,"type","text"),d(a,"placeholder","Nombre de usuario"),a.required=!0,a.disabled=e[10],d(a,"class","svelte-1acdicn"),d(m,"type","email"),d(m,"placeholder","Gmail"),m.disabled=e[10],d(m,"class","svelte-1acdicn"),d(p,"type","text"),d(p,"placeholder","Nombre completo"),p.required=!0,p.disabled=e[10],d(p,"class","svelte-1acdicn"),d(S,"type","button"),d(S,"class","toggle-password svelte-1acdicn"),d(v,"class","password-wrapper svelte-1acdicn"),D.__value="ADMIN",Y(D,D.__value),M.__value="MECANIC",Y(M,M.__value),k.required=!0,k.disabled=e[10],d(k,"class","svelte-1acdicn"),e[12].role===void 0&&Pt(()=>e[28].call(k)),d(E,"type","submit"),d(E,"class","btn-create svelte-1acdicn"),E.disabled=e[10],d(s,"class","create-form svelte-1acdicn"),d(r,"class","form-container svelte-1acdicn"),d(x,"class","table-wrapper svelte-1acdicn"),d(t,"class","management-container svelte-1acdicn")},m(y,F){T(y,t,F),u(t,n),u(n,l),u(t,o),u(t,r),u(r,i),u(r,c),u(r,s),u(s,a),Y(a,e[12].username),u(s,f),u(s,m),Y(m,e[12].email),u(s,g),u(s,p),Y(p,e[12].fullName),u(s,_),u(s,v),X.m(v,null),u(v,w),u(v,S),A.m(S,null),u(s,C),u(s,k),u(k,D),u(k,M),vt(k,e[12].role,!0),u(s,V),u(s,E),u(E,$),u(t,W),u(t,x),ke(j,x,null),Q=!0,ue||(ce=[I(l,"click",e[21]),I(a,"input",e[22]),I(m,"input",e[23]),I(p,"input",e[24]),I(S,"click",e[27]),I(k,"change",e[28]),I(s,"submit",e[13])],ue=!0)},p(y,F){(!Q||F[0]&1024)&&(a.disabled=y[10]),F[0]&4096&&a.value!==y[12].username&&Y(a,y[12].username),(!Q||F[0]&1024)&&(m.disabled=y[10]),F[0]&4096&&m.value!==y[12].email&&Y(m,y[12].email),(!Q||F[0]&1024)&&(p.disabled=y[10]),F[0]&4096&&p.value!==y[12].fullName&&Y(p,y[12].fullName),N===(N=me(y))&&X?X.p(y,F):(X.d(1),X=N(y),X&&(X.c(),X.m(v,w))),re!==(re=ge(y))&&(A.d(1),A=re(y),A&&(A.c(),A.m(S,null))),(!Q||F[0]&1024)&&(k.disabled=y[10]),F[0]&4096&&vt(k,y[12].role),(!Q||F[0]&1024)&&z!==(z=y[10]?"Creando...":"Crear")&&we($,z),(!Q||F[0]&1024)&&(E.disabled=y[10]);const L={};F[0]&1&&(L.data=y[0]),j.$set(L)},i(y){Q||(G(j.$$.fragment,y),Q=!0)},o(y){J(j.$$.fragment,y),Q=!1},d(y){y&&O(t),X.d(),A.d(),ye(j),ue=!1,De(ce)}}}function Fi(e){let t,n,l;return n=new kt({}),{c(){t=h("div"),Re(n.$$.fragment),d(t,"class","loader-container svelte-1acdicn")},m(o,r){T(o,t,r),ke(n,t,null),l=!0},p:se,i(o){l||(G(n.$$.fragment,o),l=!0)},o(o){J(n.$$.fragment,o),l=!1},d(o){o&&O(t),ye(n)}}}function Di(e){let t,n,l;return{c(){t=h("input"),d(t,"type","password"),d(t,"placeholder","Contraseña"),t.required=!0,t.disabled=e[10],d(t,"class","svelte-1acdicn")},m(o,r){T(o,t,r),Y(t,e[12].password),n||(l=I(t,"input",e[26]),n=!0)},p(o,r){r[0]&1024&&(t.disabled=o[10]),r[0]&4096&&t.value!==o[12].password&&Y(t,o[12].password)},d(o){o&&O(t),n=!1,l()}}}function Ii(e){let t,n,l;return{c(){t=h("input"),d(t,"type","text"),d(t,"placeholder","Contraseña"),t.required=!0,t.disabled=e[10],d(t,"class","svelte-1acdicn")},m(o,r){T(o,t,r),Y(t,e[12].password),n||(l=I(t,"input",e[25]),n=!0)},p(o,r){r[0]&1024&&(t.disabled=o[10]),r[0]&4096&&t.value!==o[12].password&&Y(t,o[12].password)},d(o){o&&O(t),n=!1,l()}}}function Pi(e){let t,n;return{c(){t=gt("svg"),n=gt("path"),d(n,"d","M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z"),d(t,"xmlns","http://www.w3.org/2000/svg"),d(t,"viewBox","0 0 24 24"),d(t,"class","svelte-1acdicn")},m(l,o){T(l,t,o),u(t,n)},d(l){l&&O(t)}}}function Li(e){let t,n;return{c(){t=gt("svg"),n=gt("path"),d(n,"d","M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.45L2,5.27M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.77C18.91,14.82 19.96,13.53 20.58,12C19.27,9.11 15.9,7 12,7C10.91,7 9.89,7.16 8.94,7.45L7.33,5.82C8.75,5.06 10.32,4.5 12,4.5M3.42,9.08L5.61,11.27C5.58,11.5 5.56,11.75 5.56,12A3.04,3.04 0 0,0 8.6,15.04L10.05,16.5C8.38,17.21 6.36,17.5 4.42,17.29C5.53,15.86 6.32,14.11 6.63,12.57L3.42,9.08Z"),d(t,"xmlns","http://www.w3.org/2000/svg"),d(t,"viewBox","0 0 24 24"),d(t,"class","svelte-1acdicn")},m(l,o){T(l,t,o),u(t,n)},d(l){l&&O(t)}}}function vl(e){let t,n,l,o,r,i,c,s,a,f,m,g,p,_,v,w,S,C,k,D,M,V,E,z,$,W,x,j=e[10]?"Guardando...":"Guardar Cambios",Q,ue,ce;function me(F,L){return F[9]?Ti:Oi}let N=me(e),X=N(e);function ge(F,L){return F[9]?Vi:$i}let re=ge(e),A=re(e),y=e[11]&&wl(e);return{c(){t=h("div"),n=h("div"),l=h("div"),o=h("h3"),o.textContent="Editar Usuario",r=b(),i=h("button"),i.textContent="×",c=b(),s=h("form"),a=h("label"),f=B("Usuario: "),m=h("input"),g=b(),p=h("label"),_=B("Gmail: "),v=h("input"),w=b(),S=h("label"),C=B(`Nueva Contraseña:
            `),k=h("div"),X.c(),D=b(),M=h("button"),A.c(),V=b(),y&&y.c(),E=b(),z=h("div"),$=h("button"),$.textContent="Cancelar",W=b(),x=h("button"),Q=B(j),d(o,"class","svelte-1acdicn"),d(i,"class","close-btn svelte-1acdicn"),d(l,"class","modal-header svelte-1acdicn"),d(m,"type","text"),m.required=!0,d(m,"class","svelte-1acdicn"),d(a,"class","svelte-1acdicn"),d(v,"type","email"),d(v,"class","svelte-1acdicn"),d(p,"class","svelte-1acdicn"),d(M,"type","button"),d(M,"class","toggle-password svelte-1acdicn"),d(k,"class","password-wrapper svelte-1acdicn"),d(S,"class","svelte-1acdicn"),d($,"type","button"),d($,"class","btn-cancel svelte-1acdicn"),d(x,"type","submit"),d(x,"class","btn-save svelte-1acdicn"),x.disabled=e[10],d(z,"class","modal-actions svelte-1acdicn"),d(s,"class","modal-form svelte-1acdicn"),d(n,"class","modal-content svelte-1acdicn"),d(t,"class","modal-overlay svelte-1acdicn")},m(F,L){T(F,t,L),u(t,n),u(n,l),u(l,o),u(l,r),u(l,i),u(n,c),u(n,s),u(s,a),u(a,f),u(a,m),Y(m,e[5].username),u(s,g),u(s,p),u(p,_),u(p,v),Y(v,e[5].email),u(s,w),u(s,S),u(S,C),u(S,k),X.m(k,null),u(k,D),u(k,M),A.m(M,null),u(s,V),y&&y.m(s,null),u(s,E),u(s,z),u(z,$),u(z,W),u(z,x),u(x,Q),ue||(ce=[I(i,"click",e[18]),I(m,"input",e[29]),I(v,"input",e[30]),I(M,"click",e[33]),I($,"click",e[18]),I(s,"submit",e[14]),I(n,"click",ot(e[20]))],ue=!0)},p(F,L){L[0]&32&&m.value!==F[5].username&&Y(m,F[5].username),L[0]&32&&v.value!==F[5].email&&Y(v,F[5].email),N===(N=me(F))&&X?X.p(F,L):(X.d(1),X=N(F),X&&(X.c(),X.m(k,D))),re!==(re=ge(F))&&(A.d(1),A=re(F),A&&(A.c(),A.m(M,null))),F[11]?y?y.p(F,L):(y=wl(F),y.c(),y.m(s,E)):y&&(y.d(1),y=null),L[0]&1024&&j!==(j=F[10]?"Guardando...":"Guardar Cambios")&&we(Q,j),L[0]&1024&&(x.disabled=F[10])},d(F){F&&O(t),X.d(),A.d(),y&&y.d(),ue=!1,De(ce)}}}function Oi(e){let t,n,l;return{c(){t=h("input"),d(t,"type","password"),d(t,"placeholder","Dejar en blanco para no cambiar"),d(t,"class","svelte-1acdicn")},m(o,r){T(o,t,r),Y(t,e[7]),n||(l=I(t,"input",e[32]),n=!0)},p(o,r){r[0]&128&&t.value!==o[7]&&Y(t,o[7])},d(o){o&&O(t),n=!1,l()}}}function Ti(e){let t,n,l;return{c(){t=h("input"),d(t,"type","text"),d(t,"placeholder","Dejar en blanco para no cambiar"),d(t,"class","svelte-1acdicn")},m(o,r){T(o,t,r),Y(t,e[7]),n||(l=I(t,"input",e[31]),n=!0)},p(o,r){r[0]&128&&t.value!==o[7]&&Y(t,o[7])},d(o){o&&O(t),n=!1,l()}}}function $i(e){let t,n;return{c(){t=gt("svg"),n=gt("path"),d(n,"d","M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M12,7A5,5 0 0,0 7,12A5,5 0 0,0 12,17A5,5 0 0,0 17,12A5,5 0 0,0 12,7M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9Z"),d(t,"xmlns","http://www.w3.org/2000/svg"),d(t,"viewBox","0 0 24 24"),d(t,"class","svelte-1acdicn")},m(l,o){T(l,t,o),u(t,n)},d(l){l&&O(t)}}}function Vi(e){let t,n;return{c(){t=gt("svg"),n=gt("path"),d(n,"d","M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.45L2,5.27M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.77C18.91,14.82 19.96,13.53 20.58,12C19.27,9.11 15.9,7 12,7C10.91,7 9.89,7.16 8.94,7.45L7.33,5.82C8.75,5.06 10.32,4.5 12,4.5M3.42,9.08L5.61,11.27C5.58,11.5 5.56,11.75 5.56,12A3.04,3.04 0 0,0 8.6,15.04L10.05,16.5C8.38,17.21 6.36,17.5 4.42,17.29C5.53,15.86 6.32,14.11 6.63,12.57L3.42,9.08Z"),d(t,"xmlns","http://www.w3.org/2000/svg"),d(t,"viewBox","0 0 24 24"),d(t,"class","svelte-1acdicn")},m(l,o){T(l,t,o),u(t,n)},d(l){l&&O(t)}}}function wl(e){let t,n;return{c(){t=h("p"),n=B(e[11]),d(t,"class","error-message svelte-1acdicn")},m(l,o){T(l,t,o),u(t,n)},p(l,o){o[0]&2048&&we(n,l[11])},d(l){l&&O(t)}}}function bl(e){let t,n,l,o,r,i,c=e[2].fullName+"",s,a,f,m,g,p,_,v,w=e[4]?"Sí, Eliminar":"Espere 3 segundos",S,C,k,D,M=e[11]&&Cl(e);return{c(){t=h("div"),n=h("div"),l=h("h3"),l.textContent="Confirmar Eliminación",o=b(),r=h("p"),i=B('¿Está seguro que desea eliminar al usuario "'),s=B(c),a=B('"?'),f=b(),M&&M.c(),m=b(),g=h("div"),p=h("button"),p.textContent="Cancelar",_=b(),v=h("button"),S=B(w),d(l,"class","svelte-1acdicn"),d(p,"type","button"),d(p,"class","btn-cancel svelte-1acdicn"),d(v,"type","button"),d(v,"class","btn-delete svelte-1acdicn"),v.disabled=C=!e[4],d(g,"class","modal-actions svelte-1acdicn"),d(n,"class","modal-content confirmation svelte-1acdicn"),d(t,"class","modal-overlay svelte-1acdicn")},m(V,E){T(V,t,E),u(t,n),u(n,l),u(n,o),u(n,r),u(r,i),u(r,s),u(r,a),u(n,f),M&&M.m(n,null),u(n,m),u(n,g),u(g,p),u(g,_),u(g,v),u(v,S),k||(D=[I(p,"click",e[17]),I(v,"click",e[15]),I(n,"click",ot(e[19]))],k=!0)},p(V,E){E[0]&4&&c!==(c=V[2].fullName+"")&&we(s,c),V[11]?M?M.p(V,E):(M=Cl(V),M.c(),M.m(n,m)):M&&(M.d(1),M=null),E[0]&16&&w!==(w=V[4]?"Sí, Eliminar":"Espere 3 segundos")&&we(S,w),E[0]&16&&C!==(C=!V[4])&&(v.disabled=C)},d(V){V&&O(t),M&&M.d(),k=!1,De(D)}}}function Cl(e){let t,n;return{c(){t=h("p"),n=B(e[11]),d(t,"class","error-message svelte-1acdicn")},m(l,o){T(l,t,o),u(t,n)},p(l,o){o[0]&2048&&we(n,l[11])},d(l){l&&O(t)}}}function Ni(e){let t,n,l,o,r,i;const c=[Fi,Ai],s=[];function a(g,p){return g[1]&&g[0].length===0?0:1}t=a(e),n=s[t]=c[t](e);let f=e[6]&&vl(e),m=e[3]&&bl(e);return{c(){n.c(),l=b(),f&&f.c(),o=b(),m&&m.c(),r=tt()},m(g,p){s[t].m(g,p),T(g,l,p),f&&f.m(g,p),T(g,o,p),m&&m.m(g,p),T(g,r,p),i=!0},p(g,p){let _=t;t=a(g),t===_?s[t].p(g,p):(Ae(),J(s[_],1,1,()=>{s[_]=null}),Fe(),n=s[t],n?n.p(g,p):(n=s[t]=c[t](g),n.c()),G(n,1),n.m(l.parentNode,l)),g[6]?f?f.p(g,p):(f=vl(g),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null),g[3]?m?m.p(g,p):(m=bl(g),m.c(),m.m(r.parentNode,r)):m&&(m.d(1),m=null)},i(g){i||(G(n),i=!0)},o(g){J(n),i=!1},d(g){g&&(O(l),O(o),O(r)),s[t].d(g),f&&f.d(g),m&&m.d(g)}}}function zi(e,t,n){let l=[],o=!0;const r=ve.subscribe(H=>{n(0,l=H.users||[]),n(1,o=H.isLoading),H.error});let i=null,c=!1,s=!1,a=null,f=null,m=!1,g="",p=!1,_=!1,v=!1,w="";const S={username:"",email:"",fullName:"",password:"",role:"MECANIC"};let C={...S};Jl(()=>{l.length===0&&ve.fetchUsers()}),Nn(()=>{a&&clearTimeout(a),r()});async function k(H){H.preventDefault(),n(10,v=!0),n(11,w="");try{await ve.createUser(C),n(12,C={...S})}catch(le){n(11,w=le.message||"Error al crear usuario.")}finally{n(10,v=!1)}}async function D(H){if(H.preventDefault(),!!f){n(10,v=!0),n(11,w="");try{const le=[],Ce=l.find(ne=>ne.id===f.id);(Ce.username!==f.username||Ce.email!==f.email)&&le.push(ve.updateUser(f.id,{username:f.username,email:f.email})),g&&le.push(ve.changeUserPassword(f.id,g)),le.length>0&&await Promise.all(le),W()}catch(le){n(11,w=le.message||"Error al actualizar usuario.")}finally{n(10,v=!1)}}}async function M(){if(i){n(11,w="");try{await ve.deleteUser(i.id),z()}catch(H){n(11,w=H.message||"Error al eliminar usuario.")}}}function V(H){const{type:le,data:Ce}=H.detail;le==="edit"?$(Ce):le==="delete"&&E(Ce)}function E(H){n(2,i=H),n(3,c=!0),n(4,s=!1),a=setTimeout(()=>{n(4,s=!0)},3e3)}function z(){a&&clearTimeout(a),n(3,c=!1),n(2,i=null)}function $(H){n(5,f={...H}),n(7,g=""),n(11,w=""),n(6,m=!0)}function W(){n(6,m=!1),n(5,f=null)}function x(H){at.call(this,e,H)}function j(H){at.call(this,e,H)}const Q=()=>ve.fetchUsers();function ue(){C.username=this.value,n(12,C)}function ce(){C.email=this.value,n(12,C)}function me(){C.fullName=this.value,n(12,C)}function N(){C.password=this.value,n(12,C)}function X(){C.password=this.value,n(12,C)}const ge=()=>n(8,p=!p);function re(){C.role=nn(this),n(12,C)}function A(){f.username=this.value,n(5,f)}function y(){f.email=this.value,n(5,f)}function F(){g=this.value,n(7,g)}function L(){g=this.value,n(7,g)}return[l,o,i,c,s,f,m,g,p,_,v,w,C,k,D,M,V,z,W,x,j,Q,ue,ce,me,N,X,ge,re,A,y,F,L,()=>n(9,_=!_)]}class Hi extends Be{constructor(t){super(),Ze(this,t,zi,Ni,Ue,{},null,[-1,-1])}}function Ui(e){let t,n,l,o,r,i,c,s,a,f,m,g,p,_,v,w,S,C,k,D,M,V,E,z,$,W,x,j,Q,ue,ce,me,N,X,ge,re,A=e[2]?"Creando...":"Crear",y,F,L,ie,H,le,Ce,ne,fe=e[3]&&Sl(e);return H=new St({props:{columns:ki,data:e[11]}}),H.$on("action",e[16]),{c(){t=h("div"),n=h("div"),l=h("button"),l.textContent="Refrescar información",o=b(),r=h("div"),i=h("h3"),i.textContent="Crear Nueva Máquina",c=b(),s=h("form"),a=h("input"),f=b(),m=h("input"),g=b(),p=h("input"),_=b(),v=h("input"),w=b(),S=h("input"),C=b(),k=h("div"),D=h("label"),D.textContent="Pertenece a:",M=b(),V=h("select"),E=h("option"),E.textContent="Distrito",z=h("option"),z.textContent="Asociación",$=b(),W=h("div"),x=h("label"),x.textContent="SOAT:",j=b(),Q=h("input"),ue=b(),ce=h("div"),me=h("label"),me.textContent="RUNT:",N=b(),X=h("input"),ge=b(),re=h("button"),y=B(A),F=b(),fe&&fe.c(),L=b(),ie=h("div"),Re(H.$$.fragment),d(l,"class","btn-refresh svelte-559787"),d(n,"class","refresh-container svelte-559787"),d(i,"class","svelte-559787"),d(a,"type","text"),d(a,"placeholder","Nombre"),a.required=!0,a.disabled=e[2],d(a,"class","svelte-559787"),d(m,"type","text"),d(m,"placeholder","Marca"),m.disabled=e[2],d(m,"class","svelte-559787"),d(p,"type","text"),d(p,"placeholder","Modelo"),p.required=!0,p.disabled=e[2],d(p,"class","svelte-559787"),d(v,"type","text"),d(v,"placeholder","Núm. Motor"),v.disabled=e[2],d(v,"class","svelte-559787"),d(S,"type","text"),d(S,"placeholder","Núm. Identificación"),S.disabled=e[2],d(S,"class","svelte-559787"),d(D,"for","belongsTo"),E.__value="distrito",Y(E,E.__value),z.__value="asociacion",Y(z,z.__value),d(V,"id","belongsTo"),V.disabled=e[2],d(V,"class","svelte-559787"),e[4].belongsTo===void 0&&Pt(()=>e[30].call(V)),d(k,"class","form-group"),d(x,"for","newSoat"),d(Q,"type","date"),d(Q,"id","newSoat"),Q.disabled=e[2],d(Q,"class","svelte-559787"),d(W,"class","form-group"),d(me,"for","newRunt"),d(X,"type","date"),d(X,"id","newRunt"),X.disabled=e[2],d(X,"class","svelte-559787"),d(ce,"class","form-group"),d(re,"type","submit"),d(re,"class","btn-create svelte-559787"),re.disabled=e[2],d(s,"class","create-form svelte-559787"),d(r,"class","form-container svelte-559787"),d(ie,"class","table-wrapper svelte-559787"),d(t,"class","management-container svelte-559787")},m(K,de){T(K,t,de),u(t,n),u(n,l),u(t,o),u(t,r),u(r,i),u(r,c),u(r,s),u(s,a),Y(a,e[4].name),u(s,f),u(s,m),Y(m,e[4].brand),u(s,g),u(s,p),Y(p,e[4].model),u(s,_),u(s,v),Y(v,e[4].numEngine),u(s,w),u(s,S),Y(S,e[4].numInterIdentification),u(s,C),u(s,k),u(k,D),u(k,M),u(k,V),u(V,E),u(V,z),vt(V,e[4].belongsTo,!0),u(s,$),u(s,W),u(W,x),u(W,j),u(W,Q),Y(Q,e[4].soat),u(s,ue),u(s,ce),u(ce,me),u(ce,N),u(ce,X),Y(X,e[4].runt),u(s,ge),u(s,re),u(re,y),u(r,F),fe&&fe.m(r,null),u(t,L),u(t,ie),ke(H,ie,null),le=!0,Ce||(ne=[I(l,"click",e[24]),I(a,"input",e[25]),I(m,"input",e[26]),I(p,"input",e[27]),I(v,"input",e[28]),I(S,"input",e[29]),I(V,"change",e[30]),I(Q,"input",e[31]),I(X,"input",e[32]),I(s,"submit",e[12])],Ce=!0)},p(K,de){(!le||de[0]&4)&&(a.disabled=K[2]),de[0]&16&&a.value!==K[4].name&&Y(a,K[4].name),(!le||de[0]&4)&&(m.disabled=K[2]),de[0]&16&&m.value!==K[4].brand&&Y(m,K[4].brand),(!le||de[0]&4)&&(p.disabled=K[2]),de[0]&16&&p.value!==K[4].model&&Y(p,K[4].model),(!le||de[0]&4)&&(v.disabled=K[2]),de[0]&16&&v.value!==K[4].numEngine&&Y(v,K[4].numEngine),(!le||de[0]&4)&&(S.disabled=K[2]),de[0]&16&&S.value!==K[4].numInterIdentification&&Y(S,K[4].numInterIdentification),(!le||de[0]&4)&&(V.disabled=K[2]),de[0]&16&&vt(V,K[4].belongsTo),(!le||de[0]&4)&&(Q.disabled=K[2]),de[0]&16&&Y(Q,K[4].soat),(!le||de[0]&4)&&(X.disabled=K[2]),de[0]&16&&Y(X,K[4].runt),(!le||de[0]&4)&&A!==(A=K[2]?"Creando...":"Crear")&&we(y,A),(!le||de[0]&4)&&(re.disabled=K[2]),K[3]?fe?fe.p(K,de):(fe=Sl(K),fe.c(),fe.m(r,null)):fe&&(fe.d(1),fe=null);const Se={};de[0]&2048&&(Se.data=K[11]),H.$set(Se)},i(K){le||(G(H.$$.fragment,K),le=!0)},o(K){J(H.$$.fragment,K),le=!1},d(K){K&&O(t),fe&&fe.d(),ye(H),Ce=!1,De(ne)}}}function Gi(e){let t,n,l;return n=new kt({}),{c(){t=h("div"),Re(n.$$.fragment),d(t,"class","loader-container svelte-559787")},m(o,r){T(o,t,r),ke(n,t,null),l=!0},p:se,i(o){l||(G(n.$$.fragment,o),l=!0)},o(o){J(n.$$.fragment,o),l=!1},d(o){o&&O(t),ye(n)}}}function Sl(e){let t,n;return{c(){t=h("p"),n=B(e[3]),d(t,"class","error-message svelte-559787")},m(l,o){T(l,t,o),u(t,n)},p(l,o){o[0]&8&&we(n,l[3])},d(l){l&&O(t)}}}function kl(e){let t,n,l,o,r,i,c,s,a,f,m,g,p,_,v,w,S,C,k,D,M,V,E,z,$,W,x,j,Q,ue,ce,me,N,X,ge,re,A,y,F,L,ie,H,le,Ce,ne,fe,K=e[2]?"Guardando...":"Guardar Cambios",de,Se,Ge,Te,R=e[3]&&yl(e);return{c(){t=h("div"),n=h("div"),l=h("div"),o=h("h3"),o.textContent="Editar Máquina",r=b(),i=h("button"),i.textContent="×",c=b(),s=h("form"),a=h("label"),f=B("Nombre: "),m=h("input"),g=b(),p=h("label"),_=B("Marca: "),v=h("input"),w=b(),S=h("label"),C=B("Modelo: "),k=h("input"),D=b(),M=h("label"),V=B(`Pertenece a:
          `),E=h("select"),z=h("option"),z.textContent="Distrito",$=h("option"),$.textContent="Asociación",W=b(),x=h("label"),j=B("Núm. Motor: "),Q=h("input"),ue=b(),ce=h("label"),me=B("Núm. Identificación: "),N=h("input"),X=b(),ge=h("label"),re=B("SOAT: "),A=h("input"),y=b(),F=h("label"),L=B("RUNT: "),ie=h("input"),H=b(),le=h("div"),Ce=h("button"),Ce.textContent="Cancelar",ne=b(),fe=h("button"),de=B(K),Se=b(),R&&R.c(),d(o,"class","svelte-559787"),d(i,"class","close-btn svelte-559787"),d(l,"class","modal-header svelte-559787"),d(m,"type","text"),m.required=!0,d(m,"class","svelte-559787"),d(a,"class","svelte-559787"),d(v,"type","text"),d(v,"class","svelte-559787"),d(p,"class","svelte-559787"),d(k,"type","text"),k.required=!0,d(k,"class","svelte-559787"),d(S,"class","svelte-559787"),z.__value="distrito",Y(z,z.__value),$.__value="asociacion",Y($,$.__value),d(E,"class","svelte-559787"),e[5].belongsTo===void 0&&Pt(()=>e[36].call(E)),d(M,"class","svelte-559787"),d(Q,"type","text"),d(Q,"class","svelte-559787"),d(x,"class","svelte-559787"),d(N,"type","text"),d(N,"class","svelte-559787"),d(ce,"class","svelte-559787"),d(A,"type","date"),d(A,"class","svelte-559787"),d(ge,"class","svelte-559787"),d(ie,"type","date"),d(ie,"class","svelte-559787"),d(F,"class","svelte-559787"),d(Ce,"type","button"),d(Ce,"class","btn-cancel svelte-559787"),d(fe,"type","submit"),d(fe,"class","btn-save svelte-559787"),fe.disabled=e[2],d(le,"class","modal-actions svelte-559787"),d(s,"class","modal-form svelte-559787"),d(n,"class","modal-content svelte-559787"),d(t,"class","modal-overlay svelte-559787")},m(P,ee){T(P,t,ee),u(t,n),u(n,l),u(l,o),u(l,r),u(l,i),u(n,c),u(n,s),u(s,a),u(a,f),u(a,m),Y(m,e[5].name),u(s,g),u(s,p),u(p,_),u(p,v),Y(v,e[5].brand),u(s,w),u(s,S),u(S,C),u(S,k),Y(k,e[5].model),u(s,D),u(s,M),u(M,V),u(M,E),u(E,z),u(E,$),vt(E,e[5].belongsTo,!0),u(s,W),u(s,x),u(x,j),u(x,Q),Y(Q,e[5].numEngine),u(s,ue),u(s,ce),u(ce,me),u(ce,N),Y(N,e[5].numInterIdentification),u(s,X),u(s,ge),u(ge,re),u(ge,A),Y(A,e[5].soat),u(s,y),u(s,F),u(F,L),u(F,ie),Y(ie,e[5].runt),u(s,H),u(s,le),u(le,Ce),u(le,ne),u(le,fe),u(fe,de),u(s,Se),R&&R.m(s,null),Ge||(Te=[I(i,"click",e[17]),I(m,"input",e[33]),I(v,"input",e[34]),I(k,"input",e[35]),I(E,"change",e[36]),I(Q,"input",e[37]),I(N,"input",e[38]),I(A,"input",e[39]),I(ie,"input",e[40]),I(Ce,"click",e[17]),I(s,"submit",e[13]),I(n,"click",ot(e[23]))],Ge=!0)},p(P,ee){ee[0]&32&&m.value!==P[5].name&&Y(m,P[5].name),ee[0]&32&&v.value!==P[5].brand&&Y(v,P[5].brand),ee[0]&32&&k.value!==P[5].model&&Y(k,P[5].model),ee[0]&32&&vt(E,P[5].belongsTo),ee[0]&32&&Q.value!==P[5].numEngine&&Y(Q,P[5].numEngine),ee[0]&32&&N.value!==P[5].numInterIdentification&&Y(N,P[5].numInterIdentification),ee[0]&32&&Y(A,P[5].soat),ee[0]&32&&Y(ie,P[5].runt),ee[0]&4&&K!==(K=P[2]?"Guardando...":"Guardar Cambios")&&we(de,K),ee[0]&4&&(fe.disabled=P[2]),P[3]?R?R.p(P,ee):(R=yl(P),R.c(),R.m(s,null)):R&&(R.d(1),R=null)},d(P){P&&O(t),R&&R.d(),Ge=!1,De(Te)}}}function yl(e){let t,n;return{c(){t=h("p"),n=B(e[3]),d(t,"class","error-message svelte-559787")},m(l,o){T(l,t,o),u(t,n)},p(l,o){o[0]&8&&we(n,l[3])},d(l){l&&O(t)}}}function Rl(e){let t,n,l,o,r,i,c,s,a,f=e[0].name+"",m,g,p=e[0].model+"",_,v,w,S,C,k,D,M,V,E=e[1]?"Sí, Eliminar":"Espere 10 segundos",z,$,W,x;return{c(){t=h("div"),n=h("div"),l=h("h3"),l.textContent="Confirmar Eliminación",o=b(),r=h("p"),i=h("b"),i.textContent="NO RECOMENDADO",c=b(),s=h("br"),a=B(`
        ¿Está seguro que desea eliminar la máquina "`),m=B(f),g=b(),_=B(p),v=B('"? '),w=h("br"),S=B(`
        Los registros relacionados no se borran pero no podrá acceder a la hoja de vida`),C=b(),k=h("div"),D=h("button"),D.textContent="Cancelar",M=b(),V=h("button"),z=B(E),d(l,"class","svelte-559787"),d(D,"type","button"),d(D,"class","btn-cancel svelte-559787"),d(V,"type","button"),d(V,"class","btn-delete"),V.disabled=$=!e[1],d(k,"class","modal-actions svelte-559787"),d(n,"class","modal-content confirmation svelte-559787"),d(t,"class","modal-overlay svelte-559787")},m(j,Q){T(j,t,Q),u(t,n),u(n,l),u(n,o),u(n,r),u(r,i),u(r,c),u(r,s),u(r,a),u(r,m),u(r,g),u(r,_),u(r,v),u(r,w),u(r,S),u(n,C),u(n,k),u(k,D),u(k,M),u(k,V),u(V,z),W||(x=[I(D,"click",e[18]),I(V,"click",e[14]),I(n,"click",ot(e[22])),I(t,"click",e[18])],W=!0)},p(j,Q){Q[0]&1&&f!==(f=j[0].name+"")&&we(m,f),Q[0]&1&&p!==(p=j[0].model+"")&&we(_,p),Q[0]&2&&E!==(E=j[1]?"Sí, Eliminar":"Espere 10 segundos")&&we(z,E),Q[0]&2&&$!==($=!j[1])&&(V.disabled=$)},d(j){j&&O(t),W=!1,De(x)}}}function Ml(e){var V;let t,n,l,o,r,i=(((V=e[9])==null?void 0:V.machine.name)||"Cargando...")+"",c,s,a,f,m,g,p,_,v,w,S,C;const k=[ji,qi],D=[];function M(E,z){return E[8]?0:E[9]&&E[9].results?1:-1}return~(m=M(e))&&(g=D[m]=k[m](e)),{c(){t=h("div"),n=h("div"),l=h("div"),o=h("h3"),r=B("Hoja de Vida de: "),c=B(i),s=b(),a=h("button"),a.textContent="×",f=b(),g&&g.c(),p=b(),_=h("div"),v=h("button"),v.textContent="Cerrar",d(o,"class","svelte-559787"),d(a,"class","close-btn svelte-559787"),d(l,"class","modal-header svelte-559787"),d(v,"type","button"),d(v,"class","btn-cancel svelte-559787"),d(_,"class","modal-actions svelte-559787"),d(n,"class","modal-content large svelte-559787"),d(t,"class","modal-overlay svelte-559787")},m(E,z){T(E,t,z),u(t,n),u(n,l),u(l,o),u(o,r),u(o,c),u(l,s),u(l,a),u(n,f),~m&&D[m].m(n,null),u(n,p),u(n,_),u(_,v),w=!0,S||(C=[I(a,"click",e[15]),I(v,"click",e[15]),I(n,"click",ot(e[21]))],S=!0)},p(E,z){var W;(!w||z[0]&512)&&i!==(i=(((W=E[9])==null?void 0:W.machine.name)||"Cargando...")+"")&&we(c,i);let $=m;m=M(E),m===$?~m&&D[m].p(E,z):(g&&(Ae(),J(D[$],1,1,()=>{D[$]=null}),Fe()),~m?(g=D[m],g?g.p(E,z):(g=D[m]=k[m](E),g.c()),G(g,1),g.m(n,p)):g=null)},i(E){w||(G(g),w=!0)},o(E){J(g),w=!1},d(E){E&&O(t),~m&&D[m].d(),S=!1,De(C)}}}function qi(e){let t,n,l,o;const r=[Wi,Bi],i=[];function c(s,a){return s[9].results.length>0?0:1}return t=c(e),n=i[t]=r[t](e),{c(){n.c(),l=tt()},m(s,a){i[t].m(s,a),T(s,l,a),o=!0},p(s,a){let f=t;t=c(s),t===f?i[t].p(s,a):(Ae(),J(i[f],1,1,()=>{i[f]=null}),Fe(),n=i[t],n?n.p(s,a):(n=i[t]=r[t](s),n.c()),G(n,1),n.m(l.parentNode,l))},i(s){o||(G(n),o=!0)},o(s){J(n),o=!1},d(s){s&&O(l),i[t].d(s)}}}function ji(e){let t,n,l;return n=new kt({}),{c(){t=h("div"),Re(n.$$.fragment),d(t,"class","loader-container svelte-559787")},m(o,r){T(o,t,r),ke(n,t,null),l=!0},p:se,i(o){l||(G(n.$$.fragment,o),l=!0)},o(o){J(n.$$.fragment,o),l=!1},d(o){o&&O(t),ye(n)}}}function Bi(e){let t;return{c(){t=h("p"),t.textContent="No hay registros en la hoja de vida para esta máquina."},m(n,l){T(n,t,l)},p:se,i:se,o:se,d(n){n&&O(t)}}}function Wi(e){let t,n,l;return n=new St({props:{columns:Ei,data:e[9].results}}),{c(){t=h("div"),Re(n.$$.fragment),d(t,"class","table-wrapper modal-table svelte-559787")},m(o,r){T(o,t,r),ke(n,t,null),l=!0},p(o,r){const i={};r[0]&512&&(i.data=o[9].results),n.$set(i)},i(o){l||(G(n.$$.fragment,o),l=!0)},o(o){J(n.$$.fragment,o),l=!1},d(o){o&&O(t),ye(n)}}}function Ki(e){let t,n,l,o,r,i,c;const s=[Gi,Ui],a=[];function f(_,v){return _[10]&&_[11].length===0?0:1}t=f(e),n=a[t]=s[t](e);let m=e[6]&&kl(e),g=e[0]&&Rl(e),p=e[7]&&Ml(e);return{c(){n.c(),l=b(),m&&m.c(),o=b(),g&&g.c(),r=b(),p&&p.c(),i=tt()},m(_,v){a[t].m(_,v),T(_,l,v),m&&m.m(_,v),T(_,o,v),g&&g.m(_,v),T(_,r,v),p&&p.m(_,v),T(_,i,v),c=!0},p(_,v){let w=t;t=f(_),t===w?a[t].p(_,v):(Ae(),J(a[w],1,1,()=>{a[w]=null}),Fe(),n=a[t],n?n.p(_,v):(n=a[t]=s[t](_),n.c()),G(n,1),n.m(l.parentNode,l)),_[6]?m?m.p(_,v):(m=kl(_),m.c(),m.m(o.parentNode,o)):m&&(m.d(1),m=null),_[0]?g?g.p(_,v):(g=Rl(_),g.c(),g.m(r.parentNode,r)):g&&(g.d(1),g=null),_[7]?p?(p.p(_,v),v[0]&128&&G(p,1)):(p=Ml(_),p.c(),G(p,1),p.m(i.parentNode,i)):p&&(Ae(),J(p,1,1,()=>{p=null}),Fe())},i(_){c||(G(n),G(p),c=!0)},o(_){J(n),J(p),c=!1},d(_){_&&(O(l),O(o),O(r),O(i)),a[t].d(_),m&&m.d(_),g&&g.d(_),p&&p.d(_)}}}function Xi(e,t,n){let l,o,r;dt(e,ve,K=>n(20,r=K));let i=!1,c,s=!1,a="";const f={name:"",model:"",numEngine:"",numInterIdentification:"",brand:"",soat:"",runt:"",belongsTo:"distrito"};let m={...f},g=null,p=!1,_=null,v=!1,w=!1,S=null;Nn(()=>{clearTimeout(c)});async function C(K){K.preventDefault(),n(2,s=!0),n(3,a="");try{await ve.createMachine(m),n(4,m={...f})}catch(de){n(3,a=de.message||"Error al crear máquina.")}finally{n(2,s=!1)}}async function k(K){if(K.preventDefault(),!!g){n(2,s=!0),n(3,a="");try{await ve.updateMachine(g),$()}catch(de){n(3,a=de.message||"Error al actualizar máquina.")}finally{n(2,s=!1)}}}async function D(){if(!(!_||!i)){n(3,a="");try{await ve.deleteMachine(_.id),n(0,_=null)}catch(K){n(3,a=K.message||"Error al eliminar máquina.")}}}async function M(K){n(7,v=!0),n(8,w=!0),n(3,a="");try{n(9,S=await ve.fetchMachineCurriculum(K.id))}catch(de){n(3,a=`Error al cargar la hoja de vida: ${de.message}`),n(7,v=!1)}finally{n(8,w=!1)}}function V(){n(7,v=!1),n(9,S=null),n(3,a="")}function E(K){const{type:de,data:Se}=K.detail;de==="edit"?z(Se):de==="delete"?n(0,_=Se):de==="cv"&&M(Se)}function z(K){n(5,g={...K}),n(6,p=!0)}function $(){n(6,p=!1),n(5,g=null),n(3,a="")}function W(){n(0,_=null),clearTimeout(c)}function x(K){at.call(this,e,K)}function j(K){at.call(this,e,K)}function Q(K){at.call(this,e,K)}const ue=()=>ve.fetchMachines();function ce(){m.name=this.value,n(4,m)}function me(){m.brand=this.value,n(4,m)}function N(){m.model=this.value,n(4,m)}function X(){m.numEngine=this.value,n(4,m)}function ge(){m.numInterIdentification=this.value,n(4,m)}function re(){m.belongsTo=nn(this),n(4,m)}function A(){m.soat=this.value,n(4,m)}function y(){m.runt=this.value,n(4,m)}function F(){g.name=this.value,n(5,g)}function L(){g.brand=this.value,n(5,g)}function ie(){g.model=this.value,n(5,g)}function H(){g.belongsTo=nn(this),n(5,g)}function le(){g.numEngine=this.value,n(5,g)}function Ce(){g.numInterIdentification=this.value,n(5,g)}function ne(){g.soat=this.value,n(5,g)}function fe(){g.runt=this.value,n(5,g)}return e.$$.update=()=>{e.$$.dirty[0]&1048576&&n(11,l=r.machines),e.$$.dirty[0]&1048576&&n(10,o=r.isLoading),e.$$.dirty[0]&524289&&_&&(n(1,i=!1),clearTimeout(c),n(19,c=setTimeout(()=>{n(1,i=!0)},1e4)))},[_,i,s,a,m,g,p,v,w,S,o,l,C,k,D,V,E,$,W,c,r,x,j,Q,ue,ce,me,N,X,ge,re,A,y,F,L,ie,H,le,Ce,ne,fe]}class Zi extends Be{constructor(t){super(),Ze(this,t,Xi,Ki,Ue,{},null,[-1,-1])}}function El(e,t,n){const l=e.slice();return l[31]=t[n],l[32]=t,l[33]=n,l}function Al(e){let t,n,l;function o(){return e[23](e[31])}return{c(){t=h("button"),t.textContent="×",d(t,"type","button"),d(t,"class","btn-remove svelte-l7oe3k")},m(r,i){T(r,t,i),n||(l=I(t,"click",o),n=!0)},p(r,i){e=r},d(r){r&&O(t),n=!1,l()}}}function Fl(e,t){let n,l,o,r,i,c,s,a,f,m,g,p,_,v,w,S,C,k,D,M,V,E,z,$=t[4].length>1&&Al(t);function W(){t[24].call(f,t[32],t[33])}function x(){t[25].call(_,t[32],t[33])}function j(){t[26].call(C,t[32],t[33])}function Q(){t[27].call(V,t[32],t[33])}return{key:e,first:null,c(){n=h("div"),l=h("div"),o=h("span"),o.textContent="Repuesto",r=b(),$&&$.c(),i=b(),c=h("div"),s=h("label"),a=B("Referencia: "),f=h("input"),m=b(),g=h("label"),p=B("Nombre: "),_=h("input"),v=b(),w=h("label"),S=B("Cantidad: "),C=h("input"),k=b(),D=h("label"),M=B("Precio: "),V=h("input"),d(l,"class","card-header svelte-l7oe3k"),d(f,"type","text"),f.required=!0,d(f,"class","svelte-l7oe3k"),d(s,"class","svelte-l7oe3k"),d(_,"type","text"),_.required=!0,d(_,"class","svelte-l7oe3k"),d(g,"class","svelte-l7oe3k"),d(C,"type","number"),d(C,"min","1"),C.required=!0,d(C,"class","svelte-l7oe3k"),d(w,"class","svelte-l7oe3k"),d(V,"type","number"),d(V,"min","0"),V.required=!0,d(V,"class","svelte-l7oe3k"),d(D,"class","svelte-l7oe3k"),d(c,"class","form-grid svelte-l7oe3k"),d(n,"class","spare-part-card svelte-l7oe3k"),this.first=n},m(ue,ce){T(ue,n,ce),u(n,l),u(l,o),u(l,r),$&&$.m(l,null),u(n,i),u(n,c),u(c,s),u(s,a),u(s,f),Y(f,t[31].ref),u(c,m),u(c,g),u(g,p),u(g,_),Y(_,t[31].name),u(c,v),u(c,w),u(w,S),u(w,C),Y(C,t[31].quantity),u(c,k),u(c,D),u(D,M),u(D,V),Y(V,t[31].price),E||(z=[I(f,"input",W),I(_,"input",x),I(C,"input",j),I(V,"input",Q)],E=!0)},p(ue,ce){t=ue,t[4].length>1?$?$.p(t,ce):($=Al(t),$.c(),$.m(l,null)):$&&($.d(1),$=null),ce[0]&16&&f.value!==t[31].ref&&Y(f,t[31].ref),ce[0]&16&&_.value!==t[31].name&&Y(_,t[31].name),ce[0]&16&&zt(C.value)!==t[31].quantity&&Y(C,t[31].quantity),ce[0]&16&&zt(V.value)!==t[31].price&&Y(V,t[31].price)},d(ue){ue&&O(n),$&&$.d(),E=!1,De(z)}}}function Ji(e){var Wn,Kn;let t,n,l,o,r,i,c,s,a,f,m,g,p,_,v,w=((Wn=e[0].machine)==null?void 0:Wn.name)+"",S,C,k=((Kn=e[0].machine)==null?void 0:Kn.model)+"",D,M,V,E,z,$,W,x,j,Q,ue,ce,me,N,X,ge,re,A,y,F,L,ie,H,le,Ce,ne,fe,K,de,Se,Ge,Te,R,P,ee,U,Z,te,be,Me,q,ae,oe,pe,Ie,Ye,yt,Le,qe,We,xe,Ft,rt,wt,je,it,pt,ut,Ot,jt,et=[],Rt=new Map,$e,Pe,Je,Ne,Ve,ze,Ke,st,ct,dn,jn,Zt=nt(e[4]);const Bn=Ee=>Ee[31].id;for(let Ee=0;Ee<Zt.length;Ee+=1){let He=El(e,Zt,Ee),mt=Bn(He);Rt.set(mt,et[Ee]=Fl(mt,He))}return{c(){t=h("div"),n=h("div"),l=h("div"),o=h("h2"),o.textContent="Ejecutar Orden de Trabajo",r=b(),i=h("button"),i.textContent="×",c=b(),s=h("div"),a=h("div"),f=h("div"),f.textContent="Detalles de la Orden Original",m=b(),g=h("div"),p=h("p"),_=h("strong"),_.textContent="Máquina:",v=b(),S=B(w),C=B(" - "),D=B(k),M=b(),V=h("p"),E=h("strong"),E.textContent="Tipo:",z=b(),$=B(e[10]),W=b(),x=h("p"),j=h("strong"),j.textContent="Sector:",Q=b(),ue=B(e[11]),ce=b(),me=h("p"),N=h("strong"),N.textContent="Estado:",X=b(),ge=h("span"),ge.textContent=`${e[12]}`,re=b(),A=h("p"),y=h("strong"),y.textContent="Descripción orden:",F=b(),L=B(e[13]),ie=b(),H=h("p"),le=h("strong"),le.textContent="Asignado a:",Ce=b(),ne=B(e[14]),fe=b(),K=h("form"),de=h("div"),Se=h("label"),Se.textContent="Tiempo Empleado (ej. 2 horas, 30 mins):",Ge=b(),Te=h("input"),R=b(),P=h("label"),P.textContent="Descripción / Detalles del Trabajo Realizado:",ee=b(),U=h("textarea"),Z=b(),te=h("fieldset"),be=h("legend"),be.textContent="Mano de Obra",Me=b(),q=h("div"),ae=h("label"),oe=B("Contratista: "),pe=h("input"),Ie=b(),Ye=h("label"),yt=B("Precio: "),Le=h("input"),qe=b(),We=h("label"),xe=h("input"),Ft=B(`\r
      El arreglo fue realizado por el mismo mecánico que reportó`),rt=b(),wt=h("label"),wt.textContent="Observaciones de Mano de Obra:",je=b(),it=h("textarea"),pt=b(),ut=h("fieldset"),Ot=h("legend"),Ot.textContent="Partes y Repuestos",jt=b();for(let Ee=0;Ee<et.length;Ee+=1)et[Ee].c();$e=b(),Pe=h("button"),Pe.textContent="+ Agregar Repuesto",Je=b(),Ne=h("div"),Ve=h("button"),Ve.textContent="Cancelar",ze=b(),Ke=h("button"),st=B("Ejecutar y Completar Orden"),d(o,"class","svelte-l7oe3k"),d(i,"class","close-btn svelte-l7oe3k"),d(l,"class","modal-header svelte-l7oe3k"),d(f,"class","info-panel-header svelte-l7oe3k"),d(p,"class","svelte-l7oe3k"),d(V,"class","svelte-l7oe3k"),d(x,"class","svelte-l7oe3k"),Mn(ge,"font-weight","bold"),d(me,"class","svelte-l7oe3k"),d(A,"class","svelte-l7oe3k"),d(H,"class","svelte-l7oe3k"),d(g,"class","info-panel-body svelte-l7oe3k"),d(a,"class","info-panel svelte-l7oe3k"),d(Se,"class","svelte-l7oe3k"),d(Te,"type","text"),Te.required=!0,d(Te,"class","svelte-l7oe3k"),d(P,"class","svelte-l7oe3k"),d(U,"rows","4"),U.required=!0,d(U,"class","svelte-l7oe3k"),d(de,"class","form-section svelte-l7oe3k"),d(be,"class","svelte-l7oe3k"),d(pe,"type","text"),pe.required=!0,d(pe,"class","svelte-l7oe3k"),d(ae,"class","svelte-l7oe3k"),d(Le,"type","number"),d(Le,"min","0"),Le.required=!0,d(Le,"class","svelte-l7oe3k"),d(Ye,"class","svelte-l7oe3k"),d(q,"class","form-grid svelte-l7oe3k"),d(xe,"type","checkbox"),d(xe,"class","svelte-l7oe3k"),d(We,"class","checkbox-label svelte-l7oe3k"),d(wt,"class","svelte-l7oe3k"),d(it,"rows","2"),it.required=!0,d(it,"class","svelte-l7oe3k"),d(te,"class","form-section svelte-l7oe3k"),d(Ot,"class","svelte-l7oe3k"),d(Pe,"type","button"),d(Pe,"class","btn-add svelte-l7oe3k"),d(ut,"class","form-section svelte-l7oe3k"),d(s,"class","modal-body svelte-l7oe3k"),d(Ve,"class","btn-cancel svelte-l7oe3k"),d(Ke,"class","btn-create svelte-l7oe3k"),Ke.disabled=ct=!e[5],d(Ne,"class","modal-footer svelte-l7oe3k"),d(n,"class","modal-content svelte-l7oe3k"),d(t,"class","modal-overlay svelte-l7oe3k")},m(Ee,He){T(Ee,t,He),u(t,n),u(n,l),u(l,o),u(l,r),u(l,i),u(n,c),u(n,s),u(s,a),u(a,f),u(a,m),u(a,g),u(g,p),u(p,_),u(p,v),u(p,S),u(p,C),u(p,D),u(g,M),u(g,V),u(V,E),u(V,z),u(V,$),u(g,W),u(g,x),u(x,j),u(x,Q),u(x,ue),u(g,ce),u(g,me),u(me,N),u(me,X),u(me,ge),u(g,re),u(g,A),u(A,y),u(A,F),u(A,L),u(g,ie),u(g,H),u(H,le),u(H,Ce),u(H,ne),u(s,fe),u(s,K),u(K,de),u(de,Se),u(de,Ge),u(de,Te),Y(Te,e[1]),u(de,R),u(de,P),u(de,ee),u(de,U),Y(U,e[2]),u(K,Z),u(K,te),u(te,be),u(te,Me),u(te,q),u(q,ae),u(ae,oe),u(ae,pe),Y(pe,e[3].contractor),u(q,Ie),u(q,Ye),u(Ye,yt),u(Ye,Le),Y(Le,e[3].price),u(te,qe),u(te,We),u(We,xe),xe.checked=e[3].sameMecanic,u(We,Ft),u(te,rt),u(te,wt),u(te,je),u(te,it),Y(it,e[3].observations),u(K,pt),u(K,ut),u(ut,Ot),u(ut,jt);for(let mt=0;mt<et.length;mt+=1)et[mt]&&et[mt].m(ut,null);u(ut,$e),u(ut,Pe),u(n,Je),u(n,Ne),u(Ne,Ve),u(Ne,ze),u(Ne,Ke),u(Ke,st),dn||(jn=[I(i,"click",e[9]),I(Te,"input",e[17]),I(U,"input",e[18]),I(pe,"input",e[19]),I(Le,"input",e[20]),I(xe,"change",e[21]),I(it,"input",e[22]),I(Pe,"click",e[6]),I(K,"submit",Zl(e[8])),I(Ve,"click",e[9]),I(Ke,"click",e[8]),I(n,"click",ot(e[16]))],dn=!0)},p(Ee,He){var mt,Xn;He[0]&1&&w!==(w=((mt=Ee[0].machine)==null?void 0:mt.name)+"")&&we(S,w),He[0]&1&&k!==(k=((Xn=Ee[0].machine)==null?void 0:Xn.model)+"")&&we(D,k),He[0]&2&&Te.value!==Ee[1]&&Y(Te,Ee[1]),He[0]&4&&Y(U,Ee[2]),He[0]&8&&pe.value!==Ee[3].contractor&&Y(pe,Ee[3].contractor),He[0]&8&&zt(Le.value)!==Ee[3].price&&Y(Le,Ee[3].price),He[0]&8&&(xe.checked=Ee[3].sameMecanic),He[0]&8&&Y(it,Ee[3].observations),He[0]&144&&(Zt=nt(Ee[4]),et=xl(et,He,Bn,1,Ee,Zt,Rt,ut,Yl,Fl,$e,El)),He[0]&32&&ct!==(ct=!Ee[5])&&(Ke.disabled=ct)},i:se,o:se,d(Ee){Ee&&O(t);for(let He=0;He<et.length;He+=1)et[He].d();dn=!1,De(jn)}}}function Qi(e,t,n){var X,ge,re,A,y;let l,{workOrder:o=null}=t;const r=!1,i=Lt();let c="",s="",a={price:"",sameMecanic:!0,contractor:"",observations:""},f=[{id:1,ref:"",name:"",quantity:1,price:""}],m=2;function g(){n(4,f=[...f,{id:m++,ref:"",name:"",quantity:1,price:""}])}function p(F){n(4,f=f.filter(L=>L.id!==F)),f.length===0&&g()}function _(){if(!l)return;const F={ref:f.map(ie=>ie.ref).join("|"),name:f.map(ie=>ie.name).join("|"),quantity:f.map(ie=>ie.quantity).join("|"),price:f.reduce((ie,H)=>ie+(Number(H.price)||0),0)},L={orderId:o.order.id,timeSpent:c,description:s,labor:a,sparePart:F};i("execute",L)}function v(){i("cancel")}const w=o.order.description.split("|"),S=((X=w[0])==null?void 0:X.trim())||"",C=((ge=w[1])==null?void 0:ge.trim())||"",k=((re=w[2])==null?void 0:re.trim())||"",D=((A=w[3])==null?void 0:A.trim())||"",M=((y=w[4])==null?void 0:y.trim())||"";function V(F){at.call(this,e,F)}function E(){c=this.value,n(1,c)}function z(){s=this.value,n(2,s)}function $(){a.contractor=this.value,n(3,a)}function W(){a.price=zt(this.value),n(3,a)}function x(){a.sameMecanic=this.checked,n(3,a)}function j(){a.observations=this.value,n(3,a)}const Q=F=>p(F.id);function ue(F,L){F[L].ref=this.value,n(4,f)}function ce(F,L){F[L].name=this.value,n(4,f)}function me(F,L){F[L].quantity=zt(this.value),n(4,f)}function N(F,L){F[L].price=zt(this.value),n(4,f)}return e.$$set=F=>{"workOrder"in F&&n(0,o=F.workOrder)},e.$$.update=()=>{e.$$.dirty[0]&30&&n(5,l=c.trim()!==""&&s.trim()!==""&&a.contractor.trim()!==""&&a.price!==""&&Number(a.price)>=0&&a.observations.trim()!==""&&f.every(F=>F.ref.trim()!==""&&F.name.trim()!==""&&F.quantity!==""&&Number(F.quantity)>0&&F.price!==""&&Number(F.price)>=0))},[o,c,s,a,f,l,g,p,_,v,S,C,k,D,M,r,V,E,z,$,W,x,j,Q,ue,ce,me,N]}class Yi extends Be{constructor(t){super(),Ze(this,t,Qi,Ji,Ue,{workOrder:0,isSubmitting:15},null,[-1,-1])}get isSubmitting(){return this.$$.ctx[15]}}function co(e,t){if(!(typeof window<"u"))return Ct(t);const l=sessionStorage.getItem(e),o=l?JSON.parse(l):t,r=Ct(o);return r.subscribe(i=>{sessionStorage.setItem(e,JSON.stringify(i))}),r}const qn=co("notificationCount",0),rn=co("notificationMessages",[]);function Nt(e){if(_t(rn).some(l=>l.id===e.id)){console.log(`Notificación duplicada ignorada: ${e.id}`);return}rn.update(l=>[e,...l]),qn.update(l=>l+1)}function xi(e){rn.update(t=>t.filter(n=>n.id!==e)),qn.update(t=>t>0?t-1:0)}function es(){const{subscribe:e,update:t}=Ct({currentView:typeof localStorage<"u"&&localStorage.getItem("currentView")||"dashboard",showWorkOrderModal:!1,selectedRowData:null,selectedColumnDef:null,isSaving:!1});return{subscribe:e,setCurrentView:n=>{t(l=>({...l,currentView:n})),typeof localStorage<"u"&&localStorage.setItem("currentView",n)},openWorkOrderModal:(n,l)=>t(o=>({...o,showWorkOrderModal:!0,selectedRowData:n,selectedColumnDef:l})),closeWorkOrderModal:()=>t(n=>({...n,showWorkOrderModal:!1,selectedRowData:null,selectedColumnDef:null})),setSaving:n=>t(l=>({...l,isSaving:n}))}}const ht=es();function ts(e){let t,n,l,o,r,i,c;return o=new St({props:{columns:Si,data:e[3].data,totalElements:e[3].totalElements,totalPages:e[3].totalPages,currentPage:e[3].currentPage,pageSize:e[3].pageSize,fixedLayout:!1}}),o.$on("pageChange",e[5]),o.$on("sizeChange",e[6]),o.$on("action",e[7]),{c(){t=h("div"),n=h("button"),n.textContent="Refrescar información",l=b(),Re(o.$$.fragment),d(n,"class","btn-refresh svelte-d2p4gq"),d(t,"class","refresh-container svelte-d2p4gq")},m(s,a){T(s,t,a),u(t,n),T(s,l,a),ke(o,s,a),r=!0,i||(c=I(n,"click",e[10]),i=!0)},p(s,a){const f={};a&8&&(f.data=s[3].data),a&8&&(f.totalElements=s[3].totalElements),a&8&&(f.totalPages=s[3].totalPages),a&8&&(f.currentPage=s[3].currentPage),a&8&&(f.pageSize=s[3].pageSize),o.$set(f)},i(s){r||(G(o.$$.fragment,s),r=!0)},o(s){J(o.$$.fragment,s),r=!1},d(s){s&&(O(t),O(l)),ye(o,s),i=!1,c()}}}function ns(e){let t,n,l;return n=new kt({}),{c(){t=h("div"),Re(n.$$.fragment),d(t,"class","loader-container svelte-d2p4gq")},m(o,r){T(o,t,r),ke(n,t,null),l=!0},p:se,i(o){l||(G(n.$$.fragment,o),l=!0)},o(o){J(n.$$.fragment,o),l=!1},d(o){o&&O(t),ye(n)}}}function Dl(e){let t,n;return t=new Yi({props:{workOrder:e[1],isSubmitting:e[2]}}),t.$on("cancel",e[11]),t.$on("execute",e[8]),{c(){Re(t.$$.fragment)},m(l,o){ke(t,l,o),n=!0},p(l,o){const r={};o&2&&(r.workOrder=l[1]),o&4&&(r.isSubmitting=l[2]),t.$set(r)},i(l){n||(G(t.$$.fragment,l),n=!0)},o(l){J(t.$$.fragment,l),n=!1},d(l){ye(t,l)}}}function ls(e){let t,n,l,o,r;const i=[ns,ts],c=[];function s(f,m){return f[4]&&f[3].data.length===0?0:1}t=s(e),n=c[t]=i[t](e);let a=e[0]&&Dl(e);return{c(){n.c(),l=b(),a&&a.c(),o=tt()},m(f,m){c[t].m(f,m),T(f,l,m),a&&a.m(f,m),T(f,o,m),r=!0},p(f,[m]){let g=t;t=s(f),t===g?c[t].p(f,m):(Ae(),J(c[g],1,1,()=>{c[g]=null}),Fe(),n=c[t],n?n.p(f,m):(n=c[t]=i[t](f),n.c()),G(n,1),n.m(l.parentNode,l)),f[0]?a?(a.p(f,m),m&1&&G(a,1)):(a=Dl(f),a.c(),G(a,1),a.m(o.parentNode,o)):a&&(Ae(),J(a,1,1,()=>{a=null}),Fe())},i(f){r||(G(n),G(a),r=!0)},o(f){J(n),J(a),r=!1},d(f){f&&(O(l),O(o)),c[t].d(f),a&&a.d(f)}}}function os(e,t,n){let l,o,r;dt(e,ve,v=>n(9,r=v));let i=!1,c=null,s=!1;function a(v){const w=v.detail;ve.fetchWorkOrders(w,l.pageSize)}function f(v){const w=v.detail;ve.fetchWorkOrders(0,w)}function m(v){const{type:w,data:S}=v.detail;w==="execute"&&(n(1,c=S),n(0,i=!0))}async function g(v){n(2,s=!0);try{await ve.executeWorkOrder(v.detail),Nt({id:Date.now(),text:`Orden #${c.order.id} ejecutada con éxito.`}),n(0,i=!1)}catch(w){Nt({id:Date.now(),text:`Error al ejecutar la orden: ${w.message}`})}finally{n(2,s=!1)}}const p=()=>ve.fetchWorkOrders(),_=()=>n(0,i=!1);return e.$$.update=()=>{e.$$.dirty&512&&n(3,l=r.workOrders),e.$$.dirty&512&&n(4,o=r.isLoading)},[i,c,s,l,o,a,f,m,g,r,p,_]}class rs extends Be{constructor(t){super(),Ze(this,t,os,ls,Ue,{})}}function is(e){let t,n,l,o=e[3].length>0&&Il(e),r=e[2].length>0&&Pl(e);return{c(){o&&o.c(),t=b(),r&&r.c(),n=tt()},m(i,c){o&&o.m(i,c),T(i,t,c),r&&r.m(i,c),T(i,n,c),l=!0},p(i,c){i[3].length>0?o?(o.p(i,c),c&8&&G(o,1)):(o=Il(i),o.c(),G(o,1),o.m(t.parentNode,t)):o&&(Ae(),J(o,1,1,()=>{o=null}),Fe()),i[2].length>0?r?(r.p(i,c),c&4&&G(r,1)):(r=Pl(i),r.c(),G(r,1),r.m(n.parentNode,n)):r&&(Ae(),J(r,1,1,()=>{r=null}),Fe())},i(i){l||(G(o),G(r),l=!0)},o(i){J(o),J(r),l=!1},d(i){i&&(O(t),O(n)),o&&o.d(i),r&&r.d(i)}}}function ss(e){let t,n,l,o,r;return{c(){t=h("div"),n=h("p"),n.innerHTML="<strong>Se encontraron problemas al cargar los datos:</strong>",l=b(),o=h("p"),r=B(e[0]),d(t,"class","error-panel svelte-1ddgnwp")},m(i,c){T(i,t,c),u(t,n),u(t,l),u(t,o),u(o,r)},p(i,c){c&1&&we(r,i[0])},i:se,o:se,d(i){i&&O(t)}}}function as(e){let t,n,l,o,r;return n=new kt({}),{c(){t=h("div"),Re(n.$$.fragment),l=b(),o=h("p"),o.textContent="Cargando datos del consolidado...",d(t,"class","loader-container svelte-1ddgnwp")},m(i,c){T(i,t,c),ke(n,t,null),u(t,l),u(t,o),r=!0},p:se,i(i){r||(G(n.$$.fragment,i),r=!0)},o(i){J(n.$$.fragment,i),r=!1},d(i){i&&O(t),ye(n)}}}function Il(e){let t,n,l;return n=new St({props:{columns:e[4],data:e[3],fixedLayout:!1}}),{c(){t=h("div"),Re(n.$$.fragment),d(t,"class","table-group svelte-1ddgnwp")},m(o,r){T(o,t,r),ke(n,t,null),l=!0},p(o,r){const i={};r&8&&(i.data=o[3]),n.$set(i)},i(o){l||(G(n.$$.fragment,o),l=!0)},o(o){J(n.$$.fragment,o),l=!1},d(o){o&&O(t),ye(n)}}}function Pl(e){let t,n,l;return n=new St({props:{columns:e[5],data:e[2],fixedLayout:!1}}),{c(){t=h("div"),Re(n.$$.fragment),d(t,"class","table-group svelte-1ddgnwp")},m(o,r){T(o,t,r),ke(n,t,null),l=!0},p(o,r){const i={};r&4&&(i.data=o[2]),n.$set(i)},i(o){l||(G(n.$$.fragment,o),l=!0)},o(o){J(n.$$.fragment,o),l=!1},d(o){o&&O(t),ye(n)}}}function us(e){let t,n,l,o,r,i,c,s,a;const f=[as,ss,is],m=[];function g(p,_){return p[1]&&p[3].length===0&&p[2].length===0?0:p[0]?1:2}return r=g(e),i=m[r]=f[r](e),{c(){t=h("div"),n=h("div"),l=h("button"),l.textContent="Refrescar información",o=b(),i.c(),d(l,"class","btn-refresh svelte-1ddgnwp"),d(n,"class","refresh-container svelte-1ddgnwp"),d(t,"class","consolidado-container svelte-1ddgnwp")},m(p,_){T(p,t,_),u(t,n),u(n,l),u(t,o),m[r].m(t,null),c=!0,s||(a=I(l,"click",e[7]),s=!0)},p(p,[_]){let v=r;r=g(p),r===v?m[r].p(p,_):(Ae(),J(m[v],1,1,()=>{m[v]=null}),Fe(),i=m[r],i?i.p(p,_):(i=m[r]=f[r](p),i.c()),G(i,1),i.m(t,null))},i(p){c||(G(i),c=!0)},o(p){J(i),c=!1},d(p){p&&O(t),m[r].d(),s=!1,a()}}}function cs(e,t,n){let l,o,r,i,c;dt(e,ve,m=>n(6,c=m));const s=_l("Distrito"),a=_l("Asociación"),f=()=>ve.fetchConsolidadoData();return e.$$.update=()=>{e.$$.dirty&64&&n(3,l=c.consolidated.distrito),e.$$.dirty&64&&n(2,o=c.consolidated.asociacion),e.$$.dirty&64&&n(1,r=c.isLoading),e.$$.dirty&64&&n(0,i=c.error)},[i,r,o,l,s,a,c,f]}class ds extends Be{constructor(t){super(),Ze(this,t,cs,us,Ue,{})}}function fs(e){let t,n,l,o,r,i,c,s;return r=new St({props:{columns:yi,data:e[0].data,totalElements:e[0].totalElements,totalPages:e[0].totalPages,currentPage:e[0].currentPage,pageSize:e[0].pageSize}}),r.$on("action",e[8]),r.$on("cellContextMenu",e[5]),r.$on("pageChange",e[3]),r.$on("sizeChange",e[4]),{c(){t=h("div"),n=h("button"),n.textContent="Refrescar información",l=b(),o=h("div"),Re(r.$$.fragment),d(n,"class","btn-refresh svelte-1j9v02g"),d(t,"class","refresh-container svelte-1j9v02g"),d(o,"class","grid-wrapper svelte-1j9v02g")},m(a,f){T(a,t,f),u(t,n),T(a,l,f),T(a,o,f),ke(r,o,null),i=!0,c||(s=I(n,"click",e[7]),c=!0)},p(a,f){const m={};f&1&&(m.data=a[0].data),f&1&&(m.totalElements=a[0].totalElements),f&1&&(m.totalPages=a[0].totalPages),f&1&&(m.currentPage=a[0].currentPage),f&1&&(m.pageSize=a[0].pageSize),r.$set(m)},i(a){i||(G(r.$$.fragment,a),i=!0)},o(a){J(r.$$.fragment,a),i=!1},d(a){a&&(O(t),O(l),O(o)),ye(r),c=!1,s()}}}function gs(e){let t,n,l;return n=new kt({}),{c(){t=h("div"),Re(n.$$.fragment),d(t,"class","loader-container svelte-1j9v02g")},m(o,r){T(o,t,r),ke(n,t,null),l=!0},p:se,i(o){l||(G(n.$$.fragment,o),l=!0)},o(o){J(n.$$.fragment,o),l=!1},d(o){o&&O(t),ye(n)}}}function ps(e){let t,n,l,o;const r=[gs,fs],i=[];function c(s,a){return s[1]&&s[0].data.length===0?0:1}return t=c(e),n=i[t]=r[t](e),{c(){n.c(),l=tt()},m(s,a){i[t].m(s,a),T(s,l,a),o=!0},p(s,[a]){let f=t;t=c(s),t===f?i[t].p(s,a):(Ae(),J(i[f],1,1,()=>{i[f]=null}),Fe(),n=i[t],n?n.p(s,a):(n=i[t]=r[t](s),n.c()),G(n,1),n.m(l.parentNode,l))},i(s){o||(G(n),o=!0)},o(s){J(n),o=!1},d(s){s&&O(l),i[t].d(s)}}}function ms(e,t,n){let l,o,r;dt(e,ve,g=>n(6,r=g));const i=Lt();function c(g){const p=g.detail;ve.fetchDashboardData(p,l.pageSize)}function s(g){const p=g.detail;ve.fetchDashboardData(0,p)}function a(g){i("cellContextMenu",g.detail)}const f=()=>ve.fetchDashboardData(),m=g=>i("gridaction",g.detail);return e.$$.update=()=>{e.$$.dirty&64&&n(0,l=r.dashboard),e.$$.dirty&64&&n(1,o=r.isLoading)},[l,o,i,c,s,a,r,f,m]}class hs extends Be{constructor(t){super(),Ze(this,t,ms,ps,Ue,{})}}function Ll(e){let t,n;return{c(){t=h("div"),n=B(e[3]),d(t,"class","error svelte-ntcedd")},m(l,o){T(l,t,o),u(t,n)},p(l,o){o&8&&we(n,l[3])},d(l){l&&O(t)}}}function Ol(e){let t,n,l;return{c(){t=h("div"),n=B("Error del servidor: "),l=B(e[11]),d(t,"class","error svelte-ntcedd")},m(o,r){T(o,t,r),u(t,n),u(t,l)},p(o,r){r&2048&&we(l,o[11])},d(o){o&&O(t)}}}function _s(e){let t,n,l,o,r,i,c,s;return l=new St({props:{columns:e[17],data:e[0]}}),l.$on("action",e[16]),c=new St({props:{columns:e[17],data:e[1]}}),c.$on("action",e[16]),{c(){t=h("h3"),t.textContent="Aceites Hidráulicos",n=b(),Re(l.$$.fragment),o=b(),r=h("h3"),r.textContent="Aceites de Motor",i=b(),Re(c.$$.fragment),d(t,"class","table-title svelte-ntcedd"),d(r,"class","table-title svelte-ntcedd")},m(a,f){T(a,t,f),T(a,n,f),ke(l,a,f),T(a,o,f),T(a,r,f),T(a,i,f),ke(c,a,f),s=!0},p(a,f){const m={};f&1&&(m.data=a[0]),l.$set(m);const g={};f&2&&(g.data=a[1]),c.$set(g)},i(a){s||(G(l.$$.fragment,a),G(c.$$.fragment,a),s=!0)},o(a){J(l.$$.fragment,a),J(c.$$.fragment,a),s=!1},d(a){a&&(O(t),O(n),O(o),O(r),O(i)),ye(l,a),ye(c,a)}}}function vs(e){let t;return{c(){t=h("div"),t.textContent="Cargando aceites..."},m(n,l){T(n,t,l)},p:se,i:se,o:se,d(n){n&&O(t)}}}function Tl(e){let t,n,l,o,r,i,c,s,a,f,m,g,p,_,v,w,S,C,k,D=e[4]&&$l(e);return{c(){t=h("div"),n=h("div"),l=h("div"),o=h("h3"),o.textContent="Editar Aceite",r=b(),i=h("button"),i.textContent="×",c=b(),s=h("form"),a=h("label"),f=B(`Nombre / Marca:\r
          `),m=h("input"),g=b(),D&&D.c(),p=b(),_=h("div"),v=h("button"),v.textContent="Cancelar",w=b(),S=h("button"),S.textContent="Guardar Cambios",d(o,"class","svelte-ntcedd"),d(i,"class","close-btn svelte-ntcedd"),d(l,"class","modal-header svelte-ntcedd"),d(m,"type","text"),m.required=!0,d(m,"class","svelte-ntcedd"),d(a,"class","svelte-ntcedd"),d(v,"type","button"),d(v,"class","btn-cancel svelte-ntcedd"),d(S,"type","submit"),d(S,"class","btn-save svelte-ntcedd"),d(_,"class","modal-actions svelte-ntcedd"),d(s,"class","modal-form svelte-ntcedd"),d(n,"class","modal-content svelte-ntcedd"),d(t,"class","modal-overlay svelte-ntcedd")},m(M,V){T(M,t,V),u(t,n),u(n,l),u(l,o),u(l,r),u(l,i),u(n,c),u(n,s),u(s,a),u(a,f),u(a,m),Y(m,e[10]),u(s,g),D&&D.m(s,null),u(s,p),u(s,_),u(_,v),u(_,w),u(_,S),C||(k=[I(i,"click",e[15]),I(m,"input",e[24]),I(v,"click",e[15]),I(s,"submit",Zl(e[13])),I(n,"click",ot(e[20]))],C=!0)},p(M,V){V&1024&&m.value!==M[10]&&Y(m,M[10]),M[4]?D?D.p(M,V):(D=$l(M),D.c(),D.m(s,p)):D&&(D.d(1),D=null)},d(M){M&&O(t),D&&D.d(),C=!1,De(k)}}}function $l(e){let t,n;return{c(){t=h("p"),n=B(e[4]),d(t,"class","error svelte-ntcedd")},m(l,o){T(l,t,o),u(t,n)},p(l,o){o&16&&we(n,l[4])},d(l){l&&O(t)}}}function Vl(e){var C;let t,n,l,o,r,i,c,s=((C=e[9])==null?void 0:C.name)+"",a,f,m,g,p,_,v,w,S;return{c(){t=h("div"),n=h("div"),l=h("h3"),l.textContent="Confirmar Eliminación",o=b(),r=h("p"),i=B('¿Está seguro que desea eliminar el registro "'),c=h("strong"),a=B(s),f=B('"?'),m=b(),g=h("div"),p=h("button"),p.textContent="Cancelar",_=b(),v=h("button"),v.textContent="Sí, Eliminar",d(p,"type","button"),d(p,"class","btn-cancel svelte-ntcedd"),d(v,"type","button"),d(v,"class","btn-delete-confirm svelte-ntcedd"),d(g,"class","modal-actions svelte-ntcedd"),d(n,"class","modal-content confirmation svelte-ntcedd"),d(t,"class","modal-overlay svelte-ntcedd")},m(k,D){T(k,t,D),u(t,n),u(n,l),u(n,o),u(n,r),u(r,i),u(r,c),u(c,a),u(r,f),u(n,m),u(n,g),u(g,p),u(g,_),u(g,v),w||(S=[I(p,"click",e[15]),I(v,"click",e[14]),I(n,"click",ot(e[19]))],w=!0)},p(k,D){var M;D&512&&s!==(s=((M=k[9])==null?void 0:M.name)+"")&&we(a,s)},d(k){k&&O(t),w=!1,De(S)}}}function ws(e){let t,n,l,o,r,i,c,s,a,f,m,g,p,_,v,w,S,C,k,D,M,V,E,z,$,W,x,j,Q,ue,ce,me,N=e[3]&&Ll(e),X=e[11]&&!e[3]&&!e[4]&&Ol(e);const ge=[vs,_s],re=[];function A(L,ie){return L[2]&&!L[0].length&&!L[1].length?0:1}$=A(e),W=re[$]=ge[$](e);let y=e[7]&&Tl(e),F=e[8]&&Vl(e);return{c(){t=h("div"),n=h("button"),n.textContent="Refrescar información",l=b(),o=h("div"),r=h("h3"),r.textContent="Nuevo Registro de Aceite",i=b(),c=h("div"),s=h("div"),a=h("label"),a.textContent="Nombre / Marca:",f=b(),m=h("input"),g=b(),p=h("div"),_=h("label"),_.textContent="Tipo:",v=b(),w=h("select"),S=h("option"),S.textContent="Hidráulico",C=h("option"),C.textContent="Motor",k=b(),D=h("div"),M=h("button"),M.textContent="Crear",V=b(),N&&N.c(),E=b(),X&&X.c(),z=b(),W.c(),x=b(),y&&y.c(),j=b(),F&&F.c(),Q=tt(),d(n,"class","btn-refresh svelte-ntcedd"),d(t,"class","refresh-container svelte-ntcedd"),d(a,"for","new-name"),d(a,"class","svelte-ntcedd"),d(m,"id","new-name"),d(m,"placeholder","Ej: Mobil, Shell..."),d(m,"class","svelte-ntcedd"),d(s,"class","form-field svelte-ntcedd"),d(_,"for","new-type"),d(_,"class","svelte-ntcedd"),S.__value="hidraulico",Y(S,S.__value),C.__value="motor",Y(C,C.__value),d(w,"id","new-type"),d(w,"class","svelte-ntcedd"),e[6]===void 0&&Pt(()=>e[23].call(w)),d(p,"class","form-field svelte-ntcedd"),d(c,"class","form-grid svelte-ntcedd"),d(M,"class","btn svelte-ntcedd"),d(D,"class","form-actions svelte-ntcedd"),d(o,"class","form-container svelte-ntcedd")},m(L,ie){T(L,t,ie),u(t,n),T(L,l,ie),T(L,o,ie),u(o,r),u(o,i),u(o,c),u(c,s),u(s,a),u(s,f),u(s,m),Y(m,e[5]),u(c,g),u(c,p),u(p,_),u(p,v),u(p,w),u(w,S),u(w,C),vt(w,e[6],!0),u(o,k),u(o,D),u(D,M),u(o,V),N&&N.m(o,null),T(L,E,ie),X&&X.m(L,ie),T(L,z,ie),re[$].m(L,ie),T(L,x,ie),y&&y.m(L,ie),T(L,j,ie),F&&F.m(L,ie),T(L,Q,ie),ue=!0,ce||(me=[I(n,"click",e[21]),I(m,"input",e[22]),I(w,"change",e[23]),I(M,"click",e[12])],ce=!0)},p(L,[ie]){ie&32&&m.value!==L[5]&&Y(m,L[5]),ie&64&&vt(w,L[6]),L[3]?N?N.p(L,ie):(N=Ll(L),N.c(),N.m(o,null)):N&&(N.d(1),N=null),L[11]&&!L[3]&&!L[4]?X?X.p(L,ie):(X=Ol(L),X.c(),X.m(z.parentNode,z)):X&&(X.d(1),X=null);let H=$;$=A(L),$===H?re[$].p(L,ie):(Ae(),J(re[H],1,1,()=>{re[H]=null}),Fe(),W=re[$],W?W.p(L,ie):(W=re[$]=ge[$](L),W.c()),G(W,1),W.m(x.parentNode,x)),L[7]?y?y.p(L,ie):(y=Tl(L),y.c(),y.m(j.parentNode,j)):y&&(y.d(1),y=null),L[8]?F?F.p(L,ie):(F=Vl(L),F.c(),F.m(Q.parentNode,Q)):F&&(F.d(1),F=null)},i(L){ue||(G(W),ue=!0)},o(L){J(W),ue=!1},d(L){L&&(O(t),O(l),O(o),O(E),O(z),O(x),O(j),O(Q)),N&&N.d(),X&&X.d(L),re[$].d(L),y&&y.d(L),F&&F.d(L),ce=!1,De(me)}}}function bs(e,t,n){let l,o;dt(e,ve,j=>n(18,o=j));let r=[],i=[],c=o.isLoading,s="",a="",f="",m="hidraulico",g=!1,p=!1,_=null,v="";async function w(){if(n(3,s=""),!f.trim()){n(3,s="El campo Nombre / Marca no puede estar vacío.");return}try{await ve.createOil({name:f,type:m}),n(5,f="")}catch{}}async function S(){if(n(4,a=""),!v.trim()){n(4,a="El nombre no puede estar vacío.");return}try{await ve.updateOil(_.id,{..._,name:v}),k()}catch{}}async function C(){try{await ve.deleteOil(_.id),k()}catch{}}function k(){n(7,g=!1),n(8,p=!1),n(9,_=null)}function D(j){const{type:Q,data:ue}=j.detail;Q==="edit"?(n(9,_=ue),n(10,v=ue.name),n(4,a=""),n(7,g=!0)):Q==="delete"&&(n(9,_=ue),n(8,p=!0))}const M=[{header:"Nombre",accessorKey:"name"},{header:"Tipo",accessorKey:"type"},{header:"Acciones",id:"actions",meta:{isAction:!0}}];function V(j){at.call(this,e,j)}function E(j){at.call(this,e,j)}const z=()=>ve.fetchOils();function $(){f=this.value,n(5,f)}function W(){m=nn(this),n(6,m)}function x(){v=this.value,n(10,v)}return e.$$.update=()=>{if(e.$$.dirty&262144){const j=o.oils||[];n(0,r=j.filter(Q=>Q.type&&Q.type.trim().toLowerCase()==="hidraulico")),n(1,i=j.filter(Q=>Q.type&&Q.type.trim().toLowerCase()==="motor"))}e.$$.dirty&262144&&n(2,c=o.isLoading),e.$$.dirty&262144&&n(11,l=o.error||"")},[r,i,c,s,a,f,m,g,p,_,v,l,w,S,C,k,D,M,o,V,E,z,$,W,x]}class Cs extends Be{constructor(t){super(),Ze(this,t,bs,ws,Ue,{})}}function Ss(e){let t,n,l,o,r=e[2],i,c,s=e[2]+1+"",a,f,m=e[1].length+"",g,p,_,v,w,S=Nl(e);return{c(){t=h("div"),n=h("button"),n.textContent="❮",l=b(),o=h("div"),S.c(),i=b(),c=h("div"),a=B(s),f=B(" / "),g=B(m),p=b(),_=h("button"),_.textContent="❯",d(n,"class","nav-btn prev svelte-n3qlb5"),d(c,"class","image-counter svelte-n3qlb5"),d(o,"class","image-wrapper svelte-n3qlb5"),d(_,"class","nav-btn next svelte-n3qlb5"),d(t,"class","carousel-container svelte-n3qlb5")},m(C,k){T(C,t,k),u(t,n),u(t,l),u(t,o),S.m(o,null),u(o,i),u(o,c),u(c,a),u(c,f),u(c,g),u(t,p),u(t,_),v||(w=[I(n,"click",e[6]),I(_,"click",e[5])],v=!0)},p(C,k){k&4&&Ue(r,r=C[2])?(S.d(1),S=Nl(C),S.c(),S.m(o,i)):S.p(C,k),k&4&&s!==(s=C[2]+1+"")&&we(a,s),k&2&&m!==(m=C[1].length+"")&&we(g,m)},i:se,o:se,d(C){C&&O(t),S.d(C),v=!1,De(w)}}}function ks(e){let t;return{c(){t=h("div"),t.innerHTML="<p>No hay imágenes para esta inspección.</p>",d(t,"class","status-container svelte-n3qlb5")},m(n,l){T(n,t,l)},p:se,i:se,o:se,d(n){n&&O(t)}}}function ys(e){let t,n,l;return n=new kt({}),{c(){t=h("div"),Re(n.$$.fragment),d(t,"class","status-container svelte-n3qlb5")},m(o,r){T(o,t,r),ke(n,t,null),l=!0},p:se,i(o){l||(G(n.$$.fragment,o),l=!0)},o(o){J(n.$$.fragment,o),l=!1},d(o){o&&O(t),ye(n)}}}function Rs(e){let t,n,l,o,r;return{c(){t=h("img"),Zn(t.src,n=e[1][e[2]].blobUrl)||d(t,"src",n),d(t,"alt",l=`Inspección ${e[2]+1}`),d(t,"class","svelte-n3qlb5")},m(i,c){T(i,t,c),o||(r=I(t,"error",e[7]),o=!0)},p(i,c){c&6&&!Zn(t.src,n=i[1][i[2]].blobUrl)&&d(t,"src",n),c&4&&l!==(l=`Inspección ${i[2]+1}`)&&d(t,"alt",l)},d(i){i&&O(t),o=!1,r()}}}function Ms(e){let t,n,l=e[3]?"URL de imagen roto":"Error al cargar imagen",o;return{c(){t=h("div"),n=h("span"),o=B(l),d(t,"class","image-error svelte-n3qlb5")},m(r,i){T(r,t,i),u(t,n),u(n,o)},p(r,i){i&8&&l!==(l=r[3]?"URL de imagen roto":"Error al cargar imagen")&&we(o,l)},d(r){r&&O(t)}}}function Nl(e){let t;function n(r,i){return r[3]||!r[1][r[2]].blobUrl?Ms:Rs}let l=n(e),o=l(e);return{c(){o.c(),t=tt()},m(r,i){o.m(r,i),T(r,t,i)},p(r,i){l===(l=n(r))&&o?o.p(r,i):(o.d(1),o=l(r),o&&(o.c(),o.m(t.parentNode,t)))},d(r){r&&O(t),o.d(r)}}}function Es(e){let t,n,l,o,r,i,c,s,a,f,m,g,p;const _=[ys,ks,Ss],v=[];function w(S,C){return S[0]?0:S[1].length===0?1:2}return a=w(e),f=v[a]=_[a](e),{c(){t=h("div"),n=h("div"),l=h("div"),o=h("h3"),o.textContent="Imágenes de la Inspección",r=b(),i=h("button"),i.textContent="×",c=b(),s=h("div"),f.c(),d(o,"class","svelte-n3qlb5"),d(i,"class","close-btn svelte-n3qlb5"),d(l,"class","modal-header svelte-n3qlb5"),d(s,"class","modal-body svelte-n3qlb5"),d(n,"class","modal-content svelte-n3qlb5"),d(t,"class","modal-overlay svelte-n3qlb5")},m(S,C){T(S,t,C),u(t,n),u(n,l),u(l,o),u(l,r),u(l,i),u(n,c),u(n,s),v[a].m(s,null),m=!0,g||(p=[I(i,"click",e[4]),I(n,"click",ot(e[9])),I(t,"click",e[4])],g=!0)},p(S,[C]){let k=a;a=w(S),a===k?v[a].p(S,C):(Ae(),J(v[k],1,1,()=>{v[k]=null}),Fe(),f=v[a],f?f.p(S,C):(f=v[a]=_[a](S),f.c()),G(f,1),f.m(s,null))},i(S){m||(G(f),m=!0)},o(S){J(f),m=!1},d(S){S&&O(t),v[a].d(),g=!1,De(p)}}}function As(e,t,n){let{imageUrls:l=[]}=t,{isLoading:o=!1}=t;const r=Lt();let i=0,c=!1,s=[];async function a(){console.log("Starting fetchBlobs"),n(0,o=!0);try{n(1,s=await Promise.all(l.map(async v=>{console.log("Fetching image URL:",v.url);try{const w=await fetch(v.url);if(console.log("Response status for",v.url,":",w.status),!w.ok)throw new Error(`HTTP ${w.status}`);const S=await w.blob(),C=URL.createObjectURL(S);return console.log("Blob created for",v.url),{...v,blobUrl:C}}catch(w){return console.error("Error fetching image:",w),{...v,blobUrl:null}}}))),console.log("All fetches completed, blobImages:",s)}catch(v){console.error("Error in fetchBlobs:",v),n(1,s=[])}console.log("Setting isLoading to false"),n(0,o=!1)}function f(){s.forEach(v=>{v.blobUrl&&URL.revokeObjectURL(v.blobUrl)}),n(1,s=[]),r("close")}function m(){n(2,i=(i+1)%s.length)}function g(){n(2,i=(i-1+s.length)%s.length)}function p(){n(3,c=!0)}function _(v){at.call(this,e,v)}return e.$$set=v=>{"imageUrls"in v&&n(8,l=v.imageUrls),"isLoading"in v&&n(0,o=v.isLoading)},e.$$.update=()=>{e.$$.dirty&2&&s.length>0&&(n(2,i=0),n(3,c=!1)),e.$$.dirty&258&&l.length>0&&s.length===0&&(console.log("fetchBlobs called with imageUrls:",l),a())},[o,s,i,c,f,m,g,p,l,_]}class Fs extends Be{constructor(t){super(),Ze(this,t,As,Es,Ue,{imageUrls:8,isLoading:0})}}function zl(e,t,n){const l=e.slice();return l[4]=t[n],l}function Ds(e){let t=[],n=new Map,l,o=nt(e[0]);const r=i=>i[4].id;for(let i=0;i<o.length;i+=1){let c=zl(e,o,i),s=r(c);n.set(s,t[i]=Hl(s,c))}return{c(){for(let i=0;i<t.length;i+=1)t[i].c();l=tt()},m(i,c){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(i,c);T(i,l,c)},p(i,c){c&3&&(o=nt(i[0]),t=xl(t,c,r,1,i,o,n,l.parentNode,Yl,Hl,l,zl))},d(i){i&&O(l);for(let c=0;c<t.length;c+=1)t[c].d(i)}}}function Is(e){let t;return{c(){t=h("div"),t.textContent="No hay notificaciones",d(t,"class","dropdown-item empty svelte-d2sajp")},m(n,l){T(n,t,l)},p:se,d(n){n&&O(t)}}}function Hl(e,t){let n,l,o=t[4].text+"",r,i,c,s,a,f;function m(){return t[2](t[4])}return{key:e,first:null,c(){n=h("div"),l=h("span"),r=B(o),i=b(),c=h("button"),c.textContent="×",s=b(),d(c,"class","delete-btn svelte-d2sajp"),d(c,"title","Borrar notificación"),d(n,"class","dropdown-item svelte-d2sajp"),this.first=n},m(g,p){T(g,n,p),u(n,l),u(l,r),u(n,i),u(n,c),u(n,s),a||(f=I(c,"click",ot(m)),a=!0)},p(g,p){t=g,p&1&&o!==(o=t[4].text+"")&&we(r,o)},d(g){g&&O(n),a=!1,f()}}}function Ps(e){let t;function n(r,i){return r[0].length===0?Is:Ds}let l=n(e),o=l(e);return{c(){t=h("div"),o.c(),d(t,"class","dropdown-container svelte-d2sajp")},m(r,i){T(r,t,i),o.m(t,null)},p(r,[i]){l===(l=n(r))&&o?o.p(r,i):(o.d(1),o=l(r),o&&(o.c(),o.m(t,null)))},i:se,o:se,d(r){r&&O(t),o.d()}}}function Ls(e,t,n){let{messages:l=[]}=t;const o=Lt();function r(c){o("delete",c)}const i=c=>r(c.id);return e.$$set=c=>{"messages"in c&&n(0,l=c.messages)},[l,r,i]}class Os extends Be{constructor(t){super(),Ze(this,t,Ls,Ps,Ue,{messages:0})}}const{window:Ts}=mo;function Ul(e){let t,n,l;return{c(){t=h("div"),t.innerHTML='<div class="message-box svelte-83w9dc"><h2 class="svelte-83w9dc">Activar Sonido</h2> <p>Haga clic en cualquier lugar para habilitar las notificaciones de sonido.</p></div>',d(t,"class","sound-activation-overlay svelte-83w9dc")},m(o,r){T(o,t,r),n||(l=I(t,"click",e[15]),n=!0)},p:se,d(o){o&&O(t),n=!1,l()}}}function Gl(e){let t,n,l;return n=new kt({}),{c(){t=h("div"),Re(n.$$.fragment),d(t,"class","overlay svelte-83w9dc")},m(o,r){T(o,t,r),ke(n,t,null),l=!0},i(o){l||(G(n.$$.fragment,o),l=!0)},o(o){J(n.$$.fragment,o),l=!1},d(o){o&&O(t),ye(n)}}}function ql(e){let t,n,l,o,r,i;return l=new kt({}),{c(){t=h("div"),n=h("div"),Re(l.$$.fragment),o=b(),r=h("p"),r.textContent="Renovando sesión...",d(n,"class","refresh-indicator svelte-83w9dc"),d(t,"class","overlay svelte-83w9dc")},m(c,s){T(c,t,s),u(t,n),ke(l,n,null),u(n,o),u(n,r),i=!0},i(c){i||(G(l.$$.fragment,c),i=!0)},o(c){J(l.$$.fragment,c),i=!1},d(c){c&&O(t),ye(l)}}}function $s(e){var Ce;let t,n,l,o,r,i,c,s,a,f,m,g,p,_,v,w,S,C,k,D,M=((Ce=e[6].currentUser)==null?void 0:Ce.name)+"",V,E,z,$,W,x,j,Q,ue,ce,me,N;n=new qo({props:{activeView:e[7].currentView}}),n.$on("navigate",e[10]);function X(ne,fe){if(ne[7].currentView==="dashboard")return qs;if(ne[7].currentView==="users")return Gs;if(ne[7].currentView==="machines")return Us;if(ne[7].currentView==="work-orders")return Hs;if(ne[7].currentView==="consolidado")return zs;if(ne[7].currentView==="oilManagement")return Ns}let ge=X(e),re=ge&&ge(e),A=e[4]>0&&jl(e),y=e[3]&&Bl(e);const F=[Zs,Xs,Ks,Ws,Bs,js],L=[];function ie(ne,fe){return ne[7].currentView==="dashboard"?0:ne[7].currentView==="users"?1:ne[7].currentView==="machines"?2:ne[7].currentView==="work-orders"?3:ne[7].currentView==="consolidado"?4:ne[7].currentView==="oilManagement"?5:-1}~(x=ie(e))&&(j=L[x]=F[x](e));let H=e[7].showWorkOrderModal&&Wl(e),le=e[0]&&Kl(e);return{c(){t=h("div"),Re(n.$$.fragment),l=b(),o=h("main"),r=h("header"),i=h("div"),i.innerHTML='<div class="logo svelte-83w9dc"><img src="https://usochicamocha.com.co/wp-content/uploads/2024/02/Usochicamocha-v2.png" alt="Logo de Usochicamocha" class="logo-image svelte-83w9dc"/></div>',c=b(),s=h("div"),a=h("h2"),re&&re.c(),f=b(),m=h("div"),g=h("div"),p=h("button"),_=gt("svg"),v=gt("path"),w=b(),A&&A.c(),S=b(),y&&y.c(),C=b(),k=h("span"),D=B("Usuario: "),V=B(M),E=b(),z=h("button"),z.textContent="Cerrar Sesión",$=b(),W=h("div"),j&&j.c(),Q=b(),H&&H.c(),ue=b(),le&&le.c(),d(i,"class","header-left svelte-83w9dc"),d(a,"class","svelte-83w9dc"),d(s,"class","header-center svelte-83w9dc"),d(v,"d","M12,22A2,2 0 0,0 14,20H10A2,2 0 0,0 12,22M18,16V11C18,7.93 16.36,5.36 13.5,4.68V4A1.5,1.5 0 0,0 12,2.5A1.5,1.5 0 0,0 10.5,4V4.68C7.63,5.36 6,7.93 6,11V16L4,18V19H20V18L18,16Z"),d(_,"xmlns","http://www.w3.org/2000/svg"),d(_,"viewBox","0 0 24 24"),d(_,"class","svelte-83w9dc"),d(p,"class","notification-bell svelte-83w9dc"),d(p,"title","Notificaciones"),d(g,"class","notification-wrapper svelte-83w9dc"),d(k,"class","user-info svelte-83w9dc"),d(z,"class","logout-btn svelte-83w9dc"),d(m,"class","header-right svelte-83w9dc"),d(r,"class","header svelte-83w9dc"),d(W,"class","content svelte-83w9dc"),d(o,"class","main-content svelte-83w9dc"),d(t,"class","app-container svelte-83w9dc")},m(ne,fe){T(ne,t,fe),ke(n,t,null),u(t,l),u(t,o),u(o,r),u(r,i),u(r,c),u(r,s),u(s,a),re&&re.m(a,null),u(r,f),u(r,m),u(m,g),u(g,p),u(p,_),u(_,v),u(p,w),A&&A.m(p,null),u(g,S),y&&y.m(g,null),u(m,C),u(m,k),u(k,D),u(k,V),u(m,E),u(m,z),u(o,$),u(o,W),~x&&L[x].m(W,null),u(t,Q),H&&H.m(t,null),u(t,ue),le&&le.m(t,null),ce=!0,me||(N=[I(p,"click",e[17]),I(g,"click",ot(e[19])),I(z,"click",Ut.logout)],me=!0)},p(ne,fe){var Se;const K={};fe[0]&128&&(K.activeView=ne[7].currentView),n.$set(K),ge!==(ge=X(ne))&&(re&&re.d(1),re=ge&&ge(ne),re&&(re.c(),re.m(a,null))),ne[4]>0?A?A.p(ne,fe):(A=jl(ne),A.c(),A.m(p,null)):A&&(A.d(1),A=null),ne[3]?y?(y.p(ne,fe),fe[0]&8&&G(y,1)):(y=Bl(ne),y.c(),G(y,1),y.m(g,null)):y&&(Ae(),J(y,1,1,()=>{y=null}),Fe()),(!ce||fe[0]&64)&&M!==(M=((Se=ne[6].currentUser)==null?void 0:Se.name)+"")&&we(V,M);let de=x;x=ie(ne),x===de?~x&&L[x].p(ne,fe):(j&&(Ae(),J(L[de],1,1,()=>{L[de]=null}),Fe()),~x?(j=L[x],j?j.p(ne,fe):(j=L[x]=F[x](ne),j.c()),G(j,1),j.m(W,null)):j=null),ne[7].showWorkOrderModal?H?(H.p(ne,fe),fe[0]&128&&G(H,1)):(H=Wl(ne),H.c(),G(H,1),H.m(t,ue)):H&&(Ae(),J(H,1,1,()=>{H=null}),Fe()),ne[0]?le?(le.p(ne,fe),fe[0]&1&&G(le,1)):(le=Kl(ne),le.c(),G(le,1),le.m(t,null)):le&&(Ae(),J(le,1,1,()=>{le=null}),Fe())},i(ne){ce||(G(n.$$.fragment,ne),G(y),G(j),G(H),G(le),ce=!0)},o(ne){J(n.$$.fragment,ne),J(y),J(j),J(H),J(le),ce=!1},d(ne){ne&&O(t),ye(n),re&&re.d(),A&&A.d(),y&&y.d(),~x&&L[x].d(),H&&H.d(),le&&le.d(),me=!1,De(N)}}}function Vs(e){let t,n;return t=new tr({}),{c(){Re(t.$$.fragment)},m(l,o){ke(t,l,o),n=!0},p:se,i(l){n||(G(t.$$.fragment,l),n=!0)},o(l){J(t.$$.fragment,l),n=!1},d(l){ye(t,l)}}}function Ns(e){let t;return{c(){t=B("Gestión de Aceites")},m(n,l){T(n,t,l)},d(n){n&&O(t)}}}function zs(e){let t;return{c(){t=B("Consolidado de Maquinaria")},m(n,l){T(n,t,l)},d(n){n&&O(t)}}}function Hs(e){let t;return{c(){t=B("Gestión de Órdenes de Trabajo")},m(n,l){T(n,t,l)},d(n){n&&O(t)}}}function Us(e){let t;return{c(){t=B("Gestión de Máquinas")},m(n,l){T(n,t,l)},d(n){n&&O(t)}}}function Gs(e){let t;return{c(){t=B("Gestión de Usuarios")},m(n,l){T(n,t,l)},d(n){n&&O(t)}}}function qs(e){let t;return{c(){t=B("Panel de Control - Estado de Equipos")},m(n,l){T(n,t,l)},d(n){n&&O(t)}}}function jl(e){let t,n;return{c(){t=h("span"),n=B(e[4]),d(t,"class","notification-badge svelte-83w9dc")},m(l,o){T(l,t,o),u(t,n)},p(l,o){o[0]&16&&we(n,l[4])},d(l){l&&O(t)}}}function Bl(e){let t,n;return t=new Os({props:{messages:e[8]}}),t.$on("delete",e[18]),{c(){Re(t.$$.fragment)},m(l,o){ke(t,l,o),n=!0},p(l,o){const r={};o[0]&256&&(r.messages=l[8]),t.$set(r)},i(l){n||(G(t.$$.fragment,l),n=!0)},o(l){J(t.$$.fragment,l),n=!1},d(l){ye(t,l)}}}function js(e){let t,n;return t=new Cs({}),{c(){Re(t.$$.fragment)},m(l,o){ke(t,l,o),n=!0},p:se,i(l){n||(G(t.$$.fragment,l),n=!0)},o(l){J(t.$$.fragment,l),n=!1},d(l){ye(t,l)}}}function Bs(e){let t,n;return t=new ds({}),{c(){Re(t.$$.fragment)},m(l,o){ke(t,l,o),n=!0},p:se,i(l){n||(G(t.$$.fragment,l),n=!0)},o(l){J(t.$$.fragment,l),n=!1},d(l){ye(t,l)}}}function Ws(e){let t,n;return t=new rs({}),{c(){Re(t.$$.fragment)},m(l,o){ke(t,l,o),n=!0},p:se,i(l){n||(G(t.$$.fragment,l),n=!0)},o(l){J(t.$$.fragment,l),n=!1},d(l){ye(t,l)}}}function Ks(e){let t,n;return t=new Zi({}),{c(){Re(t.$$.fragment)},m(l,o){ke(t,l,o),n=!0},p:se,i(l){n||(G(t.$$.fragment,l),n=!0)},o(l){J(t.$$.fragment,l),n=!1},d(l){ye(t,l)}}}function Xs(e){let t,n;return t=new Hi({}),{c(){Re(t.$$.fragment)},m(l,o){ke(t,l,o),n=!0},p:se,i(l){n||(G(t.$$.fragment,l),n=!0)},o(l){J(t.$$.fragment,l),n=!1},d(l){ye(t,l)}}}function Zs(e){let t,n;return t=new hs({}),t.$on("gridaction",e[12]),t.$on("cellContextMenu",e[11]),{c(){Re(t.$$.fragment)},m(l,o){ke(t,l,o),n=!0},p:se,i(l){n||(G(t.$$.fragment,l),n=!0)},o(l){J(t.$$.fragment,l),n=!1},d(l){ye(t,l)}}}function Wl(e){var l;let t,n;return t=new Ko({props:{rowData:e[7].selectedRowData,columnDef:e[7].selectedColumnDef,currentUser:(l=e[6].currentUser)==null?void 0:l.name}}),t.$on("createWorkOrder",e[13]),t.$on("cancel",e[14]),{c(){Re(t.$$.fragment)},m(o,r){ke(t,o,r),n=!0},p(o,r){var c;const i={};r[0]&128&&(i.rowData=o[7].selectedRowData),r[0]&128&&(i.columnDef=o[7].selectedColumnDef),r[0]&64&&(i.currentUser=(c=o[6].currentUser)==null?void 0:c.name),t.$set(i)},i(o){n||(G(t.$$.fragment,o),n=!0)},o(o){J(t.$$.fragment,o),n=!1},d(o){ye(t,o)}}}function Kl(e){let t,n;return t=new Fs({props:{imageUrls:e[1],isLoading:e[2]}}),t.$on("close",e[16]),{c(){Re(t.$$.fragment)},m(l,o){ke(t,l,o),n=!0},p(l,o){const r={};o[0]&2&&(r.imageUrls=l[1]),o[0]&4&&(r.isLoading=l[2]),t.$set(r)},i(l){n||(G(t.$$.fragment,l),n=!0)},o(l){J(t.$$.fragment,l),n=!1},d(l){ye(t,l)}}}function Js(e){let t,n,l,o,r,i,c,s,a,f,m;document.title=t=(e[4]>0?`(${e[4]})`:"")+" Dashboard Maquinaria";let g=e[5]&&e[6].isAuthenticated&&Ul(e),p=e[7].isSaving&&Gl(),_=e[6].isRefreshing&&ql();const v=[Vs,$s],w=[];function S(C,k){return C[6].isAuthenticated?1:0}return i=S(e),c=w[i]=v[i](e),{c(){n=b(),g&&g.c(),l=b(),p&&p.c(),o=b(),_&&_.c(),r=b(),c.c(),s=tt()},m(C,k){T(C,n,k),g&&g.m(C,k),T(C,l,k),p&&p.m(C,k),T(C,o,k),_&&_.m(C,k),T(C,r,k),w[i].m(C,k),T(C,s,k),a=!0,f||(m=I(Ts,"click",e[20]),f=!0)},p(C,k){(!a||k[0]&16)&&t!==(t=(C[4]>0?`(${C[4]})`:"")+" Dashboard Maquinaria")&&(document.title=t),C[5]&&C[6].isAuthenticated?g?g.p(C,k):(g=Ul(C),g.c(),g.m(l.parentNode,l)):g&&(g.d(1),g=null),C[7].isSaving?p?k[0]&128&&G(p,1):(p=Gl(),p.c(),G(p,1),p.m(o.parentNode,o)):p&&(Ae(),J(p,1,1,()=>{p=null}),Fe()),C[6].isRefreshing?_?k[0]&64&&G(_,1):(_=ql(),_.c(),G(_,1),_.m(r.parentNode,r)):_&&(Ae(),J(_,1,1,()=>{_=null}),Fe());let D=i;i=S(C),i===D?w[i].p(C,k):(Ae(),J(w[D],1,1,()=>{w[D]=null}),Fe(),c=w[i],c?c.p(C,k):(c=w[i]=v[i](C),c.c()),G(c,1),c.m(s.parentNode,s))},i(C){a||(G(p),G(_),G(c),a=!0)},o(C){J(p),J(_),J(c),a=!1},d(C){C&&(O(n),O(l),O(o),O(r),O(s)),g&&g.d(C),p&&p.d(C),_&&_.d(C),w[i].d(C),f=!1,m()}}}function Qs(e,t,n){let l,o,r,i,c;dt(e,qn,A=>n(4,l=A)),dt(e,Ut,A=>n(6,r=A)),dt(e,ht,A=>n(7,i=A)),dt(e,rn,A=>n(8,c=A));let s,a=Ct(!0);dt(e,a,A=>n(5,o=A));let f,m,g,p,_=!1,v=[],w=!1,S=!1;Jl(async()=>{if(await Ut.checkAuth()){const y=_t(ht).currentView;ue(y)}}),Ut.subscribe(A=>{A.isAuthenticated?($(),W(),x(),j()):Q()}),Nn(()=>{Q()});function C(A){const y=A.detail;ht.setCurrentView(y),ue(y)}function k(A){var L,ie;const{row:y,columnDef:F}=A.detail;((L=F.meta)!=null&&L.isStatus||(ie=F.meta)!=null&&ie.isDateStatus)&&ht.openWorkOrderModal(y,F)}function D(A){const{type:y,data:F}=A.detail;y==="view_images"&&F&&F.id&&ce(F.id)}async function M(A){ht.setSaving(!0);try{await ve.createWorkOrder(A.detail),ht.closeWorkOrderModal()}catch(y){console.error("Error creating work order:",y),Nt({id:Date.now(),text:`Error al crear orden: ${y.message}`})}finally{ht.setSaving(!1)}}function V(){ht.closeWorkOrderModal()}function E(){if(s)a.set(!1);else try{s=new(window.AudioContext||window.webkitAudioContext),a.set(!1),console.log("Contexto de audio activado por el usuario.")}catch{console.error("Web Audio API no es soportada en este navegador."),a.set(!1)}}function z(){if(!s){console.warn("El audio debe ser activado por un gesto del usuario.");return}s.state==="suspended"&&s.resume();const A=s.currentTime,y=s.createOscillator(),F=s.createGain();y.connect(F),F.connect(s.destination),y.type="sine",y.frequency.setValueAtTime(800,A),y.frequency.linearRampToValueAtTime(600,A+.15),F.gain.setValueAtTime(0,A),F.gain.linearRampToValueAtTime(.4,A+.02),F.gain.exponentialRampToValueAtTime(1e-4,A+.25),y.start(A),y.stop(A+.25)}function $(){f&&(f.close(),f=null);const A="http://localhost:8080",y=localStorage.getItem("accessToken");if(!y){console.warn("No se puede conectar al stream: falta la URL base o el token.");return}const F=`${A}/inspections/stream`;f=new Qt.EventSourcePolyfill(F,{headers:{Authorization:`Bearer ${y}`}}),f.onopen=()=>console.log("✅ Conectado al stream de notificaciones de inspecciones."),f.onmessage=L=>{if(L.data==="stream_open"){console.log("Notificaciones de inspecciones: ✅");return}try{const H=JSON.parse(L.data),le=H.machine?`${H.machine.name} ${H.machine.model}`:"una máquina";if(Nt({id:H.UUID||Date.now(),text:`¡IMPREVISTO EN ${le}!`}),z(),_t(ht).currentView==="dashboard"){const ne=_t(ve).dashboard;ve.fetchDashboardData(ne.currentPage,ne.pageSize)}}catch(H){console.error("Error procesando mensaje del stream:",H)}},f.onerror=L=>{console.error("Error en la conexión con el stream de inspecciones. Se cerrará la conexión.",L),f.close()}}function W(){m&&(m.close(),m=null);const A="http://localhost:8080",y=localStorage.getItem("accessToken");if(!y){console.warn("No se puede conectar al stream: falta la URL base o el token.");return}const F=`${A}/new-data/notifications/stream`;m=new Qt.EventSourcePolyfill(F,{headers:{Authorization:`Bearer ${y}`}}),m.onopen=()=>console.log("✅ Conectado al stream de actualización de datos."),m.onmessage=L=>{const ie=L.data;if(ie==="stream_open"){console.log("Notificaciones de actualización: ✅");return}const H=_t(ht).currentView,le=_t(ve);switch(console.log(`Mensaje de actualización recibido: ${ie}, vista actual: ${H}`),ie){case"inspections-updated":H==="dashboard"&&(console.log("Recargando tabla de inspecciones..."),ve.fetchDashboardData(le.dashboard.currentPage,le.dashboard.pageSize));break;case"machines-updated":H==="machines"&&(console.log("Recargando tabla de máquinas..."),ve.fetchMachines());break;case"users-updated":H==="users"&&(console.log("Recargando tabla de usuarios..."),ve.fetchUsers());break;case"orders-updated":H==="work-orders"&&(console.log("Recargando tabla de órdenes de trabajo..."),ve.fetchWorkOrders(le.workOrders.currentPage,le.workOrders.pageSize));break;case"oil-changes-updated":H==="consolidado"&&(console.log("Recargando tabla de consolidado..."),ve.fetchConsolidatedData());break}},m.onerror=L=>{console.error("Error en la conexión con el stream de actualización. Se cerrará la conexión.",L),m.close()}}function x(){g&&(g.close(),g=null);const A="http://localhost:8080",y=localStorage.getItem("accessToken");if(!y){console.warn("No se puede conectar al stream SOAT/RUNT: falta la URL base o el token.");return}const F=`${A}/soat/runt/notifications/stream`;g=new Qt.EventSourcePolyfill(F,{headers:{Authorization:`Bearer ${y}`}}),g.onopen=()=>console.log("✅ Conectado al stream de notificaciones SOAT/RUNT."),g.onmessage=L=>{if(L.data==="stream_open"){console.log("Notificaciones SOAT/RUNT: ✅");return}try{const H=JSON.parse(L.data);Nt({id:H.id||Date.now(),text:H.message||"Notificación SOAT/RUNT"})}catch(H){console.error("Error procesando mensaje del stream SOAT/RUNT:",H)}},g.onerror=L=>{console.error("Error en la conexión con el stream SOAT/RUNT. Se cerrará la conexión.",L),g.close()}}function j(){p&&(p.close(),p=null);const A="http://localhost:8080",y=localStorage.getItem("accessToken");if(!y){console.warn("No se puede conectar al stream de cambios de aceite: falta la URL base o el token.");return}const F=`${A}/oil_change/notifications/stream`;p=new Qt.EventSourcePolyfill(F,{headers:{Authorization:`Bearer ${y}`}}),p.onopen=()=>console.log("✅ Conectado al stream de notificaciones de cambios de aceite."),p.onmessage=L=>{if(L.data==="stream_open"){console.log("Notificaciones de cambios de aceite: ✅");return}try{const H=JSON.parse(L.data);Nt({id:H.id||Date.now(),text:H.message||"Notificación de cambio de aceite"})}catch(H){console.error("Error procesando mensaje del stream de cambios de aceite:",H)}},p.onerror=L=>{console.error("Error en la conexión con el stream de cambios de aceite. Se cerrará la conexión.",L),p.close()}}function Q(){f&&(f.close(),f=null,console.log("Desconectado del stream de inspecciones.")),m&&(m.close(),m=null,console.log("Desconectado del stream de actualización de datos.")),g&&(g.close(),g=null,console.log("Desconectado del stream SOAT/RUNT.")),p&&(p.close(),p=null,console.log("Desconectado del stream de cambios de aceite."))}const ue=async A=>{try{switch(A){case"dashboard":await ve.fetchDashboardData();break;case"users":await ve.fetchUsers();break;case"machines":await ve.fetchMachines();break;case"work-orders":await ve.fetchWorkOrders();break;case"consolidado":await ve.fetchConsolidatedData();break;case"oilManagement":await ve.fetchOils();break}}catch{console.warn("Carga de datos interrumpida por fallo de autenticación (comportamiento esperado).")}};async function ce(A){n(0,_=!0),n(2,w=!0);try{n(1,v=await ve.fetchInspectionImages(A))}catch{n(1,v=[])}finally{n(2,w=!1)}}function me(){n(0,_=!1),n(1,v=[])}function N(){n(3,S=!S)}function X(A){const y=A.detail;xi(y)}function ge(A){at.call(this,e,A)}return[_,v,w,S,l,o,r,i,c,a,C,k,D,M,V,E,me,N,X,ge,()=>n(3,S=!1)]}class Ys extends Be{constructor(t){super(),Ze(this,t,Qs,Js,Ue,{},null,[-1,-1])}}new Ys({target:document.getElementById("app")});
